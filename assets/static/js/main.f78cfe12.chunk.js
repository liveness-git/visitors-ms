(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{440:function(e){e.exports=JSON.parse('{"login.form.email":"Email Address","login.form.password":"Password","login.form.submit":"Log In","login.form.required":"Required","login.form.invalid-pattern":"Invalid pattern"}')},441:function(e){e.exports=JSON.parse('{"common.form.required":"\u5fc5\u9808\u5165\u529b\u3067\u3059\u3002","common.button.ok":"OK","common.button.cancel":"\u30ad\u30e3\u30f3\u30bb\u30eb","common.button.search":"\u691c\u7d22","common.button.save":"\u4fdd\u5b58\u3059\u308b","common.button.delete":"\u524a\u9664\u3059\u308b","common.msg.login-success":"\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f\u3002\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u3002","common.msg.login-failed":"\u30ed\u30b0\u30a4\u30f3\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","common.msg.no-data":"\u8a72\u5f53\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093\u3002","common.msg.fetch-failed":"\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","common.msg.update-success":"\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002","common.msg.update-failed":"\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","common.msg.authority-error":"\u6a29\u9650\u304c\u3042\u308a\u307e\u305b\u3093\u3002","common.msg.prompt-logout":"\u53cd\u6620\u3059\u308b\u305f\u3081\u306b\u306f\u30ed\u30b0\u30a2\u30a6\u30c8\u304c\u5fc5\u8981\u3067\u3059\u3002","common.msg.delete-confirm":"\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","common.error.Invalid-date":"\u65e5\u4ed8\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093","common.error.Invalid-min-date":"\u65e5\u4ed8\u304c\u6700\u5c0f\u65e5\u4ed8\u3092\u4e0b\u56de\u3063\u3066\u3044\u307e\u3059","common.error.Invalid-max-date":"\u65e5\u4ed8\u304c\u6700\u5927\u65e5\u4ed8\u3092\u4e0a\u56de\u3063\u3066\u3044\u307e\u3059","login.form.email":"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9","login.form.password":"\u30d1\u30b9\u30ef\u30fc\u30c9","login.form.submit":"\u30ed\u30b0\u30a4\u30f3","login.form.invalid-pattern":"\u7121\u52b9\u306a\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002","login.msal.login":"Microsoft \u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30ed\u30b0\u30a4\u30f3","visitlist.title":"\u6765\u8a2a\u4e00\u89a7","visittable.header.appt-date-time":"\u4e88\u7d04\u65e5\u6642","visittable.header.appt-time":"\u4e88\u7d04\u6642\u9593","visittable.header.room-name":"\u4f1a\u8b70\u5ba4\u540d","visittable.header.visit-company-name":"\u6765\u8a2a\u793e\u540d","visittable.header.visit-company-rep":"\u4ee3\u8868\u8005\u540d(\u656c\u79f0\u7565)","visittable.header.tea-supply":"\u5448\u8336","visittable.header.number-of-tea-supply":"\u5448\u8336\u7dcf\u6570","visittable.header.tea-details":"\u5448\u8336\u8a73\u7d30","visittable.header.number-of-visitor":"\u6765\u8a2a\u8005\u6570","visittable.header.number-of-employee":"\u5f93\u696d\u54e1\u6570","visittable.header.usage-range":"\u5229\u7528\u7bc4\u56f2","visittable.header.comment":"\u30b3\u30e1\u30f3\u30c8","visittable.header.reservation-name":"\u4e88\u7d04\u8005","visittable.header.contact-addr":"\u9023\u7d61\u5148","visittable.header.check-in":"IN","visittable.header.check-out":"OUT","visittable.header.resource-status":"\u4f1a\u8b70\u5ba4\u72b6\u614b","visittable.header.event-subject":"\u4ef6\u540d","visittable.header.event-mailto-authors":"\u4e88\u7d04\u8005\u304a\u3088\u3073\u7ba1\u7406\u8005","visittable.header.event-mailto-required":"\u5fc5\u9808\u53c2\u52a0\u8005","visittable.header.event-mailto-optional":"\u4efb\u610f\u53c2\u52a0\u8005","visittable.header.event-room":"\u4f1a\u8b70\u5ba4","visittable.header.event-start-time":"\u958b\u59cb\u65e5\u6642","visittable.header.event-end-time":"\u7d42\u4e86\u65e5\u6642","visittable.header.visitor-card-number":"\u30ab\u30fc\u30c9\u756a\u53f7","visittable.header.edit-action":"\u7de8\u96c6","visittable.header.number-of-people":"\u4eba\u6570","visitdialog.view.resource-status-accepted":"\u627f\u8afe","visitdialog.view.resource-status-declined":"\u8f9e\u9000","visitdialog.view.usage-range.outside":"\u793e\u5916\u4f1a\u8b70","visitdialog.view.usage-range.inside":"\u793e\u5185\u4f1a\u8b70","visitdialog.view.tea-supply.number-of-tea-supply":"\u5448","visitdialog.view.tea-supply.number-of-visitor":"\u6765","visitdialog.view.tea-supply.number-of-employee":"\u5f93","visitdialog.title":"\u4e88\u7d04\u60c5\u5831","visitdialog.header.last-updated":"\u6700\u7d42\u66f4\u65b0\u65e5\u6642","visitdialog.notes.multiple-locations":"\u203b\u8907\u6570\u306e\u5834\u6240(\u4f1a\u8b70\u5ba4\u4ee5\u5916\u542b\u3080)\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u4e00\u90e8\u6a5f\u80fd\u306f\u7de8\u96c6\u3067\u304d\u307e\u305b\u3093","visitdialog.notes.loading-rooms":"\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044...","visitdialog.notes.no-relevant-rooms":"\u4e88\u7d04\u53ef\u80fd\u306a\u4f1a\u8b70\u5ba4\u304c\u3042\u308a\u307e\u305b\u3093","visitdialog.notes.reservation-status-declined":"\u4e88\u7d04\u8005\u304c\u3053\u306e\u4e88\u7d04\u3092\u8f9e\u9000\u3057\u3066\u3044\u307e\u3059","visitdialog.notes.reply-status":"\u8fd4\u4fe1\u72b6\u6cc1","visitdialog.notes.user-status-none":"\u306a\u3057","visitdialog.notes.user-status-tentatively-accepted":"\u4eee\u627f\u8afe","visitdialog.notes.user-status-accepted":"\u627f\u8afe","visitdialog.notes.user-status-declined":"\u8f9e\u9000","visitdialog.notes.recurrence-info":"\u30d1\u30bf\u30fc\u30f3","visitdialog.button.add-visitor":"\u6765\u8a2a\u793e\u8ffd\u52a0","visitdialog.button.remove-visitor":"\u5358\u4e00\u6765\u8a2a\u793e","visitdialog.button.save":"\u4e88\u7d04\u306e\u4fdd\u5b58","visitdialog.button.delete":"\u4e88\u7d04\u306e\u524a\u9664","visitdialog.button.check-in":"\u30c1\u30a7\u30c3\u30af\u30a4\u30f3","visitdialog.button.check-out":"\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8","visitdialog.button.set-recurrence":"\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u306b\u3059\u308b","visitdialog.button.edit-recurrence":"\u5b9a\u671f\u7684\u306a\u30d1\u30bf\u30fc\u30f3\u306e\u7de8\u96c6","visitdialog.form.tea-supply-yes":"\u3042\u308a","visitdialog.form.tea-supply-no":"\u306a\u3057","visitdialog.form.visitor-card-number":"\u30ab\u30fc\u30c9\u756a\u53f7","visitdialog.form.visitor-card-number-placeholder":"\u30ab\u30fc\u30c9\u756a\u53f7\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","visitdialog.form.error.event-time":"\u65e5\u6642\u306e\u95a2\u4fc2\u6027\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059","visitdialog.form.error.available-time":"\u4f1a\u8b70\u5ba4\u304c\u7a7a\u3044\u3066\u3044\u307e\u305b\u3093","visitdialog.form.error.room-not-covered":"\u4f1a\u8b70\u5ba4\u3092\u9078\u629e\u3057\u306a\u304a\u3057\u3066\u304f\u3060\u3055\u3044","visitdialog.form.error.number-of-tea-supply":"\u5448\u8336\u7dcf\u6570\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093","visitdialog.form.error.recurrence.has-no-occurrence":"\u7e70\u308a\u8fd4\u3057\u306b\u6307\u5b9a\u3055\u308c\u305f\u7bc4\u56f2\u306b\u767a\u751f\u65e5\u304c\u3042\u308a\u307e\u305b\u3093","auto-complete.no-options-text":"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u307e\u305f\u306f\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","recurrence-dialog.title":"\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u306e\u8a2d\u5b9a","recurrence-dialog.button.release-recurrence":"\u5b9a\u671f\u7684\u306a\u8a2d\u5b9a\u3092\u89e3\u9664","recurrence-dialog.confirm-message-1":"\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u306e\u4e00\u90e8\u306b\u3001\u7279\u5b9a\u306e\u5909\u66f4\u3082\u3057\u304f\u306f\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u6e08\u307f\u306e\u4e88\u7d04\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002","recurrence-dialog.confirm-message-2":"\u305d\u308c\u3089\u306e\u5185\u5bb9\u306f\u5168\u3066\u53d6\u308a\u6d88\u3055\u308c\u3001\u518d\u3073\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u3068\u3057\u3066\u4f5c\u6210\u3055\u308c\u307e\u3059\u304c\u5b9c\u3057\u3044\u3067\u3059\u304b\uff1f","recurrence-dialog.header.appt-date-time":"\u958b\u59cb\u65e5\u6642","recurrence-dialog.header.pattern.type":"\u30d1\u30bf\u30fc\u30f3\u306e\u8a2d\u5b9a","recurrence-dialog.header.pattern.interval":"\u9593\u9694","recurrence-dialog.header.pattern.days-of-week":"\u66dc\u65e5","recurrence-dialog.header.pattern.day-of-month":"\u65e5\u4ed8","recurrence-dialog.header.pattern.index":"\u9031\u6570","recurrence-dialog.header.pattern.month":"\u6708","recurrence-dialog.header.range.type":"\u671f\u9593\u306e\u8a2d\u5b9a","recurrence-dialog.header.range.start-date":"\u958b\u59cb\u65e5","recurrence-dialog.header.range.end-date":"\u7d42\u4e86\u65e5","recurrence-dialog.header.range.number-of-occurrences":"\u53cd\u5fa9\u56de\u6570","recurrence-dialog.label.pattern.interval.daily":"\u65e5\u3054\u3068","recurrence-dialog.label.pattern.interval.weekly":"\u9031\u3054\u3068","recurrence-dialog.label.pattern.interval.absoluteMonthly":"\u304b\u6708\u3054\u3068","recurrence-dialog.label.pattern.interval.relativeMonthly":"\u304b\u6708\u3054\u3068","recurrence-dialog.label.pattern.interval.absoluteYearly":"\u5e74\u3054\u3068","recurrence-dialog.label.pattern.interval.relativeYearly":"\u5e74\u3054\u3068","recurrence-dialog.label.pattern.day-of-month.absolute":"\u65e5\u306b\u8a2d\u5b9a","recurrence-dialog.label.pattern.day-of-month.relative":"\u306b\u8a2d\u5b9a","recurrence-dialog.error.event-time":"\u65e5\u6642\u306e\u95a2\u4fc2\u6027\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059","recurrence-dialog.error.range.end-date":"\u958b\u59cb\u65e5\u3092\u4e0b\u56de\u3063\u3066\u3044\u307e\u3059","recurrence-dialog.error.range.end-date.max":"\u6700\u9577\u671f\u9593\uff15\u5e74\u3067\u3059","recurrence-dialog.pattern.type.daily":"\u65e5","recurrence-dialog.pattern.type.weekly":"\u9031","recurrence-dialog.pattern.type.absoluteMonthly":"\u6708\uff08\u65e5\u6307\u5b9a\uff09","recurrence-dialog.pattern.type.relativeMonthly":"\u6708\uff08\u66dc\u65e5\u6307\u5b9a\uff09","recurrence-dialog.pattern.type.absoluteYearly":"\u5e74\uff08\u65e5\u6307\u5b9a\uff09","recurrence-dialog.pattern.type.relativeYearly":"\u5e74\uff08\u66dc\u65e5\u6307\u5b9a\uff09","recurrence-dialog.pattern.day-of-week.sunday":"\u65e5\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.monday":"\u6708\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.tuesday":"\u706b\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.wednesday":"\u6c34\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.thursday":"\u6728\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.friday":"\u91d1\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.saturday":"\u571f\u66dc\u65e5","recurrence-dialog.pattern.index.first":"\u7b2c\uff11","recurrence-dialog.pattern.index.second":"\u7b2c\uff12","recurrence-dialog.pattern.index.third":"\u7b2c\uff13","recurrence-dialog.pattern.index.fourth":"\u7b2c\uff14","recurrence-dialog.pattern.index.last":"\u6700\u7d42","recurrence-dialog.pattern.month.1":"1\u6708","recurrence-dialog.pattern.month.2":"2\u6708","recurrence-dialog.pattern.month.3":"3\u6708","recurrence-dialog.pattern.month.4":"4\u6708","recurrence-dialog.pattern.month.5":"5\u6708","recurrence-dialog.pattern.month.6":"6\u6708","recurrence-dialog.pattern.month.7":"7\u6708","recurrence-dialog.pattern.month.8":"8\u6708","recurrence-dialog.pattern.month.9":"9\u6708","recurrence-dialog.pattern.month.10":"10\u6708","recurrence-dialog.pattern.month.11":"11\u6708","recurrence-dialog.pattern.month.12":"12\u6708","recurrence-info.pattern.interval.every-day":"\u6bce\u65e5","recurrence-info.pattern.interval.every-week":"\u6bce\u9031","recurrence-info.pattern.interval.every-month":"\u6bce\u6708","recurrence-info.pattern.interval.every-year":"\u6bce\u5e74","recurrence-info.pattern.interval.day":"\u65e5\u3054\u3068","recurrence-info.pattern.interval.week":"\u9031\u3054\u3068","recurrence-info.pattern.interval.month":"\u304b\u6708\u3054\u3068","recurrence-info.pattern.interval.year":"\u5e74\u3054\u3068","recurrence-info.pattern.day-of-month":"\u65e5","recurrence-info.range.to":"\u304b\u3089","recurrence-info.range.valid-from":"\u307e\u3067\u6709\u52b9","visitorinfoform.title":"\u6765\u8a2a\u60c5\u5831","visitorinfoform.delete-confirm-title":"\u6765\u8a2a\u60c5\u5831\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","visitorinfoform.delete-confirm-message":"\u4e88\u7d04\u60c5\u5831\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","visitorinfoform.delete-confirm-message.series-master":"\u5b9a\u671f\u7684\u306a\u4e88\u7d04\u3092\u5168\u3066\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","visitorinfoform.recurrence-confirm-title":"\u5b9a\u671f\u7684\u306a\u30a2\u30a4\u30c6\u30e0\u3092\u958b\u304f","visitorinfoform.recurrence-confirm-message":"\u3053\u308c\u306f\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u3067\u3059\u3002\u3069\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u958b\u304d\u307e\u3059\u304b\uff1f","visitorinfoform.recurrence-radio-instances":"\u3053\u306e\u56de\u306e\u307f","visitorinfoform.recurrence-radio-master":"\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u5168\u4f53","visitorinfolist.title":"\u6765\u8a2a\u4e00\u89a7","export-csv.title":"\u6765\u8a2a\u60c5\u5831 CSV\u51fa\u529b","export-csv.start-date":"\u958b\u59cb\u65e5","export-csv.end-date":"\u7d42\u4e86\u65e5","export-csv.button.export-csv":"CSV\u51fa\u529b","export-csv.form.error.event-time":"\u65e5\u4ed8\u306e\u95a2\u4fc2\u6027\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059","export-csv.msg.export-success":"CSV\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3057\u307e\u3057\u305f\u3002","export-csv.msg.export-failed":"CSV\u30d5\u30a1\u30a4\u30eb\u306e\u51fa\u529b\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","export-csv.file.header.category":"\u30ab\u30c6\u30b4\u30ea","export-csv.file.header.appt-time":"\u4e88\u7d04\u6642\u9593","export-csv.file.header.room-name":"\u4f1a\u8b70\u5ba4\u540d","export-csv.file.header.tea-supply":"\u5448\u8336","export-csv.file.header.number-of-tea-supply":"\u5448\u8336\u7dcf\u6570","export-csv.file.header.tea-details":"\u5448\u8336\u8a73\u7d30","export-csv.file.header.number-of-visitor":"\u6765\u8a2a\u8005\u6570","export-csv.file.header.number-of-employee":"\u5f93\u696d\u54e1\u6570","export-csv.file.header.visit-company":"\u6765\u8a2a\u793e\u540d / \u4ee3\u8868\u8005\u540d(\u656c\u79f0\u7565)","export-csv.file.header.check-in":"\u30a4\u30f3","export-csv.file.header.visitor-card-number":"\u30ab\u30fc\u30c9\u756a\u53f7","export-csv.file.header.check-out":"\u30a2\u30a6\u30c8","export-csv.file.header.reservation-name":"\u4e88\u7d04\u8005","export-csv.file.header.contact-addr":"\u9023\u7d61\u5148","export-csv.file.header.subject":"\u4ef6\u540d","export-csv.file.header.comment":"\u30b3\u30e1\u30f3\u30c8","export-csv.file.tea-supply-yes":"\u3042\u308a","export-csv.file.tea-supply-no":"\u306a\u3057","main.menu.created-visit-info":"\u81ea\u5206\u306e\u4f1a\u8b70\u4e88\u7d04","main.menu.by-meeting-room":"\u4f1a\u8b70\u5ba4\u5225","main.menu.front":"\u53d7\u4ed8","main.menu.settings":"\u8a2d\u5b9a","main.menu.settings.role":"\u30ed\u30fc\u30eb","main.menu.settings.location":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3","main.menu.settings.category":"\u30ab\u30c6\u30b4\u30ea","main.menu.settings.room":"\u4f1a\u8b70\u5ba4","main.menu.refresh":"\u66f4\u65b0","main.menu.logout":"\u30ed\u30b0\u30a2\u30a6\u30c8","main.header.picker-label":"\u9078\u629e\u65e5","main.header.add-event":"\u65b0\u898f\u4f5c\u6210","main.header.export-csv":"CSV\u51fa\u529b","main.visitlist.title":"","main.visitlist.subtitle":"\u81ea\u8eab\u304c\u53c2\u52a0\u4e88\u5b9a\u306e\uff11\u304b\u6708\u5206\u306e\u4e88\u7d04\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002","main.visitlist.subtitle.created-only":"\u81ea\u8eab\u304c\u53c2\u52a0\u4e88\u5b9a\u306e\uff11\u304b\u6708\u5206\u306e\u4e88\u7d04\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002","main.byroom.title":"","main.byroom.subtitle":"\u4f1a\u8b70\u5ba4\u5225\u306e\u4e88\u7d04\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002","main.byroom-weekly.title":"","main.byroom-weekly.subtitle":"\uff11\u9031\u9593\u306e\u4e88\u7d04\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002","main.front.title":"","main.front.subtitle":"\u53d7\u4ed8\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002","settings.title.role":"\u30ed\u30fc\u30eb\u8a2d\u5b9a","settings.title.location":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u8a2d\u5b9a","settings.title.category":"\u30ab\u30c6\u30b4\u30ea\u8a2d\u5b9a","settings.title.room":"\u4f1a\u8b70\u5ba4\u8a2d\u5b9a","settings.add-master":"\u65b0\u898f\u4f5c\u6210","settings.header.role.name":"\u30ed\u30fc\u30eb\u540d","settings.header.role.members":"\u30e1\u30f3\u30d0\u30fc","settings.header.location.name":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u540d","settings.header.location.url":"url\u30d1\u30b9\u540d","settings.header.location.sort":"\u8868\u793a\u9806","settings.header.category.name":"\u30ab\u30c6\u30b4\u30ea\u540d","settings.header.category.sort":"\u8868\u793a\u9806","settings.header.category.limited-public":"\u9650\u5b9a\u516c\u958b","settings.header.category.members":"\u30e1\u30f3\u30d0\u30fc","settings.header.category.disabled-by-room":"\u4f1a\u8b70\u5ba4\u5225\u975e\u8868\u793a","settings.header.room.name":"\u4f1a\u8b70\u5ba4\u540d","settings.header.room.email":"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9","settings.header.room.type":"\u7a2e\u5225","settings.header.room.usage-range":"\u5229\u7528\u7bc4\u56f2","settings.header.room.sort":"\u8868\u793a\u9806","settings.header.room.tea-supply":"\u5448\u8336\u9078\u629e","settings.header.room.tea-supply.outside":"\u793e\u5916\u7528\uff1a\u5448\u8336\u9078\u629e","settings.header.room.tea-supply.inside":"\u793e\u5185\u7528\uff1a\u5448\u8336\u9078\u629e","settings.header.room.members":"\u30e1\u30f3\u30d0\u30fc","settings.header.room.location":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3","settings.header.room.category":"\u30ab\u30c6\u30b4\u30ea","settings.header.room.comment":"\u30b3\u30e1\u30f3\u30c8","settings.header.room.cleaning-option":"\u6e05\u6383\u30aa\u30d7\u30b7\u30e7\u30f3","settings.view.role.name.admin":"\u7ba1\u7406\u8005","settings.view.role.name.front":"\u30d5\u30ed\u30f3\u30c8","settings.view.room.type.rooms":"\u4f1a\u8b70\u5ba4","settings.view.room.type.free":"\u30d5\u30ea\u30fc\u30b9\u30da\u30fc\u30b9","settings.view.room.usage-range.none":"\u5236\u9650\u306a\u3057","settings.view.room.usage-range.outside":"\u793e\u5916\u7528","settings.view.room.usage-range.inside":"\u793e\u5185\u7528","settings.view.room.tea-supply.outside":"\u793e\u5916\uff1a","settings.view.room.tea-supply.inside":"\u793e\u5185\uff1a","settings.view.room.tea-supply-true":"\u3042\u308a","settings.view.room.tea-supply-false":"\u306a\u3057","settings.form.common.error.association":"\u4ed6\u306e\u8a2d\u5b9a\u3067\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u524a\u9664\u3067\u304d\u307e\u305b\u3093\u3002","settings.form.role.error.name.unique":"\u3053\u306e\u30ed\u30fc\u30eb\u306f\u65e2\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002","settings.form.location.error.url.unique":"\u3053\u306eurl\u306f\u65e2\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002","settings.form.location.error.url.pattern":"\u534a\u89d2\u306e\u5c0f\u6587\u5b57\u82f1\u6570\u5b57\u306e\u307f\u5165\u529b\u3067\u304d\u307e\u3059\u3002","settings.form.room.error.email.unique":"\u3053\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u65e2\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002","settings.form.room.error.email.pattern":"\u7121\u52b9\u306a\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002"}')},601:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(25),c=a.n(i),o=a(640),s=a(120),l=a(400),d=a.n(l),u={light:"#336bbd",main:"#0046AD",dark:"#003179",contrastText:"#fff"},j=Object(s.b)({palette:{primary:u,secondary:d.a},typography:{button:{textTransform:"none"}},props:{MuiTextField:{variant:"outlined"}},mixins:{toolbar:{minHeight:50}},overrides:{MuiTooltip:{tooltip:{fontSize:"1em"}}}}),b=a(641),m=a(50),p=a(47),O=a(12),h=a.n(O),f=a(21),g=a(9),x=a(659),v=a(630),y=a(657),k=a(59),w=a(124),C=a(296),D=a(631),S=a(629),T=a(1);function N(){return Object(T.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Version 1.0.3 - Copyright \xa9 ",Object(T.jsx)(S.a,{color:"inherit",href:"https://www.liveness.co.jp/",children:"liveness, Inc."})," ",(new Date).getFullYear(),"."]})}var M=a(62),I=a(446),R=a(363),E=Object(M.a)((function(e){return{root:{zIndex:e.zIndex.tooltip+1,color:"#fff"}}}));function F(e){var t=E();return Object(T.jsx)(I.a,{className:t.root,open:e.open,children:Object(T.jsx)(R.a,{color:"inherit"})})}var P=function(){return Object(M.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))},L=new Map;function B(e){return V.apply(this,arguments)}function V(){return(V=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.prev=3,e.next=6,a.json();case 6:a.parsedBody=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:if(a.ok){e.next=14;break}throw console.error("Server Error: ",null===(n=a.parsedBody)||void 0===n?void 0:n.body),new Error(a.statusText);case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function A(e){return W.apply(this,arguments)}function W(){return W=Object(f.a)(h.a.mark((function e(t){var a,n,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:void 0,n=r.length>2&&void 0!==r[2]?r[2]:{method:"get",signal:a?Y(a):null},e.next=4,B(new Request(t,n));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function H(e,t){return q.apply(this,arguments)}function q(){return q=Object(f.a)(h.a.mark((function e(t,a){var n,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>2&&void 0!==r[2]?r[2]:{method:"post",body:JSON.stringify(a)},e.next=3,B(new Request(t,n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}function z(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CANCELLED";null===(t=L.get(e))||void 0===t||null===(a=t.abort)||void 0===a||a.call(t,n)}function Y(e){z(e);var t=new AbortController;return L.set(e,t),t.signal}var K="liveness-visitor-temp",U="liveness-visitor-user",J=function(e){sessionStorage.setItem(U,e)},G="liveness-visitor-reload",_=function(e,t){var a=JSON.parse(sessionStorage.getItem(G));a[e]=t,sessionStorage.setItem(G,JSON.stringify(a))},$=function(e){return JSON.parse(sessionStorage.getItem(G))[e]},Z="liveness-visitor-reload-flg",X=function(){return sessionStorage.getItem(Z)},Q=function(){sessionStorage.removeItem(Z)},ee=function(){sessionStorage.removeItem(U),sessionStorage.removeItem(G),Q()},te=P();function ae(){var e=Object(x.a)().t,t=te(),a=Object(p.h)(),r=Object(n.useState)(!1),i=Object(g.a)(r,2),c=i[0],o=i[1],s=function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),n=a.params.location,sessionStorage.setItem(K,n),e.next=5,A("/oauth/signin");case 5:(t=e.sent).parsedBody&&(window.location.href=t.parsedBody.url),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}var n}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(T.jsx)(F,{open:c}),Object(T.jsxs)("div",{className:t.paper,children:[Object(T.jsx)(y.a,{className:t.avatar,children:Object(T.jsx)(D.a,{})}),Object(T.jsx)(k.a,{component:"h1",variant:"h5",children:"LIVENESS Visitors for Microsoft"}),Object(T.jsx)(w.a,{onClick:s,fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:e("login.msal.login")})]}),Object(T.jsx)(C.a,{mt:8,children:Object(T.jsx)(N,{})})]})}var ne=a(7),re=a(632),ie=a(653);function ce(e){return Object(T.jsx)(ie.a,Object(ne.a)({elevation:6,variant:"filled"},e))}var oe=function(e,t){switch(t.type){case"hide":return Object(ne.a)(Object(ne.a)({},e),{},{open:!1});case"success":case"info":case"warning":case"error":return Object(ne.a)(Object(ne.a)({},e),{},{open:!0,severity:t.type,message:t.message});default:return e}};function se(e){var t=e.severity,a=e.message,n=e.open,r=e.onClose;return Object(T.jsx)(re.a,{open:n,autoHideDuration:1500,onClose:r,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(T.jsx)(ce,{onClose:r,severity:t,children:a})})}var le=Object(n.createContext)({});function de(e){var t=e.children,a=Object(n.useReducer)(oe,{severity:"info",message:"",open:!1}),r=Object(g.a)(a,2),i=r[0],c=r[1];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(se,Object(ne.a)(Object(ne.a)({},i),{},{onClose:function(e,t){"clickaway"!==t&&c({type:"hide"})}})),Object(T.jsx)(le.Provider,{value:{state:i,dispatch:c},children:t})]})}var ue=P();function je(){return Object(T.jsx)(de,{children:Object(T.jsx)(be,{})})}function be(){var e=ue(),t=Object(x.a)().t,a=Object(n.useContext)(le),r=Object(n.useState)(!0),i=Object(g.a)(r,2),c=i[0],o=i[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(f.a)(h.a.mark((function e(){var n,r,i,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=window.location.search,e.next=4,A("/oauth/callback"+n);case 4:if(!(r=e.sent).parsedBody){e.next=18;break}if(o(!1),r.parsedBody.ok?a.dispatch({type:"success",message:t("common.msg.login-success")}):a.dispatch({type:"error",message:t("common.msg.login-failed")}),i=sessionStorage.getItem(K),sessionStorage.removeItem(K),i&&"undefined"!==i){e.next=15;break}return e.next=13,A("/location/first");case 13:(c=e.sent).parsedBody&&(i=c.parsedBody.url);case 15:s="/".concat(i,"/main"),"undefined"===i&&(s="/settings/location"),setTimeout((function(){window.location.replace(s)}),1500);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(T.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(T.jsx)(F,{open:c}),Object(T.jsxs)("div",{className:e.paper,children:[Object(T.jsx)(y.a,{className:e.avatar,children:Object(T.jsx)(D.a,{})}),Object(T.jsx)(k.a,{component:"h1",variant:"h5",children:"LIVENESS Visitors for Microsoft"})]}),Object(T.jsx)(C.a,{mt:8,children:Object(T.jsx)(N,{})})]})}var me=a(156),pe=a(3),Oe=a(153),he=a(79),fe=a(634),ge=a(298),xe=a(609),ve=a(636),ye=a(234),ke=a.n(ye),we=a(175),Ce=a(610),De=a(637),Se=a(639),Te=a(218),Ne=a(366),Me=a(367),Ie=a(638),Re=a(635),Ee=a(403),Fe=a.n(Ee),Pe=a(405),Le=a.n(Pe),Be=a(406),Ve=a.n(Be),Ae=a(407),We=a.n(Ae),He=a(408),qe=a.n(He),ze=a(409),Ye=a.n(ze),Ke=a(410),Ue=a.n(Ke),Je=a(411),Ge=a.n(Je),_e=a(297),$e=a(302);function Ze(e,t,a){var r=Object(n.useState)(e),i=Object(g.a)(r,2),c=i[0],o=i[1],s=Object(n.useState)(t),l=Object(g.a)(s,2),d=l[0],u=l[1],j=Object(n.useState)(!1),b=Object(g.a)(j,2),m=b[0],p=b[1],O=Object(n.useState)(!1),x=Object(g.a)(O,2),v=x[0],y=x[1];Object(n.useEffect)((function(){p(!1)}),[d]);var k=Object(n.useCallback)(Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:return y(!1),p(!0),e.prev=4,e.next=7,A(c,a);case 7:(t=e.sent).parsedBody&&u(t.parsedBody),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),y(!0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,11]])}))),[c,a]),w=Object(n.useCallback)(Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k());case 1:case"end":return e.stop()}}),e)}))),[k]);return Object(n.useEffect)((function(){k()}),[k]),[{data:d,isLoading:m,isError:v},w,o]}function Xe(){var e=Ze("/location/choices",[]),t=Object(g.a)(e,1)[0].data,a=Object(p.g)(),r=Object(p.h)(),i=Object(n.useState)(r.params.location),c=Object(g.a)(i,2),o=c[0],s=c[1];return t&&0!==t.length?Object(T.jsx)(_e.a,{color:"primary",margin:"dense",size:"small",children:Object(T.jsx)($e.a,{style:{color:"white"},value:o,onChange:function(e){s(e.target.value);var t=r.path.replace(/:location/i,e.target.value);a.push(t)},children:t.map((function(e){return Object(T.jsx)(Ne.a,{value:e.url,children:e.name},e.url)}))})}):Object(T.jsx)(T.Fragment,{})}var Qe=Object(M.a)((function(e){return Object(Oe.a)({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:230,width:"calc(100% - ".concat(230,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},toolbar:{paddingRight:24},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},location:{color:"white"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:230,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},drawerCloseIcon:Object(ne.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),calendarHidden:{display:"none"},pageTitle:{marginBottom:e.spacing(1)},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},link:{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},nested:{paddingLeft:e.spacing(10)}})})),et=Object(n.createContext)({}),tt=function(e){var t=e.children,a=e.adminMode,i=e.frontMode,c=e.menuOpen,o=Object(x.a)().t,s=Qe(),l=Object(p.h)(),d=Object(n.useState)(!!c),u=Object(g.a)(d,2),j=u[0],b=u[1],O=Object(n.useState)(!0),y=Object(g.a)(O,2),w=y[0],D=y[1];Object(n.useEffect)((function(){j||D(!1)}),[j]);var S=r.a.useState(null),M=Object(g.a)(S,2),I=M[0],R=M[1],E=Boolean(I),F=function(){R(null)},P=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A("/oauth/signout");case 3:e.sent.ok&&(ee(),window.location.href="/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),L={signedIn:!1,email:"",name:"",isAdmin:!1,isFront:!1,contactAddr:void 0},B=Object(n.useReducer)((function(e,t){switch(t.type){case"signedIn":return{signedIn:!0,email:t.user.email,name:t.user.name,isAdmin:t.user.isAdmin,isFront:t.user.isFront,contactAddr:t.user.contactAddr};case"signedOut":return L;default:return e}}),L),V=Object(g.a)(B,2),W=V[0],H=V[1],q=Object(n.useCallback)(Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=sessionStorage.getItem(U))){e.next=7;break}a=JSON.parse(t),H({type:"signedIn",user:a}),e.next=11;break;case 7:return e.next=9,A("/user/me");case 9:(n=e.sent).parsedBody?(r=n.parsedBody,J(JSON.stringify(r)),H({type:"signedIn",user:r})):(ee(),H({type:"signedOut"}),console.log("Failed to retrieve email"));case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),ee(),window.location.href="/login";case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),[]);Object(n.useEffect)((function(){q()}),[q]),Object(n.useEffect)((function(){X()||sessionStorage.setItem(G,"{}")}),[]);var z=t,Y=Object(T.jsx)(T.Fragment,{children:o("common.msg.authority-error")});return a&&!W.isAdmin&&(z=Y),i&&!W.isFront&&(z=Y),W.signedIn?Object(T.jsx)(et.Provider,{value:{userStorage:W,dispatch:H},children:Object(T.jsx)(de,{children:Object(T.jsxs)("div",{className:s.root,children:[Object(T.jsx)(fe.a,{position:"absolute",className:Object(pe.a)(s.appBar,j&&s.appBarShift),children:Object(T.jsxs)(ge.a,{className:s.toolbar,children:[Object(T.jsx)(we.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){b(!0)},className:Object(pe.a)(s.menuButton,j&&s.menuButtonHidden),children:Object(T.jsx)(Fe.a,{})}),Object(T.jsx)(k.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:s.title,children:"LIVENESS Visitors for Microsoft"}),Object(T.jsx)("div",{children:Object(T.jsx)(Xe,{})}),Object(T.jsxs)("div",{children:[Object(T.jsx)(we.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){R(e.currentTarget)},color:"inherit",children:Object(T.jsx)(Re.a,{})}),Object(T.jsxs)(Te.a,{id:"menu-appbar",anchorEl:I,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:E,onClose:F,children:[Object(T.jsx)(Ne.a,{onClick:F,children:W.email}),Object(T.jsx)(Ne.a,{onClick:P,children:o("main.menu.logout")})]})]})]})}),Object(T.jsxs)(he.a,{variant:"permanent",classes:{paper:Object(pe.a)(s.drawerPaper,!j&&s.drawerPaperClose)},open:j,children:[Object(T.jsx)("div",{className:s.drawerCloseIcon,children:Object(T.jsx)(we.a,{onClick:function(){b(!1)},children:Object(T.jsx)(ke.a,{})})}),Object(T.jsx)(ve.a,{}),Object(T.jsxs)(xe.a,{children:[Object(T.jsx)(m.b,{to:"/".concat(l.params.location,"/main"),className:s.link,children:Object(T.jsxs)(Ce.a,{button:!0,children:[Object(T.jsx)(Me.a,{title:o("main.menu.created-visit-info"),children:Object(T.jsx)(De.a,{children:Object(T.jsx)(Le.a,{})})}),Object(T.jsx)(Ie.a,{primary:o("main.menu.created-visit-info")})]})}),Object(T.jsx)(m.b,{to:"/".concat(l.params.location,"/main/byroom"),className:s.link,children:Object(T.jsxs)(Ce.a,{button:!0,children:[Object(T.jsx)(Me.a,{title:o("main.menu.by-meeting-room"),children:Object(T.jsx)(De.a,{children:Object(T.jsx)(Ve.a,{})})}),Object(T.jsx)(Ie.a,{primary:o("main.menu.by-meeting-room")})]})}),W.isFront&&Object(T.jsx)(m.b,{to:"/".concat(l.params.location,"/front"),className:s.link,children:Object(T.jsxs)(Ce.a,{button:!0,children:[Object(T.jsx)(Me.a,{title:o("main.menu.front"),children:Object(T.jsx)(De.a,{children:Object(T.jsx)(We.a,{})})}),Object(T.jsx)(Ie.a,{primary:o("main.menu.front")})]})}),W.isAdmin&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(Ce.a,{button:!0,onClick:function(){j||b(!0),D(!w)},children:[Object(T.jsx)(De.a,{children:Object(T.jsx)(qe.a,{})}),Object(T.jsx)(Ie.a,{primary:o("main.menu.settings")}),w?Object(T.jsx)(Ye.a,{}):Object(T.jsx)(Ue.a,{})]}),Object(T.jsxs)(Se.a,{in:w,timeout:"auto",unmountOnExit:!0,children:[Object(T.jsx)(m.b,{to:"/".concat(l.params.location,"/settings/role"),className:s.link,children:Object(T.jsx)(Ce.a,{button:!0,className:s.nested,children:Object(T.jsx)(Ie.a,{primary:o("main.menu.settings.role")})})}),Object(T.jsx)(m.b,{to:"/".concat(l.params.location,"/settings/location"),className:s.link,children:Object(T.jsx)(Ce.a,{button:!0,className:s.nested,children:Object(T.jsx)(Ie.a,{primary:o("main.menu.settings.location")})})}),Object(T.jsx)(m.b,{to:"/".concat(l.params.location,"/settings/category"),className:s.link,children:Object(T.jsx)(Ce.a,{button:!0,className:s.nested,children:Object(T.jsx)(Ie.a,{primary:o("main.menu.settings.category")})})}),Object(T.jsx)(m.b,{to:"/".concat(l.params.location,"/settings/room"),className:s.link,children:Object(T.jsx)(Ce.a,{button:!0,className:s.nested,children:Object(T.jsx)(Ie.a,{primary:o("main.menu.settings.room")})})})]})]}),Object(T.jsxs)(Ce.a,{button:!0,onClick:function(){sessionStorage.setItem(Z,"1"),window.location.reload()},children:[Object(T.jsx)(Me.a,{title:o("main.menu.refresh"),children:Object(T.jsx)(De.a,{children:Object(T.jsx)(Ge.a,{})})}),Object(T.jsx)(Ie.a,{primary:o("main.menu.refresh")})]})]})]}),Object(T.jsxs)("main",{className:s.content,children:[Object(T.jsx)("div",{className:s.appBarSpacer}),Object(T.jsxs)(v.a,{maxWidth:"lg",className:s.container,children:[z,Object(T.jsx)(C.a,{pt:4,children:Object(T.jsx)(N,{})})]})]})]})})}):Object(T.jsx)(T.Fragment,{})},at=a(176);function nt(){var e=Object(n.useState)(new Date),t=Object(g.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(g.a)(i,2),o=c[0],s=c[1],l=Object(n.useState)(0),d=Object(g.a)(l,2),u=d[0],j=d[1];Object(n.useEffect)((function(){X()||_("selectedDate",a.getTime().toString())}),[a]),Object(n.useEffect)((function(){j(o?7:1)}),[o]);return[a,r,function(e){r(e)},function(){r((function(e){return e?Object(at.a)(e,-1*u):e}))},function(){r((function(e){return e?Object(at.a)(e,u):e}))},s]}var rt=a(111),it=a.n(rt),ct=a(414),ot=a.n(ct),st=a(423),lt=a.n(st),dt=a(415),ut=a.n(dt),jt=a(306),bt=a.n(jt),mt=a(305),pt=a.n(mt),Ot=a(416),ht=a.n(Ot),ft=a(417),gt=a.n(ft),xt=a(419),vt=a.n(xt),yt=a(420),kt=a.n(yt),wt=a(421),Ct=a.n(wt),Dt=a(424),St=a.n(Dt),Tt=a(418),Nt=a.n(Tt),Mt=a(422),It=a.n(Mt),Rt=a(425),Et=a.n(Rt),Ft={Add:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(ot.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(ut.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(pt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(ht.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(bt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(gt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(Nt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(vt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(kt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(Ct.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(bt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(ke.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(pt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(It.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(lt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(St.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(Et.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))}))},Pt={paging:!0,pageSize:10,pageSizeOptions:[5,10,20,50]};function Lt(e){var t=e.dataDialogHook,a=Object(n.useState)(null),r=Object(g.a)(a,2),i=r[0],c=r[1],o=Object(n.useCallback)((function(e){e.isAuthor?t.dispatch({type:"inputOpen"}):t.dispatch({type:"readOpen"}),e.seriesMasterId&&t.dispatch({type:"recConfOpen"}),c(e)}),[t]),s=Object(n.useCallback)((function(e,a){e?t.dispatch({type:"recConfCancel"}):(a&&c(a),t.dispatch({type:"recConfClose"}))}),[t]);return[{currentRow:i},c,o,s]}var Bt=a(182),Vt="12px 6px",At=function(e){var t=e?Vt:"";return Object(M.a)((function(){return{cellApptTime:{padding:t},cellRoomName:{padding:t},cellTeaSupply:{padding:t},cellRoomStatus:{padding:t},cellReservationName:{padding:t},cellVisitCompany:{padding:t},cellSubject:{padding:t},cellContactAddr:{padding:t},cellCheckIn:{padding:t,overflowWrap:"break-word"},cellCheckOut:{padding:t,overflowWrap:"break-word"},cellComment:{padding:t},declinedApptTime:{textDecoration:"line-through 2px solid red"},declinedRoomName:{"&::after":{wordBreak:"keep-all",marginLeft:5,padding:"1px 5px",color:"red",border:"1px solid red",content:'"'.concat(Bt.a.t("visitdialog.view.resource-status-declined"),'"')}}}}))},Wt=function(e,t,a){var n=e.charAt(0).toUpperCase()+e.slice(1);return Object(pe.a)(a["cell".concat(n)],"declined"===t.roomStatus&&a["declined".concat(n)])},Ht=a(137),qt=Object(s.b)({palette:{primary:{main:Ht.a[300]},secondary:{main:u.main}},props:{MuiTableRow:{}},overrides:{MuiTable:{root:{borderCollapse:"separate"}}}}),zt=function(){var e="thin solid rgba(0, 0, 0, 0.12)";return Object(M.a)((function(t){return{list:{display:"flex","&:first-child > div":{borderTop:e}},title:{boxSizing:"border-box",flexBasis:"25%",padding:"0.7em",backgroundColor:t.palette.primary.light,borderLeft:e,borderBottom:e},field:{boxSizing:"border-box",flexBasis:"75%",padding:"0.7em",borderRight:e,borderBottom:e,whiteSpace:"pre-wrap"},fieldSlim:{boxSizing:"border-box",flexBasis:"75%",padding:"0.2em",borderRight:e,borderBottom:e,whiteSpace:"pre-wrap"},bottomLine:{borderBottom:e}}}))},Yt=a(78),Kt=a(22),Ut=a(254),Jt=a(237),Gt=a(150),_t=a.n(Gt),$t=a(245),Zt=a.n($t),Xt=a(429),Qt=a.n(Xt),ea=a(34),ta=a.n(ea),aa=["rooms","free"],na=["outside","inside"],ra=["none"].concat(na);function ia(e,t){return ca.apply(this,arguments)}function ca(){return(ca=Object(f.a)(h.a.mark((function e(t,a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H(t,a);case 3:if(n=e.sent,!(r=n.parsedBody)){e.next=9;break}return e.abrupt("return",Promise.resolve(r));case 9:return e.abrupt("return",Promise.reject(new Error("No Result Error")));case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Promise.reject(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function oa(e){var t=e.name,a=e.control,n=e.label,r=e.required,i=e.selectList,c=e.multiline,o=e.disabled,s=e.validation,l=e.errors,d=Object(x.a)().t,u=Object(ne.a)({required:!!r&&d("common.form.required")},s);return Object(T.jsx)(Kt.a,{name:t,control:a,rules:u,render:function(e){var a=e.field;return Object(T.jsx)(Jt.a,Object(ne.a)(Object(ne.a)({},a),{},{label:n,disabled:o,multiline:c,select:!!i,error:!!l[t],helperText:l[t]&&l[t].message,children:!!i&&i.map((function(e,a){return Object(T.jsx)(Ne.a,{value:e.value,children:e.label},"".concat(t,"-").concat(a))}))}))}})}var sa=a(656),la=a(125),da=a(398),ua=a(28),ja=a(307),ba=a.n(ja),ma=a(149),pa=a.n(ma),Oa=a(426),ha=a.n(Oa),fa="1.3em",ga=function(e){var t=e.status,a=Object(ua.a)();return"none"===t?Object(T.jsx)(ha.a,{style:{color:a.palette.text.secondary,fontSize:fa}}):"tentativelyAccepted"===t?Object(T.jsx)(ba.a,{style:{color:a.palette.warning.main,fontSize:fa}}):"accepted"===t?Object(T.jsx)(ba.a,{style:{color:a.palette.success.main,fontSize:fa}}):Object(T.jsx)(pa.a,{style:{color:a.palette.error.main,fontSize:fa}})},xa=["option"],va=function(e){var t=e.option,a=Object(la.a)(e,xa);return Object(T.jsx)(da.a,Object(ne.a)({variant:"outlined",size:"small",icon:t.status?ga({status:t.status}):void 0,label:t.name,title:t.address,style:{fontSize:"0.9em"}},a))};function ya(e){var t=e.name,a=e.control,r=e.label,i=e.errors,c=e.disabled,o=e.style,s=Object(x.a)().t,l=Object(n.useState)(""),d=Object(g.a)(l,2),u=d[0],j=d[1],b=Ze("",[]),m=Object(g.a)(b,3),p=m[0],O=p.data,v=p.isLoading,y=m[2];Object(n.useEffect)((function(){y(u?"/user/addressbook?filter=".concat(u):"")}),[u,y]);var k=Object(n.useState)(!1),w=Object(g.a)(k,2),C=w[0],D=w[1];Object(n.useEffect)((function(){C||j("")}),[C]);var S=function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)(Kt.a,{name:t,control:a,render:function(e){var a=e.field;return Object(T.jsx)(sa.a,Object(ne.a)(Object(ne.a)({},a),{},{disabled:c,style:o,multiple:!0,limitTags:c?void 0:2,size:"small",open:C,onOpen:function(){D(!0)},onClose:function(){D(!1)},options:O&&u?O:[],filterOptions:function(e,t){return e},noOptionsText:s("auto-complete.no-options-text"),loading:v,getOptionLabel:function(e){return"".concat(e.name," <").concat(e.address,">")},renderTags:function(e,t){return e.map((function(e,a){return Object(T.jsx)(va,Object(ne.a)({option:e},t({index:a})))}))},filterSelectedOptions:!0,getOptionSelected:function(e,t){return e.address===t.address},renderInput:function(e){return Object(T.jsx)(Jt.a,Object(ne.a)(Object(ne.a)({},e),{},{label:r,error:!!i[t],helperText:i[t]&&i[t].message,InputProps:Object(ne.a)(Object(ne.a)({},e.InputProps),{},{endAdornment:Object(T.jsxs)(T.Fragment,{children:[v?Object(T.jsx)(R.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}),onChange:function(e){""===e.target.value&&null===e.target.value||S(e.target.value)}}))},onChange:function(e,t){return a.onChange(t)}}))}})}var ka=a(613),wa=a(614),Ca=a(615),Da=a(643),Sa=Object(M.a)((function(e){return Object(Oe.a)({root:{margin:0,padding:e.spacing(1.5),paddingLeft:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(.75),top:e.spacing(.75),color:e.palette.grey[500]}})}));function Ta(e){var t=e.open,a=e.onClose,n=e.title,r=e.children,i=Object(x.a)().t,c=Sa();return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(ka.a,{open:t,onClose:function(e,t){t&&"backdropClick"===t||a()},fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title",children:[Object(T.jsxs)(Da.a,{id:"form-dialog-title",className:c.root,children:[n,Object(T.jsx)(we.a,{className:c.closeButton,onClick:a,children:Object(T.jsx)(pa.a,{})})]}),Object(T.jsx)(Ca.a,{dividers:!0,children:r}),Object(T.jsx)(wa.a,{style:{display:"none"},children:Object(T.jsx)(w.a,{onClick:a,children:i("common.button.cancel")})})]})})}var Na=["none","tentativelyAccepted","accepted","declined"],Ma=function(){var e=Object(x.a)().t;return Object(T.jsx)(T.Fragment,{children:Na.map((function(t,a){return Object(T.jsx)(da.a,{variant:"outlined",size:"small",icon:ga({status:t}),label:e("visitdialog.notes.user-status-".concat(ta.a.kebabCase(t))),style:{fontSize:"0.9em",marginLeft:"5px",border:"none"}},a)}))})},Ia=a(41),Ra=a(647),Ea=Object(M.a)({timerSelectRoot:{"& svg":{display:"none"}},timerSelect:{paddingRight:"15px !important"},colon:{margin:"auto 3px"}}),Fa=function(e){return 1e3*Math.ceil(e.getTime()/1e3/60/5)*60*5},Pa=function(e){return Object(Ra.a)(Fa(e),0)},La=function(e){return Object(Ra.a)(Fa(e),30)},Ba=Object(Ia.a)(Array(24)).map((function(e,t){return t})).map((function(e){return{label:e,value:e}})),Va=Object(Ia.a)(Array(12)).map((function(e,t){return 5*t})).map((function(e){return{label:e,value:e}}));var Aa=function(e){var t=e.selected,a=e.onChange,n=e.error,r=Ea();return Object(T.jsxs)(Ut.a,{container:!0,children:[Object(T.jsx)(Ut.a,{item:!0,children:Object(T.jsx)(Jt.a,{className:r.timerSelectRoot,select:!0,value:t.getHours(),onChange:function(e){a(new Date(t.getFullYear(),t.getMonth(),t.getDate(),Number(e.target.value),t.getMinutes()))},inputProps:{className:r.timerSelect},error:n,children:Ba.map((function(e,t){return Object(T.jsx)(Ne.a,{value:e.value,children:("00"+Number(e.label)).slice(-2)},"hour-".concat(t))}))})}),Object(T.jsx)(Ut.a,{item:!0,className:r.colon,children:":"}),Object(T.jsx)(Ut.a,{item:!0,children:Object(T.jsx)(Jt.a,{className:r.timerSelectRoot,select:!0,value:t.getMinutes(),onChange:function(e){a(new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),Number(e.target.value)))},inputProps:{className:r.timerSelect},error:n,children:Va.map((function(e,t){return Object(T.jsx)(Ne.a,{value:e.value,children:("00"+Number(e.label)).slice(-2)},"minute-".concat(t))}))})})]})},Wa=a(642);function Ha(e){var t=e.open,a=e.onClose,n=e.title,r=e.message,i=e.color;return Object(T.jsx)("div",{children:Object(T.jsxs)(ka.a,{open:t,onClose:function(){a(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[!!n&&Object(T.jsx)(Da.a,{id:"alert-dialog-title",children:n}),Object(T.jsx)(Ca.a,{children:Object(T.jsx)(Wa.a,{id:"alert-dialog-description",children:r})}),Object(T.jsxs)(wa.a,{children:[Object(T.jsx)(w.a,{onClick:function(){a(!0)},color:i,children:"OK"}),Object(T.jsx)(w.a,{onClick:function(){a(!1)},color:i,autoFocus:!0,children:"CANCEL"})]})]})})}var qa=a(301),za=a(368),Ya=a(645),Ka=Object(M.a)({roomComment:{whiteSpace:"pre-line",fontSize:"0.75rem",lineHeight:"1rem",padding:"0 5px 5px 5px"}});function Ua(e){var t=e.control,a=e.setValue,r=e.getValues,i=e.clearErrors,c=e.rooms,o=e.roomsLoading,s=e.roomId,l=e.disabledVisitor,d=e.disabledRoom,u=e.errors,j=Object(x.a)().t,b=Ka(),m=Object(n.useState)(!1),p=Object(g.a)(m,2),O=p[0],h=p[1],f=Object(Kt.f)({control:t,name:"resourcies.".concat(s,".roomForEdit")});Object(n.useEffect)((function(){if("upd"!==r("mode"))if(f&&c){var e=c.some((function(e){return e.id===f&&e.teaSupply[r("usageRange")]}));e||a("resourcies.".concat(s,".teaSupply"),!1,{shouldDirty:!0}),h(!e)}else a("resourcies.".concat(s,".teaSupply"),!1,{shouldDirty:!0}),h(!0)}),[r,s,f,c,a]);var v=Object(n.useState)(!1),y=Object(g.a)(v,2),w=y[0],D=y[1],S=Object(Kt.f)({control:t,name:"resourcies.".concat(s,".teaSupply")});Object(n.useEffect)((function(){S||(i(["resourcies.".concat(s,".numberOfTeaSupply"),"resourcies.".concat(s,".teaDetails")]),a("resourcies.".concat(s,".numberOfTeaSupply"),0,{shouldDirty:!0}),a("resourcies.".concat(s,".teaDetails"),"",{shouldDirty:!0})),D(!S)}),[S,a,s,i]);var N=Object(n.useState)(""),M=Object(g.a)(N,2),I=M[0],E=M[1];Object(n.useEffect)((function(){if(f&&c){var e=c.filter((function(e){return e.id===f&&!!e.comment}))[0],t=e?e.comment:"";E(t)}else E("")}),[f,c]);var F=function(e){return Object(ea.get)(u,"resourcies.".concat(s,".").concat(e))};return o?Object(T.jsx)(C.a,{px:2,children:Object(T.jsx)(Jt.a,{label:j("visittable.header.room-name"),value:j("visitdialog.notes.loading-rooms"),disabled:!0,InputProps:{endAdornment:Object(T.jsx)(qa.a,{position:"end",children:Object(T.jsx)(R.a,{color:"inherit",style:{padding:10}})})}})}):o||0!==(null===c||void 0===c?void 0:c.length)?Object(T.jsxs)(C.a,{px:2,children:[Object(T.jsx)(Kt.a,{name:"resourcies.".concat(s,".roomForEdit"),control:t,rules:{required:j("common.form.required"),validate:function(e){return c.some((function(t){return t.id===e}))?void 0:j("visitdialog.form.error.room-not-covered")}},render:function(e){var t=e.field;return Object(T.jsx)(Jt.a,Object(ne.a)(Object(ne.a)({},t),{},{select:!0,disabled:d,label:j("visittable.header.event-room"),error:!!F("roomForEdit"),helperText:!!F("roomForEdit")&&F("roomForEdit").message,children:c.map((function(e){return Object(T.jsx)(Ne.a,{value:e.id,children:e.name},e.id)}))}))}}),Object(T.jsx)(k.a,{component:"div",className:b.roomComment,children:I}),Object(T.jsxs)(Ut.a,{container:!0,spacing:1,style:O?{display:"none"}:void 0,children:[Object(T.jsx)(Ut.a,{item:!0,xs:5,sm:4,children:Object(T.jsx)(za.a,{control:Object(T.jsx)(Kt.a,{name:"resourcies.".concat(s,".teaSupply"),control:t,render:function(e){var t=e.field;return Object(T.jsx)(Ya.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary",disabled:O})}}),label:j("visittable.header.tea-supply")})}),Object(T.jsx)(Ut.a,{item:!0,xs:2,sm:4,style:l?{opacity:0}:void 0}),Object(T.jsx)(Ut.a,{item:!0,xs:5,sm:4,children:Object(T.jsx)(Kt.a,{name:"resourcies.".concat(s,".numberOfTeaSupply"),control:t,rules:{required:j("common.form.required"),validate:function(){return r("resourcies.".concat(s,".teaSupply"))&&r("resourcies.".concat(s,".numberOfTeaSupply"))>0||!r("resourcies.".concat(s,".teaSupply"))&&0===r("resourcies.".concat(s,".numberOfTeaSupply"))||j("visitdialog.form.error.number-of-tea-supply")}},render:function(e){var t=e.field;return Object(T.jsx)(Jt.a,Object(ne.a)(Object(ne.a)({type:"number",inputProps:{min:0,style:{textAlign:"right"}}},t),{},{disabled:w,label:j("visittable.header.number-of-tea-supply"),error:!!F("numberOfTeaSupply"),helperText:!!F("numberOfTeaSupply")&&F("numberOfTeaSupply").message}))}})}),Object(T.jsx)(Kt.a,{name:"resourcies.".concat(s,".teaDetails"),control:t,render:function(e){var t=e.field;return Object(T.jsx)(Jt.a,Object(ne.a)(Object(ne.a)({style:w?{display:"none"}:void 0,multiline:!0},t),{},{disabled:w,label:j("visittable.header.tea-details"),error:!!F("teaDetails"),helperText:!!F("teaDetails")&&F("teaDetails").message}))}})]})]}):Object(T.jsx)(C.a,{px:2,style:{textAlign:"center",color:"red"},children:j("visitdialog.notes.no-relevant-rooms")})}var Ja=zt(),Ga=function(e){switch(e){case"accepted":return"visitdialog.view.resource-status-accepted";case"declined":return"visitdialog.view.resource-status-declined";default:return""}};function _a(e){var t=e.data,a=e.hiddenTeaSupply,n=Object(x.a)().t,r=Ja();return Object(T.jsx)(C.a,{px:2,pt:2,children:Object(T.jsxs)(xe.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:r.list,children:[Object(T.jsx)("div",{className:r.title,children:n("visittable.header.room-name")}),Object(T.jsx)("div",{className:r.field,children:t.roomName})]},"room-name"),Object(T.jsxs)("li",{className:r.list,children:[Object(T.jsx)("div",{className:r.title,children:n("visittable.header.resource-status")}),Object(T.jsx)("div",{className:r.field,children:n(Ga(t.roomStatus))})]},"resource-status"),!a&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("li",{className:r.list,children:[Object(T.jsx)("div",{className:r.title,children:n("visittable.header.tea-supply")}),Object(T.jsx)("div",{className:r.field,style:{flexBasis:"25%",borderRight:"none"},children:t.teaSupply?n("visitdialog.form.tea-supply-yes"):n("visitdialog.form.tea-supply-no")}),Object(T.jsx)("div",{className:r.title,style:{flexBasis:"25%",borderLeft:"none"},children:n("visittable.header.number-of-tea-supply")}),Object(T.jsx)("div",{className:r.field,style:{flexBasis:"25%"},children:t.numberOfTeaSupply})]},"tea-supply"),t.teaSupply&&Object(T.jsxs)("li",{className:r.list,children:[Object(T.jsx)("div",{className:r.title,children:n("visittable.header.tea-details")}),Object(T.jsx)("div",{className:r.field,children:t.teaDetails})]},"tea-details")]})]})})}var $a=a(282);function Za(e){var t=e.name,a=e.control,n=e.getValues,r=e.label,i=e.handleDateTimeChange,c=e.errors,o=Object(x.a)().t;return Object(T.jsx)(Kt.a,{name:t,control:a,rules:{required:o("common.form.required"),validate:function(){return n("startTime").getTime()<n("endTime").getTime()||o("visitdialog.form.error.event-time")}},render:function(e){var a=e.field;return Object(T.jsx)($a.a,Object(ne.a)(Object(ne.a)({},a),{},{onChange:function(e){a.onChange(e),i()},ampm:!1,format:"yyyy/MM/dd HH:mm",disablePast:!0,minutesStep:5,label:r,error:!!c[t],helperText:c[t]&&c[t].message,ref:null}))}})}var Xa=a(427),Qa=a.n(Xa);var en=function(e){var t=e.name,a=e.status,n=Object(x.a)().t;return Object(T.jsxs)(T.Fragment,{children:[t,"declined"===a&&Object(T.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",flexWrap:"wrap",color:"red",verticalAlign:"bottom",marginLeft:15,fontSize:"0.95em"},children:[Object(T.jsx)(Qa.a,{fontSize:"small",style:{marginRight:3}}),n("visitdialog.notes.reservation-status-declined")]})]})},tn=a(33),an=a(108),nn=function(e){var t=e.datetime,a=Object(n.useContext)(tn.b);return Object(T.jsx)(T.Fragment,{children:Object(an.default)(t,"yyyy/MM/dd HH:mm:ss",{locale:null===a||void 0===a?void 0:a.locale})})},rn=a(179),cn=a(152),on=a(413),sn=a(428),ln=a(299),dn=a(396),un=a(300),jn=a(308),bn=a.n(jn),mn=["daily","weekly","absoluteMonthly","relativeMonthly","absoluteYearly","relativeYearly"],pn=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],On=["first","second","third","fourth","last"],hn=["endDate","numbered"],fn=a(281),gn=Object(M.a)({keyboardDatePicker:{"& .MuiOutlinedInput-adornedEnd":{paddingRight:0},width:"fit-content"},helperText:{marginLeft:0,marginRight:0,textAlign:"center"}});var xn=function(e){var t=e.label,a=e.date,n=e.onChange,r=e.disablePast,i=e.error,c=Object(x.a)().t,o=gn();return Object(T.jsx)(fn.b,{margin:"normal",id:"date-picker-dialog",label:t,format:"yyyy/MM/dd",showTodayButton:!0,disablePast:r,value:a,onChange:n,KeyboardButtonProps:{"aria-label":"change date"},size:"small",className:o.keyboardDatePicker,inputProps:{style:{width:85}},error:i,invalidDateMessage:Object(T.jsx)(un.a,{className:o.helperText,error:!0,children:c("common.error.Invalid-date")}),minDateMessage:Object(T.jsx)(un.a,{className:o.helperText,error:!0,children:c("common.error.Invalid-min-date")}),maxDateMessage:Object(T.jsx)(un.a,{className:o.helperText,error:!0,children:c("common.error.Invalid-max-date")})})},vn=Object(M.a)({time:{marginTop:"auto",marginBottom:"auto"},timeBetween:{margin:"auto"},error:{marginTop:-5}});function yn(e){var t=e.label,a=e.start,n=e.end,r=e.onDateChange,i=e.onStartChange,c=e.onEndChange,o=e.disablePast,s=e.errMsg,l=vn();return Object(T.jsxs)(Ut.a,{container:!0,children:[Object(T.jsxs)(Ut.a,{item:!0,container:!0,children:[Object(T.jsx)(Ut.a,{item:!0,xs:12,sm:5,children:Object(T.jsx)(xn,{label:t,date:a,disablePast:o,onChange:function(e){e&&r(e)},error:!!s})}),Object(T.jsxs)(Ut.a,{container:!0,item:!0,xs:12,sm:7,children:[Object(T.jsx)(Ut.a,{item:!0,className:l.time,children:Object(T.jsx)(Aa,{selected:a,onChange:i,error:!!s})}),Object(T.jsx)(Ut.a,{item:!0,className:l.timeBetween,children:"-"}),Object(T.jsx)(Ut.a,{item:!0,className:l.time,children:Object(T.jsx)(Aa,{selected:n,onChange:c,error:!!s})})]})]}),!!s&&Object(T.jsx)(Ut.a,{item:!0,xs:12,children:Object(T.jsx)(un.a,{className:l.error,error:!0,children:s})})]})}var kn=function(e){var t,a,n=e.recurrence,r=e.start,i=e.end,c=Object(x.a)().t,o=null===(t=n.pattern.daysOfWeek)||void 0===t?void 0:t.map((function(e){return c("recurrence-dialog.pattern.day-of-week.".concat(e))})).join(", "),s=(null===(a=n.pattern.dayOfMonth)||void 0===a?void 0:a.toString())+c("recurrence-info.pattern.day-of-month"),l=c("recurrence-dialog.pattern.index.".concat(n.pattern.index)),d=c("recurrence-dialog.pattern.month.".concat(n.pattern.month)),u="",j="";switch(n.pattern.type){case"daily":u="day";break;case"weekly":u="week",j=" "+o;break;case"absoluteMonthly":u="month",j=" "+s;break;case"relativeMonthly":u="month",j=" "+l+o;break;case"absoluteYearly":u="year",j=" "+d+s;break;case"relativeYearly":u="year",j=" "+d+l+o}var b=1===n.pattern.interval?"":n.pattern.interval.toString(),m=1===n.pattern.interval?"every-":"",p=b+c("recurrence-info.pattern.interval.".concat(m+u))+j,O=Object(an.default)(r,"HH:mm")+"-"+Object(an.default)(i,"HH:mm"),h=n.range.startDate+c("recurrence-info.range.to")+n.range.endDate+c("recurrence-info.range.valid-from");return Object(T.jsx)(T.Fragment,{children:p+" "+O+"  "+h})},wn=a(648),Cn=Object(M.a)((function(e){return Object(Oe.a)({root:{margin:0,padding:e.spacing(1.5),paddingLeft:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(.75),top:e.spacing(.75),color:e.palette.grey[500]},inputInterval:{width:70},inputDayOfMonth:{width:70},datePicker:{margin:"auto 0"},error:{margin:"-2px 10px",lineHeight:"1.4em"}})})),Dn=pn.reduce((function(e,t){return e[t]=!1,e}),{}),Sn=function(e,t){var a=ta.a.cloneDeep(Dn);return a[pn[(new Date).getDay()]]=!0,{startTime:e,endTime:t,pattern:{type:mn[0],interval:1,daysOfWeek:a,dayOfMonth:1,index:On[0],month:1},range:{type:hn[0],endDate:Object(rn.a)(Object(cn.a)(e),1),numberOfOccurrences:1}}},Tn={pattern:{type:void 0,interval:void 0,daysOfWeek:void 0,dayOfMonth:void 0,index:void 0,month:void 0},range:{type:void 0,endDate:void 0,numberOfOccurrences:void 0}};function Nn(e){var t=e.activeRoomSelect,a=e.activeSearchButton,r=e.getValues,i=e.setValue,c=e.clearErrors,o=e.errors,s=Object(x.a)().t,l=Object(n.useContext)(tn.b),d=Cn(),u=Object(n.useState)(!1),j=Object(g.a)(u,2),b=j[0],m=j[1],p=Object(n.useState)(!1),O=Object(g.a)(p,2),v=O[0],y=O[1],D=Object(n.useState)(ta.a.cloneDeep(Sn(r("startTime"),r("endTime")))),S=Object(g.a)(D,2),N=S[0],M=S[1],I=Object(n.useState)(ta.a.cloneDeep(Tn)),R=Object(g.a)(I,2),E=R[0],F=R[1];Object(n.useEffect)((function(){var e=Object(ne.a)({},Sn(r("startTime"),r("endTime")));b&&r("recurrence")?M({startTime:r("startTime"),endTime:r("endTime"),pattern:{type:r("recurrence").pattern.type,interval:r("recurrence").pattern.interval,daysOfWeek:r("recurrence").pattern.daysOfWeek&&r("recurrence").pattern.daysOfWeek.length>0?pn.reduce((function(e,t){return e[t]=r("recurrence").pattern.daysOfWeek.filter((function(e){return e===t})).length>0,e}),{}):e.pattern.daysOfWeek,dayOfMonth:r("recurrence").pattern.dayOfMonth?r("recurrence").pattern.dayOfMonth:e.pattern.dayOfMonth,index:r("recurrence").pattern.index?r("recurrence").pattern.index:e.pattern.index,month:r("recurrence").pattern.month?r("recurrence").pattern.month:e.pattern.month},range:{type:r("recurrence").range.type,endDate:r("recurrence").range.endDate?new Date(r("recurrence").range.endDate):e.range.endDate,numberOfOccurrences:r("recurrence").range.numberOfOccurrences?r("recurrence").range.numberOfOccurrences:e.range.numberOfOccurrences}}):M(ta.a.cloneDeep(e)),F(ta.a.cloneDeep(Tn))}),[r,b]);var P=function(){m(!0)},L=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=r("iCalUId"))){e.next=10;break}return e.next=5,A("/event/checkinstances/".concat(t));case 5:if(a=e.sent,!(null===(n=a.parsedBody)||void 0===n?void 0:n.isIncludesException)){e.next=10;break}return y(!0),e.abrupt("return");case 10:B(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=!1,a=ta.a.cloneDeep(Tn),n=Object(cn.a)(N.startTime),r=Object(on.a)(n,5);if(N.startTime.getTime()>N.endTime.getTime()&&(a.startTime=["".concat(s("recurrence-dialog.error.event-time"))],e=!0),n.getTime()>N.range.endDate.getTime()?(a.range.endDate=["".concat(s("recurrence-dialog.error.range.end-date"))],e=!0):r.getTime()<N.range.endDate.getTime()&&(a.range.endDate=["".concat(s("recurrence-dialog.error.range.end-date.max"))],e=!0),F(a),!e){var o=Object.keys(N.pattern.daysOfWeek).filter((function(e){return N.pattern.daysOfWeek[e]}));0===o.length&&o.push(pn[(new Date).getDay()]);var l={type:N.pattern.type,interval:N.pattern.interval};switch(N.pattern.type){default:break;case"weekly":l.daysOfWeek=o;break;case"absoluteMonthly":l.dayOfMonth=N.pattern.dayOfMonth;break;case"relativeMonthly":l.daysOfWeek=o,l.index=N.pattern.index;break;case"absoluteYearly":l.dayOfMonth=N.pattern.dayOfMonth,l.month=N.pattern.month;break;case"relativeYearly":l.daysOfWeek=o,l.index=N.pattern.index,l.month=N.pattern.month}var d={type:N.range.type,startDate:W(n)};switch(N.range.type){case"endDate":d.endDate=W(N.range.endDate);break;case"numbered":d.numberOfOccurrences=N.range.numberOfOccurrences}c(["recurrence","startTime","endTime"]),i("recurrence",{pattern:l,range:d},{shouldDirty:!0}),i("startTime",N.startTime,{shouldDirty:!0}),i("endTime",N.endTime,{shouldDirty:!0}),t(),m(!1)}},V=function(){m(!1)},W=function(e){return Object(an.default)(e,"yyyy-MM-dd",{locale:null===l||void 0===l?void 0:l.locale})},H=mn.map((function(e){return{label:s("recurrence-dialog.pattern.type.".concat(e)),value:e}})),q=pn.map((function(e){return{label:s("recurrence-dialog.pattern.day-of-week.".concat(e)),value:e}})),z=On.map((function(e){return{label:s("recurrence-dialog.pattern.index.".concat(e)),value:e}})),Y=Object(Ia.a)(Array(12)).map((function(e,t){return t+1})).map((function(e){return{label:s("recurrence-dialog.pattern.month.".concat(e)),value:e}})),K=Object(n.useMemo)((function(){return Object(T.jsx)(ln.a,{row:!0,children:pn.map((function(e,t){return Object(T.jsx)(za.a,{control:Object(T.jsx)(dn.a,{checked:N.pattern.daysOfWeek[e],onChange:function(e){M((function(t){return Object(ne.a)(Object(ne.a)({},t),{},{pattern:Object(ne.a)(Object(ne.a)({},t.pattern),{},{daysOfWeek:Object(ne.a)(Object(ne.a)({},t.pattern.daysOfWeek),{},Object(Yt.a)({},e.target.name,e.target.checked))})})}))},name:e,color:"primary"}),label:s("recurrence-dialog.pattern.day-of-week.".concat(e))},t)}))})}),[N,s]),U=Object(n.useMemo)((function(){return Object(T.jsx)(Jt.a,{label:s("recurrence-dialog.header.pattern.days-of-week"),select:!0,value:Object.keys(N.pattern.daysOfWeek).filter((function(e){return N.pattern.daysOfWeek[e]})).length>0?Object.keys(N.pattern.daysOfWeek).filter((function(e){return N.pattern.daysOfWeek[e]})):pn[0],onChange:function(e){var t=ta.a.cloneDeep(Dn);t[e.target.value]=!0,M((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{pattern:Object(ne.a)(Object(ne.a)({},e.pattern),{},{daysOfWeek:ta.a.cloneDeep(t)})})}))},error:!!E.pattern.daysOfWeek,helperText:E.pattern.daysOfWeek,children:q.map((function(e,t){return Object(T.jsx)(Ne.a,{value:e.value,children:e.label},t)}))})}),[q,E.pattern.daysOfWeek,N,s]),J=Object(n.useMemo)((function(){return Object(T.jsx)(Jt.a,{label:s("recurrence-dialog.header.pattern.index"),select:!0,value:N.pattern.index,onChange:function(e){M((function(t){return Object(ne.a)(Object(ne.a)({},t),{},{pattern:Object(ne.a)(Object(ne.a)({},t.pattern),{},{index:e.target.value})})}))},error:!!E.pattern.index,helperText:E.pattern.index,children:z.map((function(e,t){return Object(T.jsx)(Ne.a,{value:e.value,children:e.label},t)}))})}),[E.pattern.index,N,s,z]),G=Object(n.useMemo)((function(){return Object(T.jsx)(Jt.a,{className:d.inputDayOfMonth,label:s("recurrence-dialog.header.pattern.day-of-month"),type:"number",inputProps:{min:1,max:31,style:{textAlign:"right"}},value:N.pattern.dayOfMonth,onChange:function(e){var t=Number(e.target.value);t<1&&(t=1),t>31&&(t=31),M((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{pattern:Object(ne.a)(Object(ne.a)({},e.pattern),{},{dayOfMonth:t})})}))},error:!!E.pattern.dayOfMonth,helperText:E.pattern.dayOfMonth})}),[d.inputDayOfMonth,E.pattern.dayOfMonth,N,s]),_=Object(n.useMemo)((function(){return Object(T.jsx)(Jt.a,{label:s("recurrence-dialog.header.pattern.month"),select:!0,value:N.pattern.month,onChange:function(e){M((function(t){return Object(ne.a)(Object(ne.a)({},t),{},{pattern:Object(ne.a)(Object(ne.a)({},t.pattern),{},{month:Number(e.target.value)})})}))},error:!!E.pattern.month,helperText:E.pattern.month,children:Y.map((function(e,t){return Object(T.jsx)(Ne.a,{value:e.value,children:e.label},t)}))})}),[E.pattern.month,N,s,Y]);return Object(T.jsxs)(T.Fragment,{children:[!r("recurrence")&&Object(T.jsx)(w.a,{size:"small",color:"primary",startIcon:Object(T.jsx)(bn.a,{}),onClick:P,children:s("visitdialog.button.set-recurrence")}),!!r("recurrence")&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Jt.a,{label:s("visitdialog.notes.recurrence-info"),value:Object(sn.renderToString)(Object(T.jsx)(kn,{recurrence:r("recurrence"),start:r("startTime"),end:r("endTime")})),multiline:!0,disabled:!0,inputProps:{minRows:1},error:!!o.recurrence}),!!o.recurrence&&Object(T.jsx)(un.a,{error:!0,className:d.error,children:o.recurrence.message}),Object(T.jsx)(w.a,{size:"small",color:"primary",startIcon:Object(T.jsx)(bn.a,{}),onClick:P,children:s("visitdialog.button.edit-recurrence")})]}),Object(T.jsxs)(ka.a,{open:b,onClose:function(e,t){t&&"backdropClick"===t||V()},fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title",children:[Object(T.jsxs)(Da.a,{className:d.root,children:[s("recurrence-dialog.title"),Object(T.jsx)(we.a,{className:d.closeButton,onClick:V,children:Object(T.jsx)(pa.a,{})})]}),Object(T.jsxs)(Ca.a,{dividers:!0,children:[Object(T.jsx)(C.a,{px:2,py:1,children:Object(T.jsx)(Ut.a,{container:!0,children:Object(T.jsx)(Ut.a,{item:!0,xs:12,sm:10,children:Object(T.jsx)(yn,{label:s("recurrence-dialog.header.appt-date-time"),start:N.startTime,end:N.endTime,onDateChange:function(e){M((function(t){return Object(ne.a)(Object(ne.a)({},t),{},{startTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.startTime.getHours(),t.startTime.getMinutes()),endTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.endTime.getHours(),t.endTime.getMinutes())})}))},onStartChange:function(e){M((function(t){var a=new Date(t.startTime.getFullYear(),t.startTime.getMonth(),t.startTime.getDate(),e.getHours(),e.getMinutes()),n=La(a);return Object(ne.a)(Object(ne.a)({},t),{},{startTime:a,endTime:n})}))},onEndChange:function(e){M((function(t){return Object(ne.a)(Object(ne.a)({},t),{},{endTime:new Date(t.endTime.getFullYear(),t.endTime.getMonth(),t.endTime.getDate(),e.getHours(),e.getMinutes())})}))},disablePast:"ins"===r("mode"),errMsg:E.startTime?E.startTime:void 0})})})}),Object(T.jsx)(ve.a,{}),Object(T.jsxs)(C.a,{px:2,py:1,children:[Object(T.jsx)(Jt.a,{label:s("recurrence-dialog.header.pattern.type"),select:!0,value:N.pattern.type,onChange:function(e){var t=Object(ne.a)({},Sn(r("startTime"),r("endTime")));t.pattern.type=e.target.value,M((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{pattern:Object(ne.a)({},t.pattern)})}))},error:!!E.pattern.type,helperText:E.pattern.type,children:H.map((function(e,t){return Object(T.jsx)(Ne.a,{value:e.value,children:e.label},t)}))}),Object(T.jsxs)(Ut.a,{container:!0,children:[Object(T.jsxs)(Ut.a,{item:!0,xs:12,md:4,container:!0,spacing:1,alignItems:"center",children:[Object(T.jsx)(Ut.a,{item:!0,children:Object(T.jsx)(Jt.a,{className:d.inputInterval,label:s("recurrence-dialog.header.pattern.interval"),type:"number",inputProps:{min:1,style:{textAlign:"right"}},value:N.pattern.interval,onChange:function(e){var t=Number(e.target.value)>0?Number(e.target.value):1;M((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{pattern:Object(ne.a)(Object(ne.a)({},e.pattern),{},{interval:t})})}))},error:!!E.pattern.interval,helperText:E.pattern.interval})}),Object(T.jsx)(Ut.a,{item:!0,children:Object(T.jsx)(k.a,{children:s("recurrence-dialog.label.pattern.interval.".concat(N.pattern.type))})})]}),Object(T.jsx)(Ut.a,{item:!0,style:"weekly"===N.pattern.type?void 0:{display:"none"},children:Object(T.jsxs)(_e.a,{error:!!E.pattern.daysOfWeek,children:[K,!!E.pattern.daysOfWeek&&Object(T.jsx)(un.a,{error:!0,children:E.pattern.daysOfWeek})]})}),Object(T.jsx)(Ut.a,{item:!0,style:"absoluteMonthly"===N.pattern.type?void 0:{display:"none"},children:Object(T.jsxs)(Ut.a,{item:!0,container:!0,spacing:1,alignItems:"center",children:[Object(T.jsx)(Ut.a,{item:!0,children:G}),Object(T.jsx)(Ut.a,{item:!0,children:Object(T.jsx)(k.a,{children:s("recurrence-dialog.label.pattern.day-of-month.absolute")})})]})}),Object(T.jsx)(Ut.a,{item:!0,style:"relativeMonthly"===N.pattern.type?void 0:{display:"none"},children:Object(T.jsxs)(Ut.a,{item:!0,container:!0,spacing:1,alignItems:"center",children:[Object(T.jsx)(Ut.a,{item:!0,children:J}),Object(T.jsx)(Ut.a,{item:!0,children:U}),Object(T.jsx)(Ut.a,{item:!0,children:Object(T.jsx)(k.a,{children:s("recurrence-dialog.label.pattern.day-of-month.relative")})})]})}),Object(T.jsx)(Ut.a,{item:!0,style:"absoluteYearly"===N.pattern.type?void 0:{display:"none"},children:Object(T.jsxs)(Ut.a,{item:!0,container:!0,spacing:1,alignItems:"center",children:[Object(T.jsx)(Ut.a,{item:!0,children:_}),Object(T.jsx)(Ut.a,{item:!0,children:G}),Object(T.jsx)(Ut.a,{item:!0,children:Object(T.jsx)(k.a,{children:s("recurrence-dialog.label.pattern.day-of-month.absolute")})})]})}),Object(T.jsx)(Ut.a,{item:!0,style:"relativeYearly"===N.pattern.type?void 0:{display:"none"},children:Object(T.jsxs)(Ut.a,{item:!0,container:!0,spacing:1,alignItems:"center",children:[Object(T.jsx)(Ut.a,{item:!0,children:_}),Object(T.jsx)(Ut.a,{item:!0,children:J}),Object(T.jsx)(Ut.a,{item:!0,children:U}),Object(T.jsx)(Ut.a,{item:!0,children:Object(T.jsx)(k.a,{children:s("recurrence-dialog.label.pattern.day-of-month.relative")})})]})})]})]}),Object(T.jsx)(ve.a,{}),Object(T.jsxs)(C.a,{px:2,py:1,children:[Object(T.jsx)(Ut.a,{container:!0,spacing:2,children:Object(T.jsx)(Ut.a,{item:!0,className:d.datePicker,children:Object(T.jsx)(xn,{label:s("recurrence-dialog.header.range.end-date"),date:N.range.endDate,disablePast:"ins"===r("mode"),onChange:function(e){e&&M((function(t){return Object(ne.a)(Object(ne.a)({},t),{},{range:Object(ne.a)(Object(ne.a)({},t.range),{},{endDate:e})})}))},error:!!E.range.endDate})})}),!!E.range.endDate&&Object(T.jsx)(un.a,{error:!0,children:E.range.endDate})]}),Object(T.jsx)(C.a,{p:2,children:Object(T.jsxs)(Ut.a,{container:!0,justifyContent:"space-between",spacing:2,children:[Object(T.jsx)(Ut.a,{item:!0,xs:4,children:Object(T.jsx)(w.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:L,children:s("common.button.ok")})}),Object(T.jsx)(Ut.a,{item:!0,xs:4,children:Object(T.jsx)(w.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:V,children:s("common.button.cancel")})}),Object(T.jsx)(Ut.a,{item:!0,xs:4,children:Object(T.jsx)(w.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){c("recurrence"),i("recurrence",void 0,{shouldDirty:!0}),a(),m(!1)},disabled:void 0===r("recurrence"),children:s("recurrence-dialog.button.release-recurrence")})})]})})]})]}),Object(T.jsx)(Ha,{open:v,onClose:function(e){y(!1),e&&B()},message:Object(T.jsxs)(ie.a,{severity:"warning",variant:"outlined",children:[Object(T.jsx)(wn.a,{children:"Warning"}),s("recurrence-dialog.confirm-message-1"),Object(T.jsx)("br",{}),s("recurrence-dialog.confirm-message-2")]})})]})}function Mn(e){var t=e.control,a=e.index,n=e.remove,r=e.disabledVisitor,i=e.errors,c=Object(x.a)().t;return Object(T.jsxs)(Ut.a,{container:!0,spacing:1,children:[Object(T.jsx)(Ut.a,{item:!0,xs:6,children:Object(T.jsx)(Kt.a,{name:"visitCompany.".concat(a,".name"),control:t,rules:{required:!r&&c("common.form.required")},render:function(e){var t,n,o,s,l,d,u,j=e.field;return Object(T.jsx)(Jt.a,Object(ne.a)(Object(ne.a)({},j),{},{label:c("visittable.header.visit-company-name"),disabled:r,error:!!(null===i||void 0===i||null===(t=i.visitCompany)||void 0===t||null===(n=t[a])||void 0===n?void 0:n.name),helperText:(null===i||void 0===i||null===(o=i.visitCompany)||void 0===o||null===(s=o[a])||void 0===s?void 0:s.name)&&(null===i||void 0===i||null===(l=i.visitCompany)||void 0===l||null===(d=l[a])||void 0===d||null===(u=d.name)||void 0===u?void 0:u.message)}))}})}),Object(T.jsx)(Ut.a,{item:!0,xs:5,children:Object(T.jsx)(Kt.a,{name:"visitCompany.".concat(a,".rep"),control:t,render:function(e){var t,n,o,s,l,d,u,j=e.field;return Object(T.jsx)(Jt.a,Object(ne.a)(Object(ne.a)({},j),{},{label:c("visittable.header.visit-company-rep"),disabled:r,error:!!(null===i||void 0===i||null===(t=i.visitCompany)||void 0===t||null===(n=t[a])||void 0===n?void 0:n.rep),helperText:(null===i||void 0===i||null===(o=i.visitCompany)||void 0===o||null===(s=o[a])||void 0===s?void 0:s.rep)&&(null===i||void 0===i||null===(l=i.visitCompany)||void 0===l||null===(d=l[a])||void 0===d||null===(u=d.rep)||void 0===u?void 0:u.message)}))}})}),Object(T.jsx)(Ut.a,{item:!0,xs:1,style:{margin:"auto",marginLeft:"-7px"},children:Object(T.jsx)(we.a,{onClick:function(){return n(a)},color:"primary","aria-label":c("common.button.delete"),component:"span",disabled:0===a,children:Object(T.jsx)(_t.a,{})})})]})}var In=zt(),Rn=Object(M.a)((function(e){return Object(Oe.a)({formAction:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},note:{color:"red",fontSize:"0.9em",marginTop:0},usageGuide:{marginTop:"5px"}})})),En=Object(s.b)({palette:{primary:{main:u.main},secondary:{main:Ht.a[300]}},props:{MuiTextField:{variant:"outlined",margin:"dense",fullWidth:!0,minRows:2}},overrides:{MuiOutlinedInput:{adornedEnd:{paddingRight:0}}}}),Fn="add-room-01",Pn="FETCH_INPUT_DIALOG_ROOMS_SELECT",Ln=function(e,t,a,n){var r=t||new Date,i=a||"",c=n||"outside",o=e.contactAddr?e.contactAddr:"";return{mode:"ins",iCalUId:"",subject:"",visitorId:"",visitCompany:"outside"===c?[{name:"",rep:""}]:[],numberOfVisitor:0,numberOfEmployee:0,mailto:{authors:[],required:[],optional:[]},usageRange:c,resourcies:Object(Yt.a)({},Fn,{roomForEdit:i,teaSupply:!1,numberOfTeaSupply:0,teaDetails:""}),comment:"",contactAddr:o,startTime:Pa(r),endTime:La(r),seriesMasterId:void 0,recurrence:void 0}},Bn=function e(t){var a=ta.a.transform(t,(function(t,a,n){!1!==a&&(t[n]=ta.a.isObject(a)?e(a):a)}));return ta.a.transform(a,(function(t,a,n){!0!==a&&ta.a.isEmpty(a)||(t[n]=ta.a.isObject(a)?e(a):a)}))};function Vn(e){var t,a,r=e.open,i=e.onClose,c=e.data,s=e.reload,l=e.addDefault,d=Object(x.a)().t,u=Object(ne.a)(Object(ne.a)({},In()),Rn()),j=Object(n.useContext)(le),b=Object(n.useContext)(et),m=Object(p.h)(),O=Object(n.useState)(!1),v=Object(g.a)(O,2),y=v[0],D=v[1],S=Object(n.useMemo)((function(){return Ln(b.userStorage)}),[b.userStorage]),N=Object(Kt.d)({defaultValues:S,reValidateMode:"onSubmit"}),M=N.control,I=N.getValues,R=N.handleSubmit,E=N.reset,P=N.setValue,L=N.trigger,B=N.setError,V=N.clearErrors,A=N.formState,W=A.errors,H=A.isDirty,q=A.isSubmitting,Y=A.dirtyFields;Object(n.useEffect)((function(){E(r&&c?{mode:"upd",iCalUId:c.iCalUId,subject:c.subject,visitorId:c.visitorId,visitCompany:c.visitCompany,numberOfVisitor:c.numberOfVisitor,numberOfEmployee:c.numberOfEmployee,mailto:c.mailto,usageRange:c.usageRange,resourcies:Object.keys(c.resourcies).reduce((function(e,t){return e[t]={roomForEdit:t,teaSupply:c.resourcies[t].teaSupply,numberOfTeaSupply:c.resourcies[t].numberOfTeaSupply,teaDetails:c.resourcies[t].teaDetails},e}),{}),comment:c.comment,contactAddr:c.contactAddr,startTime:new Date(c.startDateTime),endTime:new Date(c.endDateTime),seriesMasterId:c.seriesMasterId,recurrence:c.recurrence?{pattern:{type:c.recurrence.pattern.type,interval:c.recurrence.pattern.interval,daysOfWeek:c.recurrence.pattern.daysOfWeek,dayOfMonth:c.recurrence.pattern.dayOfMonth,index:c.recurrence.pattern.index,month:c.recurrence.pattern.month},range:{type:c.recurrence.range.type,startDate:c.recurrence.range.startDate,endDate:c.recurrence.range.endDate}}:void 0}:ta.a.cloneDeep(Ln(b.userStorage,null===l||void 0===l?void 0:l.start,null===l||void 0===l?void 0:l.roomId,null===l||void 0===l?void 0:l.usageRange)))}),[c,r,E,l,b.userStorage]);var K=Object(n.useState)(!1),U=Object(g.a)(K,2),J=U[0],G=U[1],_=Object(Kt.f)({control:M,name:"usageRange"}),$="/room/choices?location=".concat(m.params.location),Z=Ze("",[],Pn),X=Object(g.a)(Z,3),Q=X[0],ee=Q.data,te=Q.isLoading,ae=X[2],re=Object(n.useCallback)((function(){"upd"===I("mode")?ae($):I("recurrence")?ae($+"&usagerange=".concat(I("usageRange"))):ae($+"&start=".concat(I("startTime").getTime(),"&end=").concat(I("endTime").getTime())+"&usagerange=".concat(I("usageRange")))}),[$,I,ae]);Object(n.useEffect)((function(){return r&&re(),function(){z(Pn,"OPTIONAL_REASON")}}),[re,r,_]),Object(n.useEffect)((function(){r||G(!1)}),[r]);var ie=Object(n.useState)(!1),ce=Object(g.a)(ie,2),oe=ce[0],se=ce[1];Object(n.useEffect)((function(){"inside"===_?(V(["visitCompany","numberOfVisitor"]),P("visitCompany",[],{shouldDirty:!0}),P("numberOfVisitor",0,{shouldDirty:!0}),se(!0)):(V("visitCompany"),P("visitCompany",[{name:"",rep:""}],{shouldDirty:!0}),se(!1))}),[V,P,_]);var de=Object(Kt.f)({control:M,name:"startTime"}),ue=Object(Kt.f)({control:M,name:"endTime"}),je=Object(Kt.c)({control:M,name:"visitCompany"}),be=je.fields,me=je.append,pe=je.remove,Oe=Object(Kt.f)({control:M,name:"visitCompany"}),he=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a="",e.t0=t.mode,e.next="ins"===e.t0?5:"upd"===e.t0?7:"del"===e.t0?9:11;break;case 5:return a="/event/create",e.abrupt("break",11);case 7:return a="/event/update",e.abrupt("break",11);case 9:return a="/event/delete",e.abrupt("break",11);case 11:return e.next=13,ia(a,{inputs:t,dirtyFields:Bn(Y)});case 13:if(!(n=e.sent).success){e.next=24;break}if("del"!==t.mode){e.next=18;break}return e.next=18,new Promise((function(e){return setTimeout(e,1e3)}));case 18:return e.next=20,s();case 20:i(),j.dispatch({type:"success",message:d("common.msg.update-success")}),e.next=25;break;case 24:if(n.errors)for(c in r=n.errors)B(o=c,{message:d(r[o][0])});case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(0),j.dispatch({type:"error",message:e.t1.message});case 30:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(["startTime","endTime"]);case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:re(),G(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){"upd"!==I("mode")&&(J||G(!0))},ve=function(){var e=La(I("startTime"));P("endTime",e,{shouldDirty:!0}),ge()},ye=function(){ge()},ke=function(e){pe(e)};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(F,{open:q}),Object(T.jsx)(Ta,{open:r,onClose:i,title:d("visitdialog.title"),children:Object(T.jsxs)(o.a,{theme:En,children:[!!c&&Object(T.jsx)(C.a,{px:2,children:Object(T.jsxs)(xe.a,{disablePadding:!0,children:[c.isMSMultipleLocations?Object(T.jsx)("li",{className:u.bottomLine,children:Object(T.jsx)("p",{className:u.note,children:d("visitdialog.notes.multiple-locations")})}):Object(T.jsxs)("li",{className:u.list,children:[Object(T.jsx)("div",{className:u.title,children:d("visittable.header.resource-status")}),Object(T.jsx)("div",{className:u.field,children:d(Ga(c.roomStatus))})]},"resource-status"),Object(T.jsxs)("li",{className:u.list,children:[Object(T.jsx)("div",{className:u.title,children:d("visittable.header.reservation-name")}),Object(T.jsx)("div",{className:u.field,children:Object(T.jsx)(en,{name:c.reservationName,status:c.reservationStatus})})]},"reservation-name")]})}),Object(T.jsxs)("form",{children:[Object(T.jsxs)(C.a,{p:2,pb:0,children:[Object(T.jsx)(oa,{name:"subject",control:M,label:d("visittable.header.event-subject"),required:!0,errors:W}),!!c&&Object(T.jsxs)(k.a,{variant:"caption",display:"block",className:u.usageGuide,children:[d("visitdialog.notes.reply-status"),Object(T.jsx)(Ma,{})]}),Object(T.jsx)(ya,{name:"mailto.authors",control:M,label:d("visittable.header.event-mailto-authors"),errors:W,disabled:!0,style:{display:"none"}}),Object(T.jsx)(ya,{name:"mailto.required",control:M,label:d("visittable.header.event-mailto-required"),errors:W,disabled:null===c||void 0===c?void 0:c.isMSMultipleLocations}),Object(T.jsx)(ya,{name:"mailto.optional",control:M,label:d("visittable.header.event-mailto-optional"),errors:W,disabled:null===c||void 0===c?void 0:c.isMSMultipleLocations}),Object(T.jsx)(C.a,{py:1,style:c?{display:"none"}:void 0,children:Object(T.jsx)(oa,{name:"usageRange",control:M,label:d("visittable.header.usage-range"),required:!0,selectList:na.map((function(e){return{label:d("visitdialog.view.usage-range.".concat(e)),value:e}})),disabled:!!c,errors:W})}),Object(T.jsxs)(Ut.a,{container:!0,spacing:1,style:I("recurrence")?{display:"none"}:void 0,children:[Object(T.jsx)(Ut.a,{item:!0,xs:5,style:{display:"none"},children:Object(T.jsx)(Za,{name:"startTime",control:M,getValues:I,label:d("visittable.header.event-start-time"),handleDateTimeChange:ve,errors:W})}),Object(T.jsx)(Ut.a,{item:!0,xs:5,style:{display:"none"},children:Object(T.jsx)(Za,{name:"endTime",control:M,getValues:I,label:d("visittable.header.event-end-time"),handleDateTimeChange:ye,errors:W})}),Object(T.jsx)(Ut.a,{item:!0,xs:12,sm:10,children:Object(T.jsx)(yn,{label:d("visittable.header.appt-date-time"),start:de,end:ue,onDateChange:function(e){P("startTime",new Date(e.getFullYear(),e.getMonth(),e.getDate(),I("startTime").getHours(),I("startTime").getMinutes()),{shouldDirty:!0}),ve()},onStartChange:function(e){P("startTime",e,{shouldDirty:!0}),ve()},onEndChange:function(e){P("endTime",e,{shouldDirty:!0}),ye()},disablePast:!c,errMsg:(null===(t=W.startTime)||void 0===t?void 0:t.message)?[null===(a=W.startTime)||void 0===a?void 0:a.message]:void 0})}),Object(T.jsx)(Ut.a,{item:!0,xs:12,sm:2,style:{margin:"auto"},children:Object(T.jsx)(w.a,{onClick:fe,variant:"contained",color:"primary",fullWidth:!0,disabled:(null===c||void 0===c?void 0:c.isMSMultipleLocations)||!J,style:"upd"===I("mode")?{display:"none"}:void 0,children:d("common.button.search")})})]}),!(null===c||void 0===c?void 0:c.seriesMasterId)&&b.userStorage.isFront&&Object(T.jsx)(Ut.a,{children:Object(T.jsx)(Nn,{activeRoomSelect:function(){"upd"!==I("mode")&&(G(!1),re())},activeSearchButton:ge,getValues:I,setValue:P,clearErrors:V,errors:W})})]}),c?Object(T.jsx)(T.Fragment,{children:c.isMSMultipleLocations?Object(T.jsx)(o.a,{theme:qt,children:Object.keys(c.resourcies).map((function(e){return Object(T.jsx)(_a,{data:c.resourcies[e]},e)}))}):!J&&Object(T.jsx)(Ua,{control:M,setValue:P,getValues:I,clearErrors:V,rooms:ee,roomsLoading:te,roomId:Object.keys(c.resourcies)[0],disabledRoom:!0,disabledVisitor:"inside"===c.usageRange,errors:W})}):!J&&Object(T.jsx)(Ua,{control:M,setValue:P,getValues:I,clearErrors:V,rooms:ee,roomsLoading:te,roomId:Fn,disabledVisitor:oe,errors:W}),Object(T.jsx)(C.a,{px:2,pt:1,style:oe?{display:"none"}:void 0,children:be.map((function(e,t){return Object(T.jsx)(Mn,{control:M,index:t,remove:ke,disabledVisitor:oe,errors:W},e.id)}))}),Object(T.jsx)(C.a,{px:2,children:Object(T.jsxs)(Ut.a,{container:!0,spacing:1,children:[Object(T.jsx)(Ut.a,{item:!0,xs:12,sm:4,style:oe?{opacity:0}:{margin:"auto"},children:Object(T.jsx)(w.a,{onClick:function(){me({name:"",rep:""})},startIcon:Object(T.jsx)(Qt.a,{}),variant:"contained",color:"primary",fullWidth:!0,disabled:Oe.length>2,children:d("visitdialog.button.add-visitor")})}),Object(T.jsx)(Ut.a,{item:!0,xs:6,sm:4,style:oe?{opacity:0}:void 0,children:Object(T.jsx)(Kt.a,{name:"numberOfVisitor",control:M,rules:{required:d("common.form.required")},render:function(e){var t=e.field;return Object(T.jsx)(Jt.a,Object(ne.a)(Object(ne.a)({type:"number",inputProps:{min:0,style:{textAlign:"right"}}},t),{},{disabled:oe,label:d("visittable.header.number-of-visitor"),error:!!W.numberOfVisitor,helperText:!!W.numberOfVisitor&&W.numberOfVisitor.message}))}})}),Object(T.jsx)(Ut.a,{item:!0,xs:6,sm:4,children:Object(T.jsx)(Kt.a,{name:"numberOfEmployee",control:M,rules:{required:d("common.form.required")},render:function(e){var t=e.field;return Object(T.jsx)(Jt.a,Object(ne.a)(Object(ne.a)({type:"number",inputProps:{min:0,style:{textAlign:"right"}}},t),{},{label:d("visittable.header.number-of-employee"),error:!!W.numberOfEmployee,helperText:!!W.numberOfEmployee&&W.numberOfEmployee.message}))}})})]})}),Object(T.jsxs)(C.a,{p:2,children:[Object(T.jsx)(oa,{name:"comment",control:M,label:d("visittable.header.comment"),multiline:!0,errors:W}),Object(T.jsx)(oa,{name:"contactAddr",control:M,label:d("visittable.header.contact-addr"),required:!0,errors:W})]}),!!c&&Object(T.jsx)(C.a,{px:2,children:Object(T.jsx)(xe.a,{disablePadding:!0,children:Object(T.jsxs)("li",{className:u.list,children:[Object(T.jsx)("div",{className:u.title,children:d("visitdialog.header.last-updated")}),Object(T.jsx)("div",{className:u.field,children:Object(T.jsx)(nn,{datetime:c.lastUpdated})})]},"datetime")})}),Object(T.jsx)(C.a,{px:2,children:Object(T.jsxs)(Ut.a,{container:!0,justifyContent:"space-between",spacing:2,className:u.formAction,children:[Object(T.jsx)(Ut.a,{item:!0,xs:c?6:12,children:Object(T.jsx)(w.a,{onClick:function(){R(he)()},variant:"contained",color:"primary",disabled:!H||J||te,startIcon:Object(T.jsx)(Zt.a,{}),fullWidth:!0,children:d("visitdialog.button.save")})}),Object(T.jsx)(Ut.a,{item:!0,xs:6,style:c?void 0:{display:"none"},children:Object(T.jsx)(w.a,{onClick:function(){D(!0)},variant:"contained",color:"primary",startIcon:Object(T.jsx)(_t.a,{}),fullWidth:!0,children:d("visitdialog.button.delete")})})]})})]})]})}),Object(T.jsx)(Ha,{open:y,onClose:function(e){D(!1),e&&(P("mode","del"),R(he)())},message:"seriesMaster"===(null===c||void 0===c?void 0:c.eventType)?d("visitorinfoform.delete-confirm-message.series-master"):d("visitorinfoform.delete-confirm-message"),color:"secondary"})]})}var An=Object(M.a)((function(e){return Object(Oe.a)({root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}}})}));function Wn(e){var t=e.propsKey,a=e.data,n=An();return Object(T.jsx)("div",{className:n.root,children:a.map((function(e,a){return Object(T.jsx)(va,{option:e},"".concat(t,"-").concat(a))}))})}var Hn=zt();function qn(e){var t=e.open,a=e.onClose,n=e.data,r=Object(x.a)().t,i=Hn();return n.isAttendees?Object(T.jsxs)(Ta,{open:t,onClose:a,title:r("visitdialog.title"),children:[Object(T.jsx)(C.a,{px:2,pt:2,children:Object(T.jsxs)(xe.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.event-subject")}),Object(T.jsx)("div",{className:i.field,children:n.subject})]},"event-subject"),!(null===n||void 0===n?void 0:n.recurrence)&&Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.appt-time")}),Object(T.jsx)("div",{className:i.field,children:n.apptTime})]},"app-time"),!!(null===n||void 0===n?void 0:n.recurrence)&&Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visitdialog.notes.recurrence-info")}),Object(T.jsx)("div",{className:i.field,children:Object(T.jsx)(kn,{recurrence:null===n||void 0===n?void 0:n.recurrence,start:new Date(null===n||void 0===n?void 0:n.startDateTime),end:new Date(null===n||void 0===n?void 0:n.endDateTime)})})]},"app-time"),Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.reservation-name")}),Object(T.jsx)("div",{className:i.field,children:Object(T.jsx)(en,{name:n.reservationName,status:n.reservationStatus})})]},"reservation-name")]})}),Object(T.jsxs)(C.a,{px:2,pt:2,children:[Object(T.jsxs)(k.a,{variant:"caption",display:"block",gutterBottom:!0,children:[r("visitdialog.notes.reply-status"),Object(T.jsx)(Ma,{})]}),Object(T.jsxs)(xe.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.event-mailto-required")}),Object(T.jsx)("div",{className:i.fieldSlim,children:Object(T.jsx)(Wn,{propsKey:"mailto-required",data:n.mailto.required})})]},"mailto-required"),Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.event-mailto-optional")}),Object(T.jsx)("div",{className:i.fieldSlim,children:Object(T.jsx)(Wn,{propsKey:"mailto-optional",data:n.mailto.optional})})]},"mailto-optional")]})]}),Object.keys(n.resourcies).map((function(e){return Object(T.jsx)(_a,{data:n.resourcies[e]},e)})),Object(T.jsx)(C.a,{px:2,pt:2,style:"inside"===n.usageRange?{display:"none"}:void 0,children:Object(T.jsxs)(xe.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsxs)("div",{className:i.title,children:[r("visittable.header.visit-company-name")," /",Object(T.jsx)("br",{}),r("visittable.header.visit-company-rep")]}),Object(T.jsx)("div",{className:i.field,children:n.visitCompany.map((function(e,t){return Object(T.jsxs)(T.Fragment,{children:[!!t&&Object(T.jsx)("br",{}),Object(T.jsx)("span",{children:"".concat(e.name," / ").concat(e.rep)})]})}))})]},"visit-company"),Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.number-of-visitor")}),Object(T.jsx)("div",{className:i.field,style:{flexBasis:"25%",borderRight:"none"},children:n.numberOfVisitor}),Object(T.jsx)("div",{className:i.title,style:{flexBasis:"25%",borderLeft:"none"},children:r("visittable.header.number-of-employee")}),Object(T.jsx)("div",{className:i.field,style:{flexBasis:"25%"},children:n.numberOfEmployee})]},"number-of-visitor")]})}),Object(T.jsx)(C.a,{p:2,pt:2,children:Object(T.jsxs)(xe.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.comment")}),Object(T.jsx)("div",{className:i.field,children:n.comment})]},"comment"),Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.contact-addr")}),Object(T.jsx)("div",{className:i.field,children:n.contactAddr})]},"contact-addr")]})}),Object(T.jsx)(C.a,{px:2,pb:2,children:Object(T.jsx)(xe.a,{disablePadding:!0,children:Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visitdialog.header.last-updated")}),Object(T.jsx)("div",{className:i.field,children:Object(T.jsx)(nn,{datetime:n.lastUpdated})})]},"datetime")})})]}):Object(T.jsx)(Ta,{open:t,onClose:a,title:r("visitdialog.title"),children:r("common.msg.authority-error")})}var zn=a(370),Yn=a(654);function Kn(e){var t=e.open,a=e.seriesMasterId,r=e.onClose,i=Object(x.a)().t,c=Object(n.useState)("instances"),o=Object(g.a)(c,2),s=o[0],l=o[1],d=function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("master"!==s){e.next=7;break}return e.next=3,A("/event/visitInfo/".concat(a));case 3:t=e.sent,r(!1,t.parsedBody),e.next=8;break;case 7:r(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){r(!0)};return Object(T.jsx)("div",{children:Object(T.jsxs)(ka.a,{open:t,onClose:u,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(T.jsxs)(Ca.a,{children:[Object(T.jsx)(Wa.a,{id:"alert-dialog-description",children:i("visitorinfoform.recurrence-confirm-message")}),Object(T.jsx)(C.a,{children:Object(T.jsxs)(zn.a,{"aria-label":"gender",name:"gender1",value:s,onChange:function(e){l(e.target.value)},children:[Object(T.jsx)(za.a,{value:"instances",control:Object(T.jsx)(Yn.a,{}),label:i("visitorinfoform.recurrence-radio-instances")}),Object(T.jsx)(za.a,{value:"master",control:Object(T.jsx)(Yn.a,{}),label:i("visitorinfoform.recurrence-radio-master")})]})})]}),Object(T.jsxs)(wa.a,{children:[Object(T.jsx)(w.a,{onClick:d,color:"secondary",children:"OK"}),Object(T.jsx)(w.a,{onClick:u,color:"secondary",autoFocus:!0,children:"CANCEL"})]})]})})}var Un=function(e,t){switch(t.type){case"inputOpen":return{mode:"rowData",inputOpen:!0,readOpen:!1};case"addDataOpen":return{mode:"addData",inputOpen:!0,readOpen:!1,addDefault:t.addDefault};case"inputClose":return Object(ne.a)(Object(ne.a)({},e),{},{inputOpen:!1});case"readOpen":return{mode:"rowData",inputOpen:!1,readOpen:!0};case"readClose":return Object(ne.a)(Object(ne.a)({},e),{},{readOpen:!1});case"recConfOpen":return Object(ne.a)(Object(ne.a)({},e),{},{recConfOpen:!0});case"recConfClose":return Object(ne.a)(Object(ne.a)({},e),{},{recConfOpen:!1});case"recConfCancel":return Object(ne.a)(Object(ne.a)({},e),{},{recConfOpen:!1,inputOpen:!1,readOpen:!1});default:return e}};function Jn(e){var t=e.dataDialogHook,a=e.isLoading,n=e.reload,r=e.currentRow,i=e.children,c=e.onRecConfClose,s=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch({type:"inputClose"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch({type:"readClose"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(o.a,{theme:qt,children:[Object(T.jsx)(F,{open:a}),i,Object(T.jsx)(Vn,{open:t.state.inputOpen&&!t.state.recConfOpen,onClose:s,data:"addData"===t.state.mode?null:r,reload:n,addDefault:t.state.addDefault}),!!r&&Object(T.jsx)(qn,{open:t.state.readOpen&&!t.state.recConfOpen,onClose:l,data:r}),!!r&&!!r.seriesMasterId&&!!c&&Object(T.jsx)(Kn,{open:!!t.state.recConfOpen,seriesMasterId:r.seriesMasterId,onClose:c})]})}var Gn=a(430),_n=a.n(Gn),$n=a(431),Zn=a.n($n),Xn={fontSize:"1.2em",marginLeft:"3px",marginRight:"3px",verticalAlign:"text-bottom",color:"gray"},Qn=function(e){switch(e.type){case"occurrence":return Object(T.jsx)(_n.a,{style:Xn});case"exception":return Object(T.jsx)(Zn.a,{style:Xn});default:return Object(T.jsx)(T.Fragment,{})}},er=At(!1),tr=function(e){return e.visitCompany.map((function(e){return"".concat(e.name)})).join(", ")};function ar(e){var t=e.currentDate,a=e.dataDialogHook,r=Object(x.a)().t,i=er(),c=Object(p.h)(),o=Ze("",[]),s=Object(g.a)(o,3),l=s[0],d=l.data,u=l.isLoading,j=l.isError,b=s[1],m=s[2];Object(n.useEffect)((function(){m("/event/visitlist?timestamp=".concat(t.getTime(),"&location=").concat(c.params.location))}),[t,c.params.location,m]);var O=Lt({dataDialogHook:a}),h=Object(g.a)(O,4),f=h[0].currentRow,v=h[2],y=h[3],k=[{title:r("visittable.header.appt-time"),field:"apptTime",render:function(e){return Object(T.jsxs)(T.Fragment,{children:[e.apptTime,Object(T.jsx)(Qn,{type:e.eventType})]})}},{title:r("visittable.header.room-name"),field:"roomName"},{title:r("visittable.header.event-subject"),field:"subject"},{title:r("visittable.header.visit-company-name"),field:"visitCompany",render:function(e){return tr(e)},customSort:function(e,t){return tr(e)<tr(t)?-1:1}},{title:r("visittable.header.reservation-name"),field:"reservationName"}];return j?Object(T.jsx)("div",{children:r("common.msg.fetch-failed")}):Object(T.jsx)(Jn,{currentRow:f,dataDialogHook:a,isLoading:u,reload:b,onRecConfClose:y,children:Object(T.jsx)(it.a,{columns:k,components:{Cell:function(e){return Object(T.jsx)(rt.MTableCell,Object(ne.a)(Object(ne.a)({},e),{},{className:Wt(e.columnDef.field,e.rowData,i)}))}},data:d,onRowClick:function(e,t){return!!t&&v(t)},options:Object(ne.a)({showTitle:!1,toolbar:!1,search:!1,headerStyle:{backgroundColor:qt.palette.primary.light},tableLayout:"fixed"},Pt),icons:Ft})})}var nr=a(246),rr=a.n(nr),ir=a(432),cr=a.n(ir),or=a(433),sr=a.n(or),lr=Object(M.a)((function(){return{arrowLeft:{paddingTop:7,marginRight:-5},arrowRight:{paddingTop:7,marginLeft:-5},arrowIcon:{margin:0,padding:0},datePicker:{margin:"auto 0"},title:{margin:"auto 0.25em"}}}));function dr(e){var t=e.subtitle,a=e.date,n=e.onDateChange,r=e.onDatePrev,i=e.onDateNext,c=e.dispatch,o=e.actionButtons,s=Object(x.a)().t,l=lr();return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(Ut.a,{container:!0,alignItems:"stretch",justifyContent:"space-between",children:[Object(T.jsxs)(Ut.a,{container:!0,alignItems:"center",item:!0,xs:12,sm:o?6:9,children:[Object(T.jsx)(Ut.a,{item:!0,className:l.arrowLeft,children:Object(T.jsx)(we.a,{className:l.arrowIcon,onClick:r,children:Object(T.jsx)(cr.a,{fontSize:"large"})})}),Object(T.jsx)(Ut.a,{item:!0,className:l.datePicker,children:Object(T.jsx)(xn,{label:s("main.header.picker-label"),date:a,onChange:n})}),Object(T.jsx)(Ut.a,{item:!0,className:l.arrowRight,onClick:i,children:Object(T.jsx)(we.a,{className:l.arrowIcon,children:Object(T.jsx)(sr.a,{fontSize:"large"})})})]}),Object(T.jsxs)(Ut.a,{container:!0,item:!0,justifyContent:"flex-end",alignItems:"center",spacing:2,xs:12,sm:o?6:3,children:[!!o&&o.map((function(e,t){return Object(T.jsx)(Ut.a,{item:!0,children:e},"actionButtons-".concat(t))})),Object(T.jsx)(Ut.a,{item:!0,children:Object(T.jsx)(w.a,{variant:"contained",color:"secondary",startIcon:Object(T.jsx)(rr.a,{}),onClick:function(e){c({type:"addDataOpen"})},children:s("main.header.add-event")})})]}),Object(T.jsx)(C.a,{pt:1,children:t})]})})}function ur(){var e=Object(x.a)().t,t=Object(n.useState)(!1),a=Object(g.a)(t,2),r=a[0],i=a[1];Object(n.useEffect)((function(){i(!1)}),[]);var c=nt(),o=Object(g.a)(c,5),s=o[0],l=o[1],d=o[2],u=o[3],j=o[4],b=Object(n.useReducer)(Un,{mode:"addData",inputOpen:!1,readOpen:!1}),m=Object(g.a)(b,2),p=m[0],O=m[1];return Object(n.useEffect)((function(){X()&&(l(new Date(Number($("selectedDate")))),Q())}),[]),Object(T.jsx)(tt,{children:Object(T.jsxs)(me.a,{square:!0,children:[Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(dr,{title:e("main.visitlist.title"),subtitle:e("main.visitlist.subtitle".concat(r?".created-only":"")),date:s,onDateChange:d,onDatePrev:u,onDateNext:j,dispatch:O})}),Object(T.jsx)(C.a,{px:2,pb:2,children:Object(T.jsx)(ar,{currentDate:s,dataDialogHook:{state:p,dispatch:O}})})]})})}var jr=a(5),br=a(655),mr=a(412),pr=a(304),Or=a(154),hr=a(251),fr={width:120,halfWidth:60,scale:2,transform:{x:-960,y:0}},gr={width:60,halfWidth:30,scale:1,transform:{x:0,y:0}},xr=30,vr=function(e,t){var a=Object(cn.a)(e);return Object(br.a)(e,a)*t.scale},yr=function(e,t,a){var n=new Date(e.start),r=new Date(e.end),i=vr(n,t),c=vr(r,t);if(!Object(mr.a)(n,r)){var o=Object(cn.a)(a),s=Object(pr.a)(a);Object(Or.a)(s,r)&&(c=vr(s,t)),Object(hr.a)(o,n)&&(i=vr(o,t))}return{x:i,width:c-i,className:e.status}},kr=function(e,t){return(e+1)*t+1},wr=function(e){return"translate(".concat(e.transform.x,",").concat(e.transform.y,")")},Cr=Object(jr.a)((function(e){return{tooltip:{backgroundColor:e.palette.grey[100],color:e.palette.text.primary,maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid ".concat(e.palette.grey[300])}}}))(Me.a),Dr=Object(M.a)((function(e){return Object(Oe.a)({container:{display:"flex",flexDirection:"column",marginBottom:"0.5rem","& svg":{fontSize:"1.5rem","& line":{strokeWidth:2},"& line.hour-line":{stroke:e.palette.grey[400]},"& line.hour-half-line":{stroke:e.palette.grey[300]},"& text":{fill:e.palette.grey[400]},"& text.subject":{fill:"#fff",fontSize:"1.2rem",dominantBaseline:"central",cursor:"pointer"},"& rect":{strokeWidth:1,fillOpacity:.5},"& rect.new-event-bar":{fillOpacity:0},"& rect.event":{stroke:e.palette.success.main,fill:e.palette.success.light,fillOpacity:.9,cursor:"pointer"},"& rect.myOwn":{stroke:e.palette.info.main,fill:e.palette.info.light},"& rect.wait":{stroke:e.palette.warning.light,fill:e.palette.warning.main},"& rect.busy":{stroke:e.palette.error.light,fill:e.palette.error.main}}},title:{fontSize:"1rem",paddingBottom:0}})}));function Sr(e){var t=e.rangeToggle,a=e.dataDialogHook,r=e.schedule,i=e.events,c=e.onClickCallback,o=e.keyLabel,s=e.keyValue,l=e.onTitleClick,d=Dr(),u=Object(n.useState)(fr),j=Object(g.a)(u,2),b=j[0],m=j[1],p=Object(n.useState)(wr(b)),O=Object(g.a)(p,2),h=O[0],f=O[1];Object(n.useEffect)((function(){m("short"===t?fr:gr)}),[t]),Object(n.useEffect)((function(){f(wr(b))}),[b,i]);var x=31,v=39,y="free"===r.type?70+v*(r.scheduleItems.length-1)+v:70,C=Object(n.useCallback)((function(e,t,a,n){var r=yr(e,b,new Date(a));return Object(T.jsx)("rect",{className:r.className,x:r.x,y:x+v*n,width:r.width,height:v,rx:3,ry:5},"".concat(s,"-sc-").concat(t))}),[b,s,x,v]),D=Object(n.useCallback)((function(e,t,a,n){var r={status:"event",start:e.startDateTime,end:e.endDateTime+e.cleaningTime},i=yr(r,b,new Date(a)),o=i.x,l=x+v*n,d=i.width,u=e.isAttendees?"myOwn":"";return Object(T.jsx)(Cr,{title:Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(k.a,{variant:"body2",children:e.subject}),Object(T.jsx)("em",{children:e.apptTime})," ",Object(T.jsx)("b",{children:e.reservationName})]}),onClick:function(){c(e)},children:Object(T.jsx)("svg",{x:o,y:l,width:d,height:39,viewBox:"0 0 ".concat(d," ").concat(39),children:Object(T.jsxs)("g",{children:[Object(T.jsx)("rect",{className:Object(pe.a)(i.className,u),x:0,y:0,width:d,height:39,rx:3,ry:5}),Object(T.jsx)("text",{className:"subject",x:3,y:"50%",children:e.subject})]})})},"".concat(s,"-ev-").concat(t))}),[b,x,v,s,c]),S=Object(n.useMemo)((function(){return Object(T.jsx)(T.Fragment,{children:r.scheduleItems.map((function(e,t){return e.map((function(e,a){return C(e,a,r.date,t)}))}))})}),[C,r]),N=Object(n.useMemo)((function(){return Object(T.jsx)(T.Fragment,{children:i.map((function(e,t){return e.map((function(e,a){return D(e,a,r.date,t)}))}))})}),[D,i,r]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(w.a,{color:"secondary",className:d.title,size:"small",onClick:function(){return l(r.date,r.categoryId,r.roomId)},children:o}),Object(T.jsx)("div",{className:d.container,children:Object(T.jsx)("svg",{viewBox:"0 0 ".concat(1442," ").concat(y),preserveAspectRatio:"none",children:Object(T.jsxs)("g",{transform:h,children:[Object(T.jsx)("line",{className:"hour-line",x1:0,y1:0,x2:0,y2:y}),Object(T.jsx)("line",{className:"hour-half-line",x1:b.halfWidth,y1:xr,x2:b.halfWidth,y2:y}),ta.a.range(0,24).map((function(e){var t=kr(e,b.width),a=t+b.halfWidth,r=e*b.width+5;return Object(T.jsxs)(n.Fragment,{children:[Object(T.jsx)("line",{className:"hour-line",x1:t,y1:0,x2:t,y2:y},"hour-line-".concat(e)),Object(T.jsx)("line",{className:"hour-half-line",x1:a,y1:xr,x2:a,y2:y},"hour-half-line-".concat(e)),Object(T.jsx)("text",{x:r,y:25,children:e},"hour-text-".concat(e))]},"fragment-".concat(e))})),Object(T.jsx)("rect",{className:"new-event-bar",x:0,y:x,width:kr(24,b.width),height:y-x,onClick:function(e){return function(e,t,n,r){var i=e.currentTarget.closest("svg");if(i){var c=i.createSVGPoint();c.x=e.clientX,c.y=e.clientY;var o=i.getScreenCTM();if(o){var s=function(e,t){return(e+0)/t.scale*60*1e3}(c.matrixTransform(o.inverse()).x-b.transform.x+1,b),l=1e3*Math.floor(s/1e3/60/30)*60*30,d=new Date(Object(cn.a)(t).getTime()+l);a.dispatch({type:"addDataOpen",addDefault:{start:d,roomId:n,usageRange:r}})}}}(e,r.date,r.roomId,r.usageRange)}}),S,N]})})})]})}var Tr=a(252),Nr=a.n(Tr),Mr=a(661),Ir=a(649),Rr=Object(jr.a)((function(){return{root:{}}}))(Mr.a),Er=Object(jr.a)((function(){return{root:{fontSize:"1.1em",padding:"2px 10px","&$selected":{backgroundColor:Nr.a[300],color:Nr.a[600],"&:hover":{backgroundColor:Nr.a[100]}}},selected:{}}}))(Ir.a);function Fr(e){var t=e.rangeToggle,a=e.onChangeRangeToggle;return Object(T.jsx)(Ut.a,{container:!0,justify:"flex-end",children:Object(T.jsx)(Ut.a,{item:!0,xs:12,style:{textAlign:"right"},children:Object(T.jsxs)(Rr,{size:"small",value:t,exclusive:!0,onChange:function(e,t){t&&a(t)},children:[Object(T.jsx)(Er,{value:"short",children:Object(T.jsx)(T.Fragment,{children:"8-20"})}),Object(T.jsx)(Er,{value:"long",children:Object(T.jsx)(T.Fragment,{children:"1Day"})})]})})})}function Pr(e){var t=e.currentDate,a=e.dataDialogHook,r=e.tabKey,i=e.rangeToggle,c=e.onChangeRangeToggle,o=e.onTitleClick,s=Object(x.a)().t,l=Object(p.h)(),d=Ze("",void 0),u=Object(g.a)(d,3),j=u[0],b=j.data,m=j.isLoading,O=j.isError,h=u[1],f=u[2];Object(n.useEffect)((function(){f("/event/byroom?timestamp=".concat(t.getTime(),"&location=").concat(l.params.location,"&category=").concat(r))}),[t,l.params.location,f,r]);var v=Lt({dataDialogHook:a}),y=Object(g.a)(v,4),k=y[0].currentRow,w=y[2],C=y[3],D=Object(n.useMemo)((function(){return b?Object(T.jsx)(T.Fragment,{children:b.schedules.map((function(e,t){return Object(T.jsx)(Sr,{rangeToggle:i,dataDialogHook:a,schedule:e,events:e.eventsIndex.map((function(e){return e.map((function(e){return b.events[e]}))})),onClickCallback:w,keyLabel:e.roomName,keyValue:e.roomEmail,onTitleClick:o},t)}))}):Object(T.jsx)(T.Fragment,{})}),[b,a,w,o,i]);return O?Object(T.jsx)("div",{children:s("common.msg.fetch-failed")}):Object(T.jsxs)(Jn,{currentRow:k,dataDialogHook:a,isLoading:m,reload:h,onRecConfClose:C,children:[Object(T.jsx)(Fr,{rangeToggle:i,onChangeRangeToggle:c}),D]})}function Lr(e){var t=e.currentDate,a=e.dataDialogHook,r=e.tabKey,i=e.rangeToggle,c=e.onChangeRangeToggle,o=e.onTitleClick,s=Object(x.a)().t,l=Object(p.h)(),d=Object(n.useContext)(tn.b),u=Ze("",void 0),j=Object(g.a)(u,3),b=j[0],m=b.data,O=b.isLoading,h=b.isError,f=j[1],v=j[2];Object(n.useEffect)((function(){v("/event/byroom/weekly?timestamp=".concat(t.getTime(),"&location=").concat(l.params.location,"&room=").concat(r))}),[t,l.params.location,v,r]);var y=Lt({dataDialogHook:a}),k=Object(g.a)(y,4),w=k[0].currentRow,C=k[2],D=k[3],S=Object(n.useMemo)((function(){return m?Object(T.jsx)(T.Fragment,{children:m.schedules.map((function(e,t){return Object(T.jsx)(Sr,{rangeToggle:i,dataDialogHook:a,schedule:e,events:e.eventsIndex.map((function(e){return e.map((function(e){return m.events[e]}))})),onClickCallback:C,keyLabel:Object(an.default)(e.date,"yyyy/MM/dd (E)",{locale:null===d||void 0===d?void 0:d.locale}),keyValue:e.date.toString(),onTitleClick:o},t)}))}):Object(T.jsx)(T.Fragment,{})}),[m,a,C,null===d||void 0===d?void 0:d.locale,o,i]);return h?Object(T.jsx)("div",{children:s("common.msg.fetch-failed")}):Object(T.jsxs)(Jn,{currentRow:w,dataDialogHook:a,isLoading:O,reload:f,onRecConfClose:D,children:[Object(T.jsx)(Fr,{rangeToggle:i,onChangeRangeToggle:c}),S]})}var Br=a(451),Vr=a(650),Ar=a(651),Wr=a(157);function Hr(e){var t=e.data,a=e.tabPanelContent,r=e.selected,i=Object(n.useState)(!1),c=Object(g.a)(i,2),o=c[0],s=c[1];Object(n.useEffect)((function(){return s(!0)}),[]);var l=Object(n.useState)(""),d=Object(g.a)(l,2),u=d[0],j=d[1];Object(n.useEffect)((function(){j(r||t[0].id)}),[t,r]),Object(n.useEffect)((function(){X()||_("tabValue",u)}),[u]);var b=function(e,t){j(t)},m=Object(n.useMemo)((function(){return Object(T.jsx)(Vr.a,{indicatorColor:"primary",textColor:"primary",variant:"scrollable",onChange:b,"aria-label":"view tabs",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(T.jsx)(Br.a,{label:e.name,value:"".concat(e.id)},"tab-".concat(t))}))})}),[t]),p=Object(n.useMemo)((function(){return Object(T.jsx)(T.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(T.jsx)(Ar.a,{value:"".concat(e.id),children:Object(n.cloneElement)(a,{tabKey:e.id})},"tab-panel-".concat(t))}))})}),[t,a]);return o?Object(T.jsxs)(Wr.a,{value:u,children:[Object(T.jsx)(fe.a,{position:"static",color:"default",children:m}),p]}):Object(T.jsx)(T.Fragment,{})}function qr(e){var t=e.tabPanelContent,a=e.selected,r=Object(p.h)(),i=Ze("",[]),c=Object(g.a)(i,3),o=c[0],s=o.data,l=o.isLoading,d=c[2];return Object(n.useEffect)((function(){d("/category/choices?location=".concat(r.params.location,"&tab=byroom"))}),[r.params.location,d]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(F,{open:l}),!!(null===s||void 0===s?void 0:s.length)&&Object(T.jsx)(Hr,{data:s,tabPanelContent:t,selected:a})]})}function zr(e){var t=e.tabPanelContent,a=e.selected,r=Object(p.h)(),i=Ze("",[]),c=Object(g.a)(i,3),o=c[0],s=o.data,l=o.isLoading,d=c[2];return Object(n.useEffect)((function(){d("/room/choices?location=".concat(r.params.location,"&samecategory=").concat(a))}),[r.params.location,a,d]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(F,{open:l}),!!(null===s||void 0===s?void 0:s.length)&&Object(T.jsx)(Hr,{data:s,tabPanelContent:t,selected:a})]})}var Yr=function(e,t){switch(t.type){case"default":return{weekly:!1,changeTab:t.changeTab,titleLabel:"main.byroom.title",subtitleLabel:"main.byroom.subtitle"};case"weekly":return{weekly:!0,changeTab:t.changeTab,titleLabel:"main.byroom-weekly.title",subtitleLabel:"main.byroom-weekly.subtitle"};default:return e}};function Kr(){var e=Object(x.a)().t,t=nt(),a=Object(g.a)(t,6),r=a[0],i=a[1],c=a[2],o=a[3],s=a[4],l=a[5],d=Object(n.useReducer)(Un,{mode:"addData",inputOpen:!1,readOpen:!1}),u=Object(g.a)(d,2),j=u[0],b=u[1],m=Object(n.useReducer)(Yr,{weekly:!1,changeTab:void 0,titleLabel:"main.byroom.title",subtitleLabel:"main.byroom.subtitle"}),p=Object(g.a)(m,2),O=p[0],h=p[1],f=Object(n.useState)("short"),v=Object(g.a)(f,2),y=v[0],k=v[1];Object(n.useEffect)((function(){X()&&(i(new Date(Number($("selectedDate")))),h({type:$("weekly")?"weekly":"default",changeTab:$("tabValue")}),Q())}),[]),Object(n.useEffect)((function(){X()||_("weekly",O.weekly?"1":"")}),[O.weekly]);var w=function(e){k(e)};return Object(T.jsx)(tt,{children:Object(T.jsxs)(me.a,{square:!0,children:[Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(dr,{title:e(O.titleLabel),subtitle:e(O.subtitleLabel),date:r,onDateChange:c,onDatePrev:o,onDateNext:s,dispatch:b})}),!O.weekly&&Object(T.jsx)(qr,{tabPanelContent:Object(T.jsx)(Pr,{currentDate:r,dataDialogHook:{state:j,dispatch:b},tabKey:"dummyId",rangeToggle:y,onChangeRangeToggle:w,onTitleClick:function(e,t,a){i(new Date(e)),l(!0),h({type:"weekly",changeTab:a})}}),selected:O.changeTab}),O.weekly&&Object(T.jsx)(zr,{tabPanelContent:Object(T.jsx)(Lr,{currentDate:r,dataDialogHook:{state:j,dispatch:b},tabKey:"dummyId",rangeToggle:y,onChangeRangeToggle:w,onTitleClick:function(e,t,a){i(new Date(e)),l(!1),h({type:"default",changeTab:t})}}),selected:O.changeTab})]})})}var Ur=a(437),Jr=a.n(Ur),Gr=a(434),_r=a.n(Gr),$r=zt(),Zr=Object(M.a)({checkAction:{textAlign:"center",marginBottom:"10px","& Button":{margin:"0 5%",width:"40%"}}});function Xr(e){var t=e.open,a=e.onClose,r=e.data,i=e.reload,c=Object(x.a)().t,o=$r(),s=Zr(),l=Object(n.useContext)(tn.b),d=Object(n.useContext)(le),u=Object(Kt.d)({reValidateMode:"onSubmit"}),j=u.register,b=u.handleSubmit,m=u.setValue,p=u.reset,O=u.formState,g=O.errors,v=O.isSubmitting,y=O.dirtyFields;Object(n.useEffect)((function(){t?p({id:r.visitorId,iCalUId:r.iCalUId,seriesMasterId:r.seriesMasterId,checkIn:r.checkIn,checkOut:r.checkOut,visitorCardNumber:r.visitorCardNumber}):p()}),[r,t,p]);var k=function(){return Object(an.default)(new Date,"yyyy/MM/dd HH:mm:ss",{locale:null===l||void 0===l?void 0:l.locale})},D=function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ia("/front/".concat(t.mode),{inputs:t,dirtyFields:y});case 3:if(!e.sent.success){e.next=11;break}return e.next=7,i();case 7:a(),d.dispatch({type:"success",message:c("common.msg.update-success")}),e.next=12;break;case 11:d.dispatch({type:"error",message:c("common.msg.update-failed")});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),d.dispatch({type:"error",message:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(F,{open:v}),Object(T.jsxs)(Ta,{open:t,onClose:a,title:c("visitdialog.title"),children:[Object(T.jsx)(C.a,{p:2,children:Object(T.jsxs)("form",{children:[Object(T.jsxs)("div",{className:s.checkAction,children:[Object(T.jsx)(w.a,{onClick:function(){m("mode","checkin"),m("checkIn",k(),{shouldDirty:!0}),b(D)()},variant:"contained",color:"secondary",disabled:!!r.checkOut,children:c("visitdialog.button.check-in")}),Object(T.jsx)(w.a,{onClick:function(){m("mode","checkout"),m("checkOut",k(),{shouldDirty:!0}),b(D)()},variant:"contained",color:"secondary",disabled:!r.checkIn,children:c("visitdialog.button.check-out")})]}),Object(T.jsx)("div",{children:Object(T.jsx)(Jt.a,Object(ne.a)(Object(ne.a)({margin:"normal",fullWidth:!0,autoComplete:"off",color:"secondary",id:"visitorCardNumber",label:c("visitdialog.form.visitor-card-number"),autoFocus:!0},j("visitorCardNumber",{})),{},{error:!!g.visitorCardNumber,helperText:g.visitorCardNumber&&g.visitorCardNumber.message}))})]})}),Object(T.jsx)(C.a,{px:2,pt:2,children:Object(T.jsxs)(xe.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:o.list,children:[Object(T.jsx)("div",{className:o.title,children:c("visittable.header.appt-time")}),Object(T.jsx)("div",{className:o.field,children:r.apptTime})]},"app-time"),Object(T.jsxs)("li",{className:o.list,children:[Object(T.jsx)("div",{className:o.title,children:c("visittable.header.check-in")}),Object(T.jsx)("div",{className:o.field,children:r.checkIn})]},"check-in"),Object(T.jsxs)("li",{className:o.list,children:[Object(T.jsx)("div",{className:o.title,children:c("visittable.header.check-out")}),Object(T.jsx)("div",{className:o.field,children:r.checkOut})]},"check-out"),Object(T.jsxs)("li",{className:o.list,children:[Object(T.jsxs)("div",{className:o.title,children:[c("visittable.header.visit-company-name")," /",Object(T.jsx)("br",{}),c("visittable.header.visit-company-rep")]}),Object(T.jsx)("div",{className:o.field,children:r.visitCompany.map((function(e,t){return Object(T.jsxs)(T.Fragment,{children:[!!t&&Object(T.jsx)("br",{}),Object(T.jsx)("span",{children:"".concat(e.name," / ").concat(e.rep)})]})}))})]},"visit-company"),Object(T.jsxs)("li",{className:o.list,children:[Object(T.jsx)("div",{className:o.title,children:c("visittable.header.number-of-visitor")}),Object(T.jsx)("div",{className:o.field,style:{flexBasis:"25%",borderRight:"none"},children:r.numberOfVisitor}),Object(T.jsx)("div",{className:o.title,style:{flexBasis:"25%",borderLeft:"none"},children:c("visittable.header.number-of-employee")}),Object(T.jsx)("div",{className:o.field,style:{flexBasis:"25%"},children:r.numberOfEmployee})]},"number-of-visitor")]})}),Object(T.jsx)(C.a,{px:2,pt:2,children:Object(T.jsx)(xe.a,{disablePadding:!0,children:Object(T.jsxs)("li",{className:o.list,children:[Object(T.jsx)("div",{className:o.title,children:c("visittable.header.comment")}),Object(T.jsx)("div",{className:o.field,children:r.comment})]},"comment")})}),Object.keys(r.resourcies).map((function(e){return Object(T.jsx)(_a,{data:r.resourcies[e]},e)})),Object(T.jsx)(C.a,{px:2,pt:2,children:Object(T.jsxs)(xe.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:o.list,children:[Object(T.jsx)("div",{className:o.title,children:c("visittable.header.reservation-name")}),Object(T.jsx)("div",{className:o.field,children:r.reservationName})]},"reservation-name"),Object(T.jsxs)("li",{className:o.list,children:[Object(T.jsx)("div",{className:o.title,children:c("visittable.header.contact-addr")}),Object(T.jsx)("div",{className:o.field,children:r.contactAddr})]},"contact-addr")]})}),Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(xe.a,{disablePadding:!0,children:Object(T.jsxs)("li",{className:o.list,children:[Object(T.jsx)("div",{className:o.title,children:c("visitdialog.header.last-updated")}),Object(T.jsx)("div",{className:o.field,children:Object(T.jsx)(nn,{datetime:r.lastUpdated})})]},"datetime")})})]})]})}var Qr=At(!0),ei=function(e){return e.visitCompany.map((function(e){return"".concat(e.name," / ").concat(e.rep)})).join(", ")};function ti(e){var t=e.currentDate,a=e.dataDialogHook,r=Object(x.a)().t,i=Qr(),c=Object(p.h)(),o=Ze("",[]),s=Object(g.a)(o,3),l=s[0],d=l.data,u=l.isLoading,j=l.isError,b=s[1],m=s[2];Object(n.useEffect)((function(){m("/front/visitlist?timestamp=".concat(t.getTime(),"&location=").concat(c.params.location))}),[t,c.params.location,m]);var O=Object(n.useState)(!1),v=Object(g.a)(O,2),y=v[0],k=v[1],w=Lt({dataDialogHook:a}),C=Object(g.a)(w,4),D=C[0].currentRow,S=C[2],N=C[3],M=Object(n.useState)(null),I=Object(g.a)(M,2),R=I[0],E=I[1],F=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=[{title:r("visittable.header.appt-time"),field:"apptTime",render:function(e){return e.apptTime.split(" ")[1]},width:"95px"},{title:r("visittable.header.room-name"),field:"roomName"},{title:r("visittable.header.number-of-people"),field:"teaSupply",render:function(e){var t=Object.keys(e.resourcies)[0],a="".concat(r("visitdialog.view.tea-supply.number-of-tea-supply"),":").concat(e.resourcies[t].numberOfTeaSupply),n="".concat(r("visitdialog.view.tea-supply.number-of-visitor"),":").concat(e.numberOfVisitor),i="".concat(r("visitdialog.view.tea-supply.number-of-employee"),":").concat(e.numberOfEmployee);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("span",{style:e.resourcies[t].teaSupply?{color:"red"}:void 0,children:a}),Object(T.jsx)("br",{}),n,Object(T.jsx)("br",{}),i]})},customSort:function(e,t){var a=Object.keys(e.resourcies)[0],n=Object.keys(t.resourcies)[0];return e.resourcies[a].numberOfTeaSupply-t.resourcies[n].numberOfTeaSupply},width:"70px"},{title:"".concat(r("visittable.header.visit-company-name")," / ").concat(r("visittable.header.visit-company-rep")),field:"visitCompany",render:function(e){return e.visitCompany.map((function(e,t){return Object(T.jsxs)(T.Fragment,{children:[!!t&&Object(T.jsx)("br",{}),Object(T.jsx)("span",{children:"".concat(e.name," / ").concat(e.rep)})]})}))},customSort:function(e,t){return ei(e)<ei(t)?-1:1}},{title:r("visittable.header.check-in"),field:"checkIn",render:function(e){return e.checkIn?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("span",{children:"\u2713"}),Object(T.jsx)("br",{}),Object(T.jsx)("span",{children:e.visitorCardNumber})]}):Object(T.jsx)("span",{})},width:"70px"},{title:r("visittable.header.check-out"),field:"checkOut",render:function(e){return e.checkOut?Object(T.jsx)("span",{children:"\u2713"}):Object(T.jsx)("span",{})},width:"50px"},{title:"".concat(r("visittable.header.reservation-name")," / ").concat(r("visittable.header.contact-addr")),field:"reservationName",render:function(e){return Object(T.jsxs)(T.Fragment,{children:[e.reservationName,Object(T.jsx)("br",{}),e.contactAddr]})}},{title:"".concat(r("visittable.header.tea-details")," / ").concat(r("visittable.header.comment")),field:"comment",render:function(e){var t=Object.keys(e.resourcies)[0],a=e.resourcies[t].teaDetails?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("span",{style:{color:"red"},children:e.resourcies[t].teaDetails}),Object(T.jsx)("br",{})]}):void 0;return Object(T.jsxs)(T.Fragment,{children:[a,e.comment]})},width:"70%"}];return j?Object(T.jsx)("div",{children:r("common.msg.fetch-failed")}):Object(T.jsxs)(Jn,{currentRow:D,dataDialogHook:a,isLoading:u,reload:b,onRecConfClose:N,children:[Object(T.jsx)(it.a,{columns:P,components:{Cell:function(e){return Object(T.jsx)(rt.MTableCell,Object(ne.a)(Object(ne.a)({},e),{},{className:Wt(e.columnDef.field,e.rowData,i)}))}},data:d,onRowClick:function(e,t){return!!t&&function(e){k(!0),E(e)}(t)},actions:[{icon:function(){return Object(T.jsx)(_r.a,{})},tooltip:r("visittable.header.edit-action"),onClick:function(e,t){return!!t&&S(t)}}],localization:{header:{actions:""}},options:Object(ne.a)({showTitle:!1,toolbar:!1,search:!1,headerStyle:{backgroundColor:qt.palette.primary.light,padding:Vt},tableLayout:"fixed"},Pt),icons:Ft}),R&&Object(T.jsx)(Xr,{open:y,onClose:F,data:R,reload:b})]})}var ai=a(652),ni=a(435),ri=a(436),ii=a.n(ri),ci=Object(M.a)({keyboardDatePicker:{"& .MuiOutlinedInput-adornedEnd":{paddingRight:0}},between:{textAlign:"center"}}),oi=["apptTime","roomName","teaSupply","numberOfTeaSupply","teaDetails","numberOfVisitor","numberOfEmployee","visitCompany","checkIn","visitorCardNumber","checkOut","reservationName","contactAddr","subject","comment"];function si(e){var t=e.open,a=e.onClose,r=Object(x.a)().t,i=ci(),c=Object(p.h)(),o=Object(n.useContext)(le),s=Object(n.useRef)(null),l=Object(n.useState)([]),d=Object(g.a)(l,2),u=d[0],j=d[1],b=Object(n.useMemo)((function(){return{location:c.params.location,startDate:new Date,endDate:Object(ai.a)(new Date,1)}}),[c.params.location]),m=Object(Kt.d)({defaultValues:b,reValidateMode:"onSubmit"}),O=m.control,v=m.getValues,y=m.handleSubmit,k=m.reset,D=m.setValue,S=m.formState,N=S.errors,M=S.isSubmitting,I=S.dirtyFields;Object(n.useEffect)((function(){t&&k(b)}),[b,t,k]);var R=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(L)();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=oi.map((function(e){return{label:r("export-csv.file.header.".concat(ta.a.kebabCase(e))),key:e}})),P="visitor-".concat(Object(an.default)(v("startDate"),"yyyyMMdd"),"-").concat(Object(an.default)(v("endDate"),"yyyyMMdd"),".csv"),L=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ia("/front/export",{inputs:t,dirtyFields:I});case 3:(a=e.sent).success?a.value&&(i=a.value.map((function(e){var t=Object.keys(e.resourcies)[0];return{apptTime:e.apptTime,roomName:e.roomName,teaSupply:e.resourcies[t].teaSupply?r("export-csv.file.tea-supply-yes"):r("export-csv.file.tea-supply-no"),numberOfTeaSupply:e.resourcies[t].numberOfTeaSupply.toString(),teaDetails:e.resourcies[t].teaDetails,numberOfVisitor:e.numberOfVisitor.toString(),numberOfEmployee:e.numberOfEmployee.toString(),visitCompany:e.visitCompany.map((function(e){return"".concat(e.name," / ").concat(e.rep)})).join(", "),checkIn:e.checkIn,visitorCardNumber:e.visitorCardNumber,checkOut:e.checkOut,reservationName:e.reservationName,contactAddr:e.contactAddr,subject:e.subject,comment:e.comment}})),j(i),null===s||void 0===s||null===(n=s.current)||void 0===n||n.link.click(),o.dispatch({type:"success",message:r("export-csv.msg.export-success")})):o.dispatch({type:"error",message:r("export-csv.msg.export-failed")}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o.dispatch({type:"error",message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),B=function(e){return Object(T.jsx)(Kt.a,{name:"".concat(e,"Date"),control:O,rules:{required:r("common.form.required"),validate:function(){return Object(cn.a)(v("startDate")).getTime()<=Object(cn.a)(v("endDate")).getTime()||r("export-csv.form.error.event-time")}},render:function(t){var a=t.field;return Object(T.jsx)(fn.b,Object(ne.a)(Object(ne.a)({},a),{},{onChange:function(t){a.onChange(t),"start"===e&&function(){var e=Object(ai.a)(v("startDate"),1);D("endDate",e,{shouldDirty:!0})}()},format:"yyyy/MM/dd",label:r("export-csv.".concat(e,"-date")),showTodayButton:!0,KeyboardButtonProps:{"aria-label":"change date"},size:"small",className:i.keyboardDatePicker,error:!!N["".concat(e,"Date")],helperText:N["".concat(e,"Date")]&&N["".concat(e,"Date")].message}))}})};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(F,{open:M}),Object(T.jsxs)(Ta,{open:t,onClose:a,title:r("export-csv.title"),children:[Object(T.jsxs)("form",{children:[Object(T.jsx)(C.a,{px:2,pt:2,children:Object(T.jsxs)(Ut.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object(T.jsx)(Ut.a,{container:!0,item:!0,xs:12,sm:4,children:B("start")}),Object(T.jsx)(Ut.a,{item:!0,xs:12,sm:4,className:i.between,children:Object(T.jsx)(ii.a,{})}),Object(T.jsx)(Ut.a,{container:!0,item:!0,xs:12,sm:4,children:B("end")})]})}),Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(w.a,{onClick:R,variant:"contained",color:"primary",fullWidth:!0,children:r("export-csv.button.export-csv")})})]}),Object(T.jsx)(ni.CSVLink,{style:{display:"none"},data:u,headers:E,filename:P,ref:s,children:"Export Trigger"})]})]})}function li(){var e=Object(x.a)().t,t=nt(),a=Object(g.a)(t,5),r=a[0],i=a[1],c=a[2],o=a[3],s=a[4],l=Object(n.useReducer)(Un,{mode:"addData",inputOpen:!1,readOpen:!1}),d=Object(g.a)(l,2),u=d[0],j=d[1],b=Object(n.useState)(!1),m=Object(g.a)(b,2),p=m[0],O=m[1];Object(n.useEffect)((function(){X()&&(i(new Date(Number($("selectedDate")))),Q())}),[]);var h=Object(T.jsx)(w.a,{variant:"contained",startIcon:Object(T.jsx)(Jr.a,{}),onClick:function(){O(!0)},children:e("main.header.export-csv")});return Object(T.jsxs)(tt,{frontMode:!0,children:[Object(T.jsxs)(me.a,{square:!0,children:[Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(dr,{title:e("main.front.title"),subtitle:e("main.front.subtitle"),date:r,onDateChange:c,onDatePrev:o,onDateNext:s,dispatch:j,actionButtons:[h]})}),Object(T.jsx)(C.a,{px:2,pb:2,children:Object(T.jsx)(ti,{currentDate:r,dataDialogHook:{state:u,dispatch:j}})})]}),Object(T.jsx)(si,{open:p,onClose:function(){O(!1)}})]})}var di=Object(M.a)((function(e){return Object(Oe.a)({formAction:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},note:{color:"red",fontSize:"0.9em",margin:0}})})),ui=Object(s.b)({palette:{primary:{main:u.main},secondary:{main:Ht.a[300]}},props:{MuiTextField:{variant:"outlined",margin:"dense",fullWidth:!0,minRows:4}}});function ji(e){var t=e.inputFields,a=e.open,r=e.onClose,i=e.data,c=e.reload,s=Object(x.a)().t,l=di(),d=Object(n.useContext)(le),u=Object(n.useState)(!1),j=Object(g.a)(u,2),b=j[0],m=j[1],p=Object(Kt.d)({defaultValues:Object(ne.a)({},t.defaultValues),reValidateMode:"onSubmit"}),O=p.handleSubmit,v=p.reset,y=p.setValue,k=p.setError,D=p.formState,S=D.isDirty,N=D.isSubmitting,M=D.dirtyFields;Object(n.useEffect)((function(){if(a&&i){var e=Object.keys(t.defaultValues).reduce((function(e,t){return"mode"===t?e.mode="upd":e[t]=i[t],e}),{});v(ta.a.cloneDeep(e))}else v(ta.a.cloneDeep(t.defaultValues))}),[i,t,a,v]);var I=function(){var e=Object(f.a)(h.a.mark((function e(a){var n,i,o,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n="",e.t0=a.mode,e.next="ins"===e.t0?5:"upd"===e.t0?7:"del"===e.t0?9:11;break;case 5:return n="/".concat(t.type,"/create"),e.abrupt("break",11);case 7:return n="/".concat(t.type,"/update"),e.abrupt("break",11);case 9:return n="/".concat(t.type,"/delete"),e.abrupt("break",11);case 11:return e.next=13,ia(n,{inputs:a,dirtyFields:M});case 13:if(!(i=e.sent).success){e.next=27;break}if("del"!==a.mode){e.next=18;break}return e.next=18,new Promise((function(e){return setTimeout(e,1e3)}));case 18:return e.next=20,c();case 20:if(r(),d.dispatch({type:"success",message:s("common.msg.update-success")}),"role"!==t.type&&"location"!==t.type){e.next=25;break}return e.next=25,new Promise((function(){return setTimeout((function(){d.dispatch({type:"warning",message:s("common.msg.prompt-logout")})}),1500)}));case 25:e.next=28;break;case 27:if(i.errors)for(l in o=i.errors)k(u=l,{message:s(o[u][0])});case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(0),d.dispatch({type:"error",message:e.t1.message});case 33:case"end":return e.stop()}}),e,null,[[0,30]])})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(F,{open:N}),Object(T.jsx)(Ta,{open:a,onClose:r,title:s("settings.title.".concat(t.type)),children:Object(T.jsx)(o.a,{theme:ui,children:Object(T.jsx)(Kt.b,Object(ne.a)(Object(ne.a)({},p),{},{children:Object(T.jsxs)("form",{children:[Object(T.jsx)(C.a,{p:2,children:t.item}),Object(T.jsx)(C.a,{px:2,children:Object(T.jsxs)(Ut.a,{container:!0,justifyContent:"space-between",spacing:2,className:l.formAction,children:[Object(T.jsx)(Ut.a,{item:!0,xs:i?6:12,children:Object(T.jsx)(w.a,{onClick:function(){O(I)()},variant:"contained",color:"primary",disabled:!S,startIcon:Object(T.jsx)(Zt.a,{}),fullWidth:!0,children:s("common.button.save")})}),Object(T.jsx)(Ut.a,{item:!0,xs:6,style:i?void 0:{display:"none"},children:Object(T.jsx)(w.a,{onClick:function(){m(!0)},variant:"contained",color:"primary",startIcon:Object(T.jsx)(_t.a,{}),fullWidth:!0,children:s("common.button.delete")})})]})})]})}))})}),Object(T.jsx)(Ha,{open:b,onClose:function(e){m(!1),e&&(y("mode","del"),O(I)())},message:s("common.msg.delete-confirm"),color:"secondary"})]})}var bi=function(e,t){switch(t.type){case"inputOpen":return{mode:"rowData",inputOpen:!0};case"addDataOpen":return{mode:"addData",inputOpen:!0};case"inputClose":return Object(ne.a)(Object(ne.a)({},e),{},{inputOpen:!1});default:return e}};function mi(e){var t=e.inputFields,a=e.dataDialogHook,n=e.isLoading,r=e.reload,i=e.currentRow,c=e.children,s=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.dispatch({type:"inputClose"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(o.a,{theme:qt,children:[Object(T.jsx)(F,{open:n}),c,Object(T.jsx)(ji,{inputFields:t,open:a.state.inputOpen,onClose:s,data:"addData"===a.state.mode?null:i,reload:r})]})}function pi(e){var t=e.inputFields,a=e.columns,r=e.dataDialogHook,i=Object(x.a)().t,c=Ze("",[]),o=Object(g.a)(c,3),s=o[0],l=s.data,d=s.isLoading,u=s.isError,j=o[1],b=o[2];Object(n.useEffect)((function(){b("/".concat(t.type,"/list"))}),[t.type,b]);var m=Object(n.useState)(null),p=Object(g.a)(m,2),O=p[0],h=p[1],f=Object(n.useCallback)((function(e){r.dispatch({type:"inputOpen"}),h(e)}),[r]);return u?Object(T.jsx)("div",{children:i("common.msg.fetch-failed")}):Object(T.jsx)(mi,{inputFields:t,currentRow:O,dataDialogHook:r,isLoading:d,reload:j,children:Object(T.jsx)(it.a,{columns:a,data:l,onRowClick:function(e,t){return!!t&&f(t)},options:Object(ne.a)({showTitle:!1,toolbar:!1,search:!1,headerStyle:{backgroundColor:qt.palette.primary.light},tableLayout:"fixed"},Pt),icons:Ft})})}var Oi=Object(M.a)((function(){return{actionButtonArea:{textAlign:"right",margin:"auto"}}}));function hi(e){var t=e.master,a=e.dispatch,n=Object(x.a)().t,r=Oi();return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(Ut.a,{container:!0,alignItems:"stretch",justifyContent:"space-between",children:[Object(T.jsx)(Ut.a,{container:!0,item:!0,xs:12,sm:9,children:Object(T.jsx)(k.a,{component:"h1",variant:"h6",children:n("settings.title.".concat(t))})}),Object(T.jsx)(Ut.a,{item:!0,xs:12,sm:3,className:r.actionButtonArea,children:Object(T.jsx)(w.a,{variant:"contained",color:"secondary",startIcon:Object(T.jsx)(rr.a,{}),onClick:function(e){a({type:"addDataOpen"})},children:n("settings.add-master")})})]})})}var fi=["admin","front"];function gi(){var e=Object(Kt.e)(),t=e.control,a=e.formState.errors,n=Object(x.a)().t;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(oa,{name:"name",control:t,label:n("settings.header.role.name"),required:!0,selectList:fi.map((function(e){return{label:n("settings.view.role.name.".concat(e)),value:e}})),errors:a}),Object(T.jsx)(ya,{name:"members",control:t,label:n("settings.header.role.members"),errors:a})]})}function xi(){var e=Object(x.a)().t,t=Object(n.useReducer)(bi,{mode:"addData",inputOpen:!1}),a=Object(g.a)(t,2),r=a[0],i=a[1],c=[{title:e("settings.header.role.name"),field:"name",render:function(t){return e("settings.view.role.name.".concat(t.name))}}];return Object(T.jsx)(tt,{adminMode:!0,menuOpen:!0,children:Object(T.jsxs)(me.a,{square:!0,children:[Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(hi,{master:"role",dispatch:i})}),Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(pi,{inputFields:{type:"role",item:Object(T.jsx)(gi,{}),defaultValues:{mode:"ins",id:"",name:"admin",members:[]}},columns:c,dataDialogHook:{state:r,dispatch:i}})})]})})}function vi(){var e=Object(Kt.e)(),t=e.control,a=e.formState.errors,n=Object(x.a)().t;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(oa,{name:"name",control:t,label:n("settings.header.location.name"),required:!0,errors:a}),Object(T.jsx)(oa,{name:"url",control:t,label:n("settings.header.location.url"),required:!0,validation:{pattern:{value:/^[a-z0-9]+$/,message:n("settings.form.location.error.url.pattern")}},errors:a}),Object(T.jsx)(oa,{name:"sort",control:t,label:n("settings.header.location.sort"),errors:a})]})}function yi(){var e=Object(x.a)().t,t=Object(n.useReducer)(bi,{mode:"addData",inputOpen:!1}),a=Object(g.a)(t,2),r=a[0],i=a[1],c=[{title:e("settings.header.location.name"),field:"name"},{title:e("settings.header.location.url"),field:"url"},{title:e("settings.header.location.sort"),field:"sort"}];return Object(T.jsx)(tt,{adminMode:!0,menuOpen:!0,children:Object(T.jsxs)(me.a,{square:!0,children:[Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(hi,{master:"location",dispatch:i})}),Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(pi,{inputFields:{type:"location",item:Object(T.jsx)(vi,{}),defaultValues:{mode:"ins",id:"",name:"",url:"",sort:""}},columns:c,dataDialogHook:{state:r,dispatch:i}})})]})})}function ki(){var e=Object(Kt.e)(),t=e.control,a=e.setValue,r=e.formState.errors,i=Object(x.a)().t,c=Object(Kt.f)({control:t,name:"limitedPublic"}),o=Object(n.useState)(!1),s=Object(g.a)(o,2),l=s[0],d=s[1];return Object(n.useEffect)((function(){d(c),c||a("members",[],{shouldDirty:!0})}),[c,a]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(oa,{name:"name",control:t,label:i("settings.header.category.name"),required:!0,errors:r}),Object(T.jsx)(oa,{name:"sort",control:t,label:i("settings.header.category.sort"),errors:r}),Object(T.jsx)(za.a,{control:Object(T.jsx)(Kt.a,{name:"limitedPublic",control:t,render:function(e){var t=e.field;return Object(T.jsx)(Ya.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary"})}}),label:i("settings.header.category.limited-public")}),Object(T.jsx)(ya,{name:"members",control:t,label:i("settings.header.category.members"),errors:r,style:l?void 0:{display:"none"}}),Object(T.jsx)(za.a,{control:Object(T.jsx)(Kt.a,{name:"disabledByRoom",control:t,render:function(e){var t=e.field;return Object(T.jsx)(Ya.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary"})}}),label:i("settings.header.category.disabled-by-room")})]})}function wi(){var e=Object(x.a)().t,t=Object(n.useReducer)(bi,{mode:"addData",inputOpen:!1}),a=Object(g.a)(t,2),r=a[0],i=a[1],c=[{title:e("settings.header.category.name"),field:"name"},{title:e("settings.header.category.sort"),field:"sort"},{title:e("settings.header.category.limited-public"),field:"limitedPublic",type:"boolean"},{title:e("settings.header.category.disabled-by-room"),field:"disabledByRoom",type:"boolean"}];return Object(T.jsx)(tt,{adminMode:!0,menuOpen:!0,children:Object(T.jsxs)(me.a,{square:!0,children:[Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(hi,{master:"category",dispatch:i})}),Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(pi,{inputFields:{type:"category",item:Object(T.jsx)(ki,{}),defaultValues:{mode:"ins",id:"",name:"",sort:"",limitedPublic:!1,members:[],disabledByRoom:!1}},columns:c,dataDialogHook:{state:r,dispatch:i}})})]})})}function Ci(e){var t=e.locations,a=e.categories,r=Object(Kt.e)(),i=r.control,c=r.setValue,o=r.formState.errors,s=Object(x.a)().t,l=Object(n.useState)(!1),d=Object(g.a)(l,2),u=d[0],j=d[1],b=Object(Kt.f)({control:i,name:"type"});Object(n.useEffect)((function(){"free"===b?(c("teaSupply",{outside:!1,inside:!1},{shouldDirty:!0}),j(!0)):j(!1)}),[c,b]);var m=Object(Kt.f)({control:i,name:"usageRange"});return Object(n.useEffect)((function(){switch(m){case"outside":c("teaSupply.inside",!1,{shouldDirty:!0});break;case"inside":c("teaSupply.outside",!1,{shouldDirty:!0})}}),[c,m]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(oa,{name:"name",control:i,label:s("settings.header.room.name"),required:!0,errors:o}),Object(T.jsx)(oa,{name:"email",control:i,label:s("settings.header.room.email"),required:!0,validation:{pattern:{value:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:s("settings.form.room.error.email.pattern")}},errors:o}),Object(T.jsx)(oa,{name:"sort",control:i,label:s("settings.header.room.sort"),errors:o}),Object(T.jsx)(oa,{name:"usageRange",control:i,label:s("settings.header.room.usage-range"),required:!0,selectList:ra.map((function(e){return{label:s("settings.view.room.usage-range.".concat(e)),value:e}})),errors:o}),Object(T.jsx)(oa,{name:"type",control:i,label:s("settings.header.room.type"),required:!0,selectList:aa.map((function(e){return{label:s("settings.view.room.type.".concat(e)),value:e}})),errors:o}),Object(T.jsxs)(Ut.a,{container:!0,style:u?{display:"none"}:void 0,children:[Object(T.jsx)(Ut.a,{item:!0,children:Object(T.jsx)(za.a,{control:Object(T.jsx)(Kt.a,{name:"teaSupply.outside",control:i,render:function(e){var t=e.field;return Object(T.jsx)(Ya.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary",disabled:u})}}),label:s("settings.header.room.tea-supply.outside"),style:"inside"===m?{display:"none"}:void 0})}),Object(T.jsx)(Ut.a,{item:!0,children:Object(T.jsx)(za.a,{control:Object(T.jsx)(Kt.a,{name:"teaSupply.inside",control:i,render:function(e){var t=e.field;return Object(T.jsx)(Ya.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary",disabled:u})}}),label:s("settings.header.room.tea-supply.inside"),style:"outside"===m?{display:"none"}:void 0})})]}),Object(T.jsx)(oa,{name:"location",control:i,label:s("settings.header.room.location"),required:!0,selectList:null===t||void 0===t?void 0:t.map((function(e){return{label:e.name,value:e.id}})),errors:o}),Object(T.jsx)(oa,{name:"category",control:i,label:s("settings.header.room.category"),required:!0,selectList:null===a||void 0===a?void 0:a.map((function(e){return{label:e.name,value:e.id}})),errors:o}),Object(T.jsx)(oa,{name:"comment",control:i,label:s("settings.header.room.comment"),multiline:!0,errors:o}),Object(T.jsx)(za.a,{control:Object(T.jsx)(Kt.a,{name:"cleaningOption",control:i,render:function(e){var t=e.field;return Object(T.jsx)(Ya.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary"})}}),label:s("settings.header.room.cleaning-option")})]})}function Di(){var e=Object(x.a)().t,t=Object(n.useReducer)(bi,{mode:"addData",inputOpen:!1}),a=Object(g.a)(t,2),r=a[0],i=a[1],c=Ze("/location/choices",[]),o=Object(g.a)(c,1)[0].data,s=Ze("/category/choices",[]),l=Object(g.a)(s,1)[0].data,d=function(t){return e(t?"settings.view.room.tea-supply-true":"settings.view.room.tea-supply-false")},u=[{title:e("settings.header.room.name"),field:"name"},{title:e("settings.header.room.sort"),field:"sort"},{title:e("settings.header.room.usage-range"),field:"usageRange",render:function(t){return e("settings.view.room.usage-range.".concat(t.usageRange))}},{title:e("settings.header.room.type"),field:"type",render:function(t){return e("settings.view.room.type.".concat(t.type))}},{title:e("settings.header.room.tea-supply"),field:"teaSupply",type:"boolean",sorting:!1,render:function(t){return"none"===t.usageRange?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("span",{children:[e("settings.view.room.tea-supply.outside"),d(t.teaSupply.outside)]}),Object(T.jsx)("br",{}),Object(T.jsxs)("span",{children:[e("settings.view.room.tea-supply.inside"),d(t.teaSupply.inside)]})]}):Object(T.jsx)("span",{children:d(t.teaSupply[t.usageRange])})}},{title:e("settings.header.room.location"),field:"location",render:function(e){var t=null===o||void 0===o?void 0:o.find((function(t){return t.id===e.location}));return null===t||void 0===t?void 0:t.name}},{title:e("settings.header.room.category"),field:"category",render:function(e){var t=null===l||void 0===l?void 0:l.find((function(t){return t.id===e.category}));return null===t||void 0===t?void 0:t.name}},{title:e("settings.header.room.cleaning-option"),field:"cleaningOption",type:"boolean"}];return Object(T.jsx)(tt,{adminMode:!0,menuOpen:!0,children:Object(T.jsxs)(me.a,{square:!0,children:[Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(hi,{master:"room",dispatch:i})}),Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(pi,{inputFields:{type:"room",item:Object(T.jsx)(Ci,{locations:o,categories:l}),defaultValues:{mode:"ins",id:"",name:"",email:"",usageRange:"none",type:"rooms",sort:"",teaSupply:{outside:!1,inside:!1},comment:"",cleaningOption:!1,location:"",category:""}},columns:u,dataDialogHook:{state:r,dispatch:i}})})]})})}function Si(){return Object(T.jsx)(m.a,{children:Object(T.jsxs)(p.d,{children:[Object(T.jsx)(p.b,{exact:!0,path:"/:location?/login",component:ae}),Object(T.jsx)(p.b,{exact:!0,path:"/oauth/redirect",component:je}),Object(T.jsx)(p.b,{exact:!0,path:"/:location/main",component:ur}),Object(T.jsx)(p.b,{exact:!0,path:"/:location/main/byroom",component:Kr}),Object(T.jsx)(p.b,{exact:!0,path:"/:location/front",component:li}),Object(T.jsx)(p.b,{exact:!0,path:"/:location?/settings/role",component:xi}),Object(T.jsx)(p.b,{exact:!0,path:"/:location?/settings/location",component:yi}),Object(T.jsx)(p.b,{exact:!0,path:"/:location?/settings/category",component:wi}),Object(T.jsx)(p.b,{exact:!0,path:"/:location?/settings/room",component:Di}),Object(T.jsx)(p.a,{from:"/:location?/",to:"/:location?/login"})]})})}var Ti=a(438),Ni=a(439),Mi=a(443),Ii=a(442),Ri=a(220),Ei=a(180),Fi=function(e){Object(Mi.a)(a,e);var t=Object(Ii.a)(a);function a(){return Object(Ti.a)(this,a),t.apply(this,arguments)}return Object(Ni.a)(a,[{key:"getCalendarHeaderText",value:function(e){return Object(an.default)(e,"Yo MMM",{locale:Ei.a})}},{key:"getDatePickerHeaderText",value:function(e){return Object(an.default)(e,"MMMd\u65e5",{locale:Ei.a})}}]),a}(Ri.default);var Pi=function(){return Object(T.jsxs)(o.a,{theme:j,children:[Object(T.jsx)(b.a,{}),Object(T.jsx)(tn.a,{utils:Fi,locale:Ei.a,children:Object(T.jsx)(Si,{})})]})},Li=a(440),Bi=a(441),Vi=a(183),Ai={en:{translation:Li},ja:{translation:Bi}};Bt.a.use(Vi.e).init({lng:"ja",fallbackLng:"ja",interpolation:{escapeValue:!1},react:{useSuspense:!1},resources:Ai});Bt.a;c.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(Pi,{})}),document.getElementById("root"))}},[[601,1,2]]]);
//# sourceMappingURL=main.f78cfe12.chunk.js.map