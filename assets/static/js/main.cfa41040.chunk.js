(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{438:function(e){e.exports=JSON.parse('{"login.form.email":"Email Address","login.form.password":"Password","login.form.submit":"Log In","login.form.required":"Required","login.form.invalid-pattern":"Invalid pattern"}')},439:function(e){e.exports=JSON.parse('{"common.form.required":"\u5fc5\u9808\u5165\u529b\u3067\u3059\u3002","common.button.ok":"OK","common.button.cancel":"\u30ad\u30e3\u30f3\u30bb\u30eb","common.button.search":"\u691c\u7d22","common.button.save":"\u4fdd\u5b58\u3059\u308b","common.button.delete":"\u524a\u9664\u3059\u308b","common.msg.login-success":"\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f\u3002\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u3002","common.msg.login-failed":"\u30ed\u30b0\u30a4\u30f3\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","common.msg.no-data":"\u8a72\u5f53\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093\u3002","common.msg.fetch-failed":"\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","common.msg.update-success":"\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002","common.msg.update-failed":"\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","common.msg.authority-error":"\u6a29\u9650\u304c\u3042\u308a\u307e\u305b\u3093\u3002","common.msg.prompt-logout":"\u53cd\u6620\u3059\u308b\u305f\u3081\u306b\u306f\u30ed\u30b0\u30a2\u30a6\u30c8\u304c\u5fc5\u8981\u3067\u3059\u3002","common.msg.delete-confirm":"\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","common.error.Invalid-date":"\u65e5\u4ed8\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093","common.error.Invalid-min-date":"\u65e5\u4ed8\u304c\u6700\u5c0f\u65e5\u4ed8\u3092\u4e0b\u56de\u3063\u3066\u3044\u307e\u3059","common.error.Invalid-max-date":"\u65e5\u4ed8\u304c\u6700\u5927\u65e5\u4ed8\u3092\u4e0a\u56de\u3063\u3066\u3044\u307e\u3059","login.form.email":"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9","login.form.password":"\u30d1\u30b9\u30ef\u30fc\u30c9","login.form.submit":"\u30ed\u30b0\u30a4\u30f3","login.form.invalid-pattern":"\u7121\u52b9\u306a\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002","login.msal.login":"Microsoft \u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30ed\u30b0\u30a4\u30f3","visitlist.title":"\u6765\u8a2a\u4e00\u89a7","visittable.header.appt-date-time":"\u4e88\u7d04\u65e5\u6642","visittable.header.appt-time":"\u4e88\u7d04\u6642\u9593","visittable.header.room-name":"\u4f1a\u8b70\u5ba4\u540d","visittable.header.visit-company-name":"\u6765\u8a2a\u793e\u540d","visittable.header.visit-company-rep":"\u4ee3\u8868\u8005\u540d(\u656c\u79f0\u7565)","visittable.header.tea-supply":"\u5448\u8336","visittable.header.number-of-tea-supply":"\u5448\u8336\u7dcf\u6570","visittable.header.tea-details":"\u5448\u8336\u8a73\u7d30","visittable.header.number-of-visitor":"\u6765\u8a2a\u8005\u6570","visittable.header.number-of-employee":"\u5f93\u696d\u54e1\u6570","visittable.header.usage-range":"\u5229\u7528\u7bc4\u56f2","visittable.header.comment":"\u30b3\u30e1\u30f3\u30c8","visittable.header.reservation-name":"\u4e88\u7d04\u8005","visittable.header.contact-addr":"\u9023\u7d61\u5148","visittable.header.check-in":"IN","visittable.header.check-out":"OUT","visittable.header.resource-status":"\u4f1a\u8b70\u5ba4\u72b6\u614b","visittable.header.event-subject":"\u4ef6\u540d","visittable.header.event-mailto-authors":"\u4e88\u7d04\u8005\u304a\u3088\u3073\u7ba1\u7406\u8005","visittable.header.event-mailto-required":"\u5fc5\u9808\u53c2\u52a0\u8005","visittable.header.event-mailto-optional":"\u4efb\u610f\u53c2\u52a0\u8005","visittable.header.event-room":"\u4f1a\u8b70\u5ba4","visittable.header.event-start-time":"\u958b\u59cb\u65e5\u6642","visittable.header.event-end-time":"\u7d42\u4e86\u65e5\u6642","visittable.header.visitor-card-number":"\u30ab\u30fc\u30c9\u756a\u53f7","visittable.header.edit-action":"\u7de8\u96c6","visittable.header.number-of-people":"\u4eba\u6570","visitdialog.view.resource-status-accepted":"\u627f\u8afe","visitdialog.view.resource-status-declined":"\u8f9e\u9000","visitdialog.view.usage-range.outside":"\u793e\u5916\u4f1a\u8b70","visitdialog.view.usage-range.inside":"\u793e\u5185\u4f1a\u8b70","visitdialog.view.tea-supply.number-of-tea-supply":"\u5448","visitdialog.view.tea-supply.number-of-visitor":"\u6765","visitdialog.view.tea-supply.number-of-employee":"\u5f93","visitdialog.title":"\u4e88\u7d04\u60c5\u5831","visitdialog.header.last-updated":"\u6700\u7d42\u66f4\u65b0\u65e5\u6642","visitdialog.notes.multiple-locations":"\u203b\u8907\u6570\u306e\u5834\u6240(\u4f1a\u8b70\u5ba4\u4ee5\u5916\u542b\u3080)\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u4e00\u90e8\u6a5f\u80fd\u306f\u7de8\u96c6\u3067\u304d\u307e\u305b\u3093","visitdialog.notes.no-relevant-rooms":"\u4e88\u7d04\u53ef\u80fd\u306a\u4f1a\u8b70\u5ba4\u304c\u3042\u308a\u307e\u305b\u3093","visitdialog.notes.reservation-status-declined":"\u4e88\u7d04\u8005\u304c\u3053\u306e\u4e88\u7d04\u3092\u8f9e\u9000\u3057\u3066\u3044\u307e\u3059","visitdialog.notes.reply-status":"\u8fd4\u4fe1\u72b6\u6cc1","visitdialog.notes.user-status-none":"\u306a\u3057","visitdialog.notes.user-status-tentatively-accepted":"\u4eee\u627f\u8afe","visitdialog.notes.user-status-accepted":"\u627f\u8afe","visitdialog.notes.user-status-declined":"\u8f9e\u9000","visitdialog.notes.recurrence-info":"\u30d1\u30bf\u30fc\u30f3","visitdialog.button.add-visitor":"\u6765\u8a2a\u793e\u8ffd\u52a0","visitdialog.button.remove-visitor":"\u5358\u4e00\u6765\u8a2a\u793e","visitdialog.button.save":"\u4e88\u7d04\u306e\u4fdd\u5b58","visitdialog.button.delete":"\u4e88\u7d04\u306e\u524a\u9664","visitdialog.button.check-in":"\u30c1\u30a7\u30c3\u30af\u30a4\u30f3","visitdialog.button.check-out":"\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8","visitdialog.button.set-recurrence":"\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u306b\u3059\u308b","visitdialog.button.edit-recurrence":"\u5b9a\u671f\u7684\u306a\u30d1\u30bf\u30fc\u30f3\u306e\u7de8\u96c6","visitdialog.form.tea-supply-yes":"\u3042\u308a","visitdialog.form.tea-supply-no":"\u306a\u3057","visitdialog.form.visitor-card-number":"\u30ab\u30fc\u30c9\u756a\u53f7","visitdialog.form.visitor-card-number-placeholder":"\u30ab\u30fc\u30c9\u756a\u53f7\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","visitdialog.form.error.event-time":"\u65e5\u6642\u306e\u95a2\u4fc2\u6027\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059","visitdialog.form.error.available-time":"\u4f1a\u8b70\u5ba4\u304c\u7a7a\u3044\u3066\u3044\u307e\u305b\u3093","visitdialog.form.error.room-not-covered":"\u4f1a\u8b70\u5ba4\u3092\u9078\u629e\u3057\u306a\u304a\u3057\u3066\u304f\u3060\u3055\u3044","visitdialog.form.error.number-of-tea-supply":"\u5448\u8336\u7dcf\u6570\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093","visitdialog.form.error.recurrence.has-no-occurrence":"\u7e70\u308a\u8fd4\u3057\u306b\u6307\u5b9a\u3055\u308c\u305f\u7bc4\u56f2\u306b\u767a\u751f\u65e5\u304c\u3042\u308a\u307e\u305b\u3093","auto-complete.no-options-text":"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u307e\u305f\u306f\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","recurrence-dialog.title":"\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u306e\u8a2d\u5b9a","recurrence-dialog.button.release-recurrence":"\u5b9a\u671f\u7684\u306a\u8a2d\u5b9a\u3092\u89e3\u9664","recurrence-dialog.confirm-message-1":"\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u306e\u4e00\u90e8\u306b\u3001\u7279\u5b9a\u306e\u5909\u66f4\u3082\u3057\u304f\u306f\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u6e08\u307f\u306e\u4e88\u7d04\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002","recurrence-dialog.confirm-message-2":"\u305d\u308c\u3089\u306e\u5185\u5bb9\u306f\u5168\u3066\u53d6\u308a\u6d88\u3055\u308c\u3001\u518d\u3073\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u3068\u3057\u3066\u4f5c\u6210\u3055\u308c\u307e\u3059\u304c\u5b9c\u3057\u3044\u3067\u3059\u304b\uff1f","recurrence-dialog.header.appt-date-time":"\u958b\u59cb\u65e5\u6642","recurrence-dialog.header.pattern.type":"\u30d1\u30bf\u30fc\u30f3\u306e\u8a2d\u5b9a","recurrence-dialog.header.pattern.interval":"\u9593\u9694","recurrence-dialog.header.pattern.days-of-week":"\u66dc\u65e5","recurrence-dialog.header.pattern.day-of-month":"\u65e5\u4ed8","recurrence-dialog.header.pattern.index":"\u9031\u6570","recurrence-dialog.header.pattern.month":"\u6708","recurrence-dialog.header.range.type":"\u671f\u9593\u306e\u8a2d\u5b9a","recurrence-dialog.header.range.start-date":"\u958b\u59cb\u65e5","recurrence-dialog.header.range.end-date":"\u7d42\u4e86\u65e5","recurrence-dialog.header.range.number-of-occurrences":"\u53cd\u5fa9\u56de\u6570","recurrence-dialog.label.pattern.interval.daily":"\u65e5\u3054\u3068","recurrence-dialog.label.pattern.interval.weekly":"\u9031\u3054\u3068","recurrence-dialog.label.pattern.interval.absoluteMonthly":"\u304b\u6708\u3054\u3068","recurrence-dialog.label.pattern.interval.relativeMonthly":"\u304b\u6708\u3054\u3068","recurrence-dialog.label.pattern.interval.absoluteYearly":"\u5e74\u3054\u3068","recurrence-dialog.label.pattern.interval.relativeYearly":"\u5e74\u3054\u3068","recurrence-dialog.label.pattern.day-of-month.absolute":"\u65e5\u306b\u8a2d\u5b9a","recurrence-dialog.label.pattern.day-of-month.relative":"\u306b\u8a2d\u5b9a","recurrence-dialog.error.event-time":"\u65e5\u6642\u306e\u95a2\u4fc2\u6027\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059","recurrence-dialog.error.range.end-date":"\u958b\u59cb\u65e5\u3092\u4e0b\u56de\u3063\u3066\u3044\u307e\u3059","recurrence-dialog.error.range.end-date.max":"\u6700\u9577\u671f\u9593\uff15\u5e74\u3067\u3059","recurrence-dialog.pattern.type.daily":"\u65e5","recurrence-dialog.pattern.type.weekly":"\u9031","recurrence-dialog.pattern.type.absoluteMonthly":"\u6708\uff08\u65e5\u6307\u5b9a\uff09","recurrence-dialog.pattern.type.relativeMonthly":"\u6708\uff08\u66dc\u65e5\u6307\u5b9a\uff09","recurrence-dialog.pattern.type.absoluteYearly":"\u5e74\uff08\u65e5\u6307\u5b9a\uff09","recurrence-dialog.pattern.type.relativeYearly":"\u5e74\uff08\u66dc\u65e5\u6307\u5b9a\uff09","recurrence-dialog.pattern.day-of-week.sunday":"\u65e5\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.monday":"\u6708\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.tuesday":"\u706b\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.wednesday":"\u6c34\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.thursday":"\u6728\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.friday":"\u91d1\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.saturday":"\u571f\u66dc\u65e5","recurrence-dialog.pattern.index.first":"\u7b2c\uff11","recurrence-dialog.pattern.index.second":"\u7b2c\uff12","recurrence-dialog.pattern.index.third":"\u7b2c\uff13","recurrence-dialog.pattern.index.fourth":"\u7b2c\uff14","recurrence-dialog.pattern.index.last":"\u6700\u7d42","recurrence-dialog.pattern.month.1":"1\u6708","recurrence-dialog.pattern.month.2":"2\u6708","recurrence-dialog.pattern.month.3":"3\u6708","recurrence-dialog.pattern.month.4":"4\u6708","recurrence-dialog.pattern.month.5":"5\u6708","recurrence-dialog.pattern.month.6":"6\u6708","recurrence-dialog.pattern.month.7":"7\u6708","recurrence-dialog.pattern.month.8":"8\u6708","recurrence-dialog.pattern.month.9":"9\u6708","recurrence-dialog.pattern.month.10":"10\u6708","recurrence-dialog.pattern.month.11":"11\u6708","recurrence-dialog.pattern.month.12":"12\u6708","recurrence-info.pattern.interval.every-day":"\u6bce\u65e5","recurrence-info.pattern.interval.every-week":"\u6bce\u9031","recurrence-info.pattern.interval.every-month":"\u6bce\u6708","recurrence-info.pattern.interval.every-year":"\u6bce\u5e74","recurrence-info.pattern.interval.day":"\u65e5\u3054\u3068","recurrence-info.pattern.interval.week":"\u9031\u3054\u3068","recurrence-info.pattern.interval.month":"\u304b\u6708\u3054\u3068","recurrence-info.pattern.interval.year":"\u5e74\u3054\u3068","recurrence-info.pattern.day-of-month":"\u65e5","recurrence-info.range.to":"\u304b\u3089","recurrence-info.range.valid-from":"\u307e\u3067\u6709\u52b9","visitorinfoform.title":"\u6765\u8a2a\u60c5\u5831","visitorinfoform.delete-confirm-title":"\u6765\u8a2a\u60c5\u5831\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","visitorinfoform.delete-confirm-message":"\u4e88\u7d04\u60c5\u5831\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","visitorinfoform.delete-confirm-message.series-master":"\u5b9a\u671f\u7684\u306a\u4e88\u7d04\u3092\u5168\u3066\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","visitorinfoform.recurrence-confirm-title":"\u5b9a\u671f\u7684\u306a\u30a2\u30a4\u30c6\u30e0\u3092\u958b\u304f","visitorinfoform.recurrence-confirm-message":"\u3053\u308c\u306f\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u3067\u3059\u3002\u3069\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u958b\u304d\u307e\u3059\u304b\uff1f","visitorinfoform.recurrence-radio-instances":"\u3053\u306e\u56de\u306e\u307f","visitorinfoform.recurrence-radio-master":"\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u5168\u4f53","visitorinfolist.title":"\u6765\u8a2a\u4e00\u89a7","export-csv.title":"\u6765\u8a2a\u60c5\u5831 CSV\u51fa\u529b","export-csv.start-date":"\u958b\u59cb\u65e5","export-csv.end-date":"\u7d42\u4e86\u65e5","export-csv.button.export-csv":"CSV\u51fa\u529b","export-csv.form.error.event-time":"\u65e5\u4ed8\u306e\u95a2\u4fc2\u6027\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059","export-csv.msg.export-success":"CSV\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3057\u307e\u3057\u305f\u3002","export-csv.msg.export-failed":"CSV\u30d5\u30a1\u30a4\u30eb\u306e\u51fa\u529b\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","export-csv.file.header.category":"\u30ab\u30c6\u30b4\u30ea","export-csv.file.header.appt-time":"\u4e88\u7d04\u6642\u9593","export-csv.file.header.room-name":"\u4f1a\u8b70\u5ba4\u540d","export-csv.file.header.tea-supply":"\u5448\u8336","export-csv.file.header.number-of-tea-supply":"\u5448\u8336\u7dcf\u6570","export-csv.file.header.tea-details":"\u5448\u8336\u8a73\u7d30","export-csv.file.header.number-of-visitor":"\u6765\u8a2a\u8005\u6570","export-csv.file.header.number-of-employee":"\u5f93\u696d\u54e1\u6570","export-csv.file.header.visit-company":"\u6765\u8a2a\u793e\u540d / \u4ee3\u8868\u8005\u540d(\u656c\u79f0\u7565)","export-csv.file.header.check-in":"\u30a4\u30f3","export-csv.file.header.visitor-card-number":"\u30ab\u30fc\u30c9\u756a\u53f7","export-csv.file.header.check-out":"\u30a2\u30a6\u30c8","export-csv.file.header.reservation-name":"\u4e88\u7d04\u8005","export-csv.file.header.contact-addr":"\u9023\u7d61\u5148","export-csv.file.header.subject":"\u4ef6\u540d","export-csv.file.header.comment":"\u30b3\u30e1\u30f3\u30c8","export-csv.file.tea-supply-yes":"\u3042\u308a","export-csv.file.tea-supply-no":"\u306a\u3057","main.menu.created-visit-info":"\u81ea\u5206\u306e\u4f1a\u8b70\u4e88\u7d04","main.menu.by-meeting-room":"\u4f1a\u8b70\u5ba4\u5225","main.menu.front":"\u53d7\u4ed8","main.menu.settings":"\u8a2d\u5b9a","main.menu.settings.role":"\u30ed\u30fc\u30eb","main.menu.settings.location":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3","main.menu.settings.category":"\u30ab\u30c6\u30b4\u30ea","main.menu.settings.room":"\u4f1a\u8b70\u5ba4","main.menu.refresh":"refresh","main.menu.logout":"\u30ed\u30b0\u30a2\u30a6\u30c8","main.header.picker-label":"\u9078\u629e\u65e5","main.header.add-event":"\u65b0\u898f\u4f5c\u6210","main.header.export-csv":"CSV\u51fa\u529b","main.visitlist.title":"","main.visitlist.subtitle":"\u81ea\u5206\u304c\u53c2\u52a0\u4e88\u5b9a\u306e\u4e88\u7d04\u306e\uff11\u304b\u6708\u9593\u306e\u6765\u8a2a\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002","main.visitlist.subtitle.created-only":"\u81ea\u5206\u304c\u4f5c\u6210\u3057\u305f\uff11\u304b\u6708\u9593\u306e\u6765\u8a2a\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002","main.byroom.title":"","main.byroom.subtitle":"\u4f1a\u8b70\u5ba4\u5225\u306e\u6765\u8a2a\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002","main.byroom-weekly.title":"","main.byroom-weekly.subtitle":"\uff11\u9031\u9593\u306e\u6765\u8a2a\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002","main.front.title":"","main.front.subtitle":"\u53d7\u4ed8\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002","settings.title.role":"\u30ed\u30fc\u30eb\u8a2d\u5b9a","settings.title.location":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u8a2d\u5b9a","settings.title.category":"\u30ab\u30c6\u30b4\u30ea\u8a2d\u5b9a","settings.title.room":"\u4f1a\u8b70\u5ba4\u8a2d\u5b9a","settings.add-master":"\u65b0\u898f\u4f5c\u6210","settings.header.role.name":"\u30ed\u30fc\u30eb\u540d","settings.header.role.members":"\u30e1\u30f3\u30d0\u30fc","settings.header.location.name":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u540d","settings.header.location.url":"url\u30d1\u30b9\u540d","settings.header.location.sort":"\u8868\u793a\u9806","settings.header.category.name":"\u30ab\u30c6\u30b4\u30ea\u540d","settings.header.category.sort":"\u8868\u793a\u9806","settings.header.category.limited-public":"\u9650\u5b9a\u516c\u958b","settings.header.category.members":"\u30e1\u30f3\u30d0\u30fc","settings.header.room.name":"\u4f1a\u8b70\u5ba4\u540d","settings.header.room.email":"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9","settings.header.room.type":"\u7a2e\u5225","settings.header.room.usage-range":"\u5229\u7528\u7bc4\u56f2","settings.header.room.sort":"\u8868\u793a\u9806","settings.header.room.tea-supply":"\u5448\u8336\u9078\u629e","settings.header.room.tea-supply.outside":"\u793e\u5916\u7528\uff1a\u5448\u8336\u9078\u629e","settings.header.room.tea-supply.inside":"\u793e\u5185\u7528\uff1a\u5448\u8336\u9078\u629e","settings.header.room.members":"\u30e1\u30f3\u30d0\u30fc","settings.header.room.location":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3","settings.header.room.category":"\u30ab\u30c6\u30b4\u30ea","settings.header.room.comment":"\u30b3\u30e1\u30f3\u30c8","settings.view.role.name.admin":"\u7ba1\u7406\u8005","settings.view.role.name.front":"\u30d5\u30ed\u30f3\u30c8","settings.view.room.type.rooms":"\u4f1a\u8b70\u5ba4","settings.view.room.type.free":"\u30d5\u30ea\u30fc\u30b9\u30da\u30fc\u30b9","settings.view.room.usage-range.none":"\u5236\u9650\u306a\u3057","settings.view.room.usage-range.outside":"\u793e\u5916\u7528","settings.view.room.usage-range.inside":"\u793e\u5185\u7528","settings.view.room.tea-supply.outside":"\u793e\u5916\uff1a","settings.view.room.tea-supply.inside":"\u793e\u5185\uff1a","settings.view.room.tea-supply-true":"\u3042\u308a","settings.view.room.tea-supply-false":"\u306a\u3057","settings.form.common.error.association":"\u4ed6\u306e\u8a2d\u5b9a\u3067\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u524a\u9664\u3067\u304d\u307e\u305b\u3093\u3002","settings.form.role.error.name.unique":"\u3053\u306e\u30ed\u30fc\u30eb\u306f\u65e2\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002","settings.form.location.error.url.unique":"\u3053\u306eurl\u306f\u65e2\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002","settings.form.location.error.url.pattern":"\u534a\u89d2\u306e\u5c0f\u6587\u5b57\u82f1\u6570\u5b57\u306e\u307f\u5165\u529b\u3067\u304d\u307e\u3059\u3002","settings.form.room.error.email.unique":"\u3053\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u65e2\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002","settings.form.room.error.email.pattern":"\u7121\u52b9\u306a\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002"}')},600:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(25),c=a.n(i),s=a(639),o=a(120),l=a(398),d=a.n(l),u={light:"#336bbd",main:"#0046AD",dark:"#003179",contrastText:"#fff"},j=Object(o.b)({palette:{primary:u,secondary:d.a},typography:{button:{textTransform:"none"}},props:{MuiTextField:{variant:"outlined"}},mixins:{toolbar:{minHeight:50}},overrides:{MuiTooltip:{tooltip:{fontSize:"1em"}}}}),b=a(640),m=a(50),p=a(47),O=a(12),f=a.n(O),h=a(21),x=a(10),v=a(657),g=a(629),y=a(655),k=a(57),w=a(124),C=a(295),D=a(630),S=a(628),N=a(1);function T(){return Object(N.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Version. 1.0.2 - Copyright \xa9 ",Object(N.jsx)(S.a,{color:"inherit",href:"https://www.liveness.co.jp/",children:"liveness, Inc."})," ",(new Date).getFullYear(),"."]})}var M=a(62),I=a(444),R=a(361),E=Object(M.a)((function(e){return{root:{zIndex:e.zIndex.tooltip+1,color:"#fff"}}}));function F(e){var t=E();return Object(N.jsx)(I.a,{className:t.root,open:e.open,children:Object(N.jsx)(R.a,{color:"inherit"})})}var V=function(){return Object(M.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))};function P(e){return B.apply(this,arguments)}function B(){return(B=Object(h.a)(f.a.mark((function e(t){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.prev=3,e.next=6,a.json();case 6:a.parsedBody=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:if(a.ok){e.next=14;break}throw console.error("Server Error: ",null===(r=a.parsedBody)||void 0===r?void 0:r.body),new Error(a.statusText);case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function L(e){return W.apply(this,arguments)}function W(){return W=Object(h.a)(f.a.mark((function e(t){var a,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:{method:"get"},e.next=3,P(new Request(t,a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function A(e,t){return H.apply(this,arguments)}function H(){return H=Object(h.a)(f.a.mark((function e(t,a){var r,n=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>2&&void 0!==n[2]?n[2]:{method:"post",body:JSON.stringify(a)},e.next=3,P(new Request(t,r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}var q="liveness-visitor-temp",z="liveness-visitor-user",Y=function(e){sessionStorage.setItem(z,e)},K="liveness-visitor-reload",U=function(e,t){var a=JSON.parse(sessionStorage.getItem(K));a[e]=t,sessionStorage.setItem(K,JSON.stringify(a))},J=function(e){return JSON.parse(sessionStorage.getItem(K))[e]},G="liveness-visitor-reload-flg",Z=function(){return sessionStorage.getItem(G)},$=function(){sessionStorage.removeItem(G)},X=function(){sessionStorage.removeItem(z),sessionStorage.removeItem(K),$()},_=V();function Q(){var e=Object(v.a)().t,t=_(),a=Object(p.h)(),n=Object(r.useState)(!1),i=Object(x.a)(n,2),c=i[0],s=i[1],o=function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),r=a.params.location,sessionStorage.setItem(q,r),e.next=5,L("/oauth/signin");case 5:(t=e.sent).parsedBody&&(window.location.href=t.parsedBody.url),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}var r}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)(g.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(F,{open:c}),Object(N.jsxs)("div",{className:t.paper,children:[Object(N.jsx)(y.a,{className:t.avatar,children:Object(N.jsx)(D.a,{})}),Object(N.jsx)(k.a,{component:"h1",variant:"h5",children:"LIVENESS Visitors for Microsoft"}),Object(N.jsx)(w.a,{onClick:o,fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:e("login.msal.login")})]}),Object(N.jsx)(C.a,{mt:8,children:Object(N.jsx)(T,{})})]})}var ee=a(7),te=a(631),ae=a(651);function re(e){return Object(N.jsx)(ae.a,Object(ee.a)({elevation:6,variant:"filled"},e))}var ne=function(e,t){switch(t.type){case"hide":return Object(ee.a)(Object(ee.a)({},e),{},{open:!1});case"success":case"info":case"warning":case"error":return Object(ee.a)(Object(ee.a)({},e),{},{open:!0,severity:t.type,message:t.message});default:return e}};function ie(e){var t=e.severity,a=e.message,r=e.open,n=e.onClose;return Object(N.jsx)(te.a,{open:r,autoHideDuration:1500,onClose:n,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(N.jsx)(re,{onClose:n,severity:t,children:a})})}var ce=Object(r.createContext)({});function se(e){var t=e.children,a=Object(r.useReducer)(ne,{severity:"info",message:"",open:!1}),n=Object(x.a)(a,2),i=n[0],c=n[1];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ie,Object(ee.a)(Object(ee.a)({},i),{},{onClose:function(e,t){"clickaway"!==t&&c({type:"hide"})}})),Object(N.jsx)(ce.Provider,{value:{state:i,dispatch:c},children:t})]})}var oe=V();function le(){return Object(N.jsx)(se,{children:Object(N.jsx)(de,{})})}function de(){var e=oe(),t=Object(v.a)().t,a=Object(r.useContext)(ce),n=Object(r.useState)(!0),i=Object(x.a)(n,2),c=i[0],s=i[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(h.a)(f.a.mark((function e(){var r,n,i,c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=window.location.search,e.next=4,L("/oauth/callback"+r);case 4:if(!(n=e.sent).parsedBody){e.next=18;break}if(s(!1),n.parsedBody.ok?a.dispatch({type:"success",message:t("common.msg.login-success")}):a.dispatch({type:"error",message:t("common.msg.login-failed")}),i=sessionStorage.getItem(q),sessionStorage.removeItem(q),i&&"undefined"!==i){e.next=15;break}return e.next=13,L("/location/first");case 13:(c=e.sent).parsedBody&&(i=c.parsedBody.url);case 15:o="/".concat(i,"/main"),"undefined"===i&&(o="/settings/location"),setTimeout((function(){window.location.replace(o)}),1500);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(N.jsxs)(g.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(F,{open:c}),Object(N.jsxs)("div",{className:e.paper,children:[Object(N.jsx)(y.a,{className:e.avatar,children:Object(N.jsx)(D.a,{})}),Object(N.jsx)(k.a,{component:"h1",variant:"h5",children:"LIVENESS Visitors for Microsoft"})]}),Object(N.jsx)(C.a,{mt:8,children:Object(N.jsx)(T,{})})]})}var ue=a(156),je=a(3),be=a(153),me=a(79),pe=a(633),Oe=a(297),fe=a(608),he=a(635),xe=a(234),ve=a.n(xe),ge=a(174),ye=a(609),ke=a(636),we=a(638),Ce=a(218),De=a(364),Se=a(365),Ne=a(637),Te=a(634),Me=a(401),Ie=a.n(Me),Re=a(403),Ee=a.n(Re),Fe=a(404),Ve=a.n(Fe),Pe=a(405),Be=a.n(Pe),Le=a(406),We=a.n(Le),Ae=a(407),He=a.n(Ae),qe=a(408),ze=a.n(qe),Ye=a(409),Ke=a.n(Ye),Ue=a(296),Je=a(301);function Ge(e,t){var a=Object(r.useState)(e),n=Object(x.a)(a,2),i=n[0],c=n[1],s=Object(r.useState)(t),o=Object(x.a)(s,2),l=o[0],d=o[1],u=Object(r.useState)(!1),j=Object(x.a)(u,2),b=j[0],m=j[1],p=Object(r.useState)(!1),O=Object(x.a)(p,2),v=O[0],g=O[1],y=Object(r.useCallback)(Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:return g(!1),m(!0),e.prev=4,e.next=7,L(i);case 7:(t=e.sent).parsedBody&&d(t.parsedBody),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),g(!0),console.log(e.t0);case 15:m(!1);case 16:case"end":return e.stop()}}),e,null,[[4,11]])}))),[i]),k=Object(r.useCallback)(Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y());case 1:case"end":return e.stop()}}),e)}))),[y]);return Object(r.useEffect)((function(){y()}),[y]),[{data:l,isLoading:b,isError:v},k,c]}function Ze(){var e=Ge("/location/choices",[]),t=Object(x.a)(e,1)[0].data,a=Object(p.g)(),n=Object(p.h)(),i=Object(r.useState)(n.params.location),c=Object(x.a)(i,2),s=c[0],o=c[1];return t&&0!==t.length?Object(N.jsx)(Ue.a,{color:"primary",margin:"dense",size:"small",children:Object(N.jsx)(Je.a,{style:{color:"white"},value:s,onChange:function(e){o(e.target.value);var t=n.path.replace(/:location/i,e.target.value);a.push(t)},children:t.map((function(e){return Object(N.jsx)(De.a,{value:e.url,children:e.name},e.url)}))})}):Object(N.jsx)(N.Fragment,{})}var $e=Object(M.a)((function(e){return Object(be.a)({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:230,width:"calc(100% - ".concat(230,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},toolbar:{paddingRight:24},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},location:{color:"white"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:230,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},drawerCloseIcon:Object(ee.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),calendarHidden:{display:"none"},pageTitle:{marginBottom:e.spacing(1)},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},link:{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},nested:{paddingLeft:e.spacing(10)}})})),Xe=Object(r.createContext)({}),_e=function(e){var t=e.children,a=e.adminMode,i=e.frontMode,c=e.menuOpen,s=Object(v.a)().t,o=$e(),l=Object(p.h)(),d=Object(r.useState)(!!c),u=Object(x.a)(d,2),j=u[0],b=u[1],O=Object(r.useState)(!0),y=Object(x.a)(O,2),w=y[0],D=y[1];Object(r.useEffect)((function(){j||D(!1)}),[j]);var S=n.a.useState(null),M=Object(x.a)(S,2),I=M[0],R=M[1],E=Boolean(I),F=function(){R(null)},V=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("/oauth/signout");case 3:e.sent.ok&&(X(),window.location.href="/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),P={signedIn:!1,email:"",name:"",isAdmin:!1,isFront:!1},B=Object(r.useReducer)((function(e,t){switch(t.type){case"signedIn":return{signedIn:!0,email:t.user.email,name:t.user.name,isAdmin:t.user.isAdmin,isFront:t.user.isFront};case"signedOut":return P;default:return e}}),P),W=Object(x.a)(B,2),A=W[0],H=W[1],q=Object(r.useCallback)(Object(h.a)(f.a.mark((function e(){var t,a,r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=sessionStorage.getItem(z))){e.next=7;break}a=JSON.parse(t),H({type:"signedIn",user:a}),e.next=11;break;case 7:return e.next=9,L("/user/me");case 9:(r=e.sent).parsedBody?(n=r.parsedBody,Y(JSON.stringify(n)),H({type:"signedIn",user:n})):(X(),H({type:"signedOut"}),console.log("Failed to retrieve email"));case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),X(),window.location.href="/login";case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),[]);Object(r.useEffect)((function(){q()}),[q]),Object(r.useEffect)((function(){Z()||sessionStorage.setItem(K,"{}")}),[]);var U=t,J=Object(N.jsx)(N.Fragment,{children:s("common.msg.authority-error")});return a&&!A.isAdmin&&(U=J),i&&!A.isFront&&(U=J),A.signedIn?Object(N.jsx)(Xe.Provider,{value:{userStorage:A,dispatch:H},children:Object(N.jsx)(se,{children:Object(N.jsxs)("div",{className:o.root,children:[Object(N.jsx)(pe.a,{position:"absolute",className:Object(je.a)(o.appBar,j&&o.appBarShift),children:Object(N.jsxs)(Oe.a,{className:o.toolbar,children:[Object(N.jsx)(ge.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){b(!0)},className:Object(je.a)(o.menuButton,j&&o.menuButtonHidden),children:Object(N.jsx)(Ie.a,{})}),Object(N.jsx)(k.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:o.title,children:"LIVENESS Visitors for Microsoft"}),Object(N.jsx)("div",{children:Object(N.jsx)(Ze,{})}),Object(N.jsxs)("div",{children:[Object(N.jsx)(ge.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){R(e.currentTarget)},color:"inherit",children:Object(N.jsx)(Te.a,{})}),Object(N.jsxs)(Ce.a,{id:"menu-appbar",anchorEl:I,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:E,onClose:F,children:[Object(N.jsx)(De.a,{onClick:F,children:A.email}),Object(N.jsx)(De.a,{onClick:V,children:s("main.menu.logout")})]})]})]})}),Object(N.jsxs)(me.a,{variant:"permanent",classes:{paper:Object(je.a)(o.drawerPaper,!j&&o.drawerPaperClose)},open:j,children:[Object(N.jsx)("div",{className:o.drawerCloseIcon,children:Object(N.jsx)(ge.a,{onClick:function(){b(!1)},children:Object(N.jsx)(ve.a,{})})}),Object(N.jsx)(he.a,{}),Object(N.jsxs)(fe.a,{children:[Object(N.jsx)(m.b,{to:"/".concat(l.params.location,"/main"),className:o.link,children:Object(N.jsxs)(ye.a,{button:!0,children:[Object(N.jsx)(Se.a,{title:s("main.menu.created-visit-info"),children:Object(N.jsx)(ke.a,{children:Object(N.jsx)(Ee.a,{})})}),Object(N.jsx)(Ne.a,{primary:s("main.menu.created-visit-info")})]})}),Object(N.jsx)(m.b,{to:"/".concat(l.params.location,"/main/byroom"),className:o.link,children:Object(N.jsxs)(ye.a,{button:!0,children:[Object(N.jsx)(Se.a,{title:s("main.menu.by-meeting-room"),children:Object(N.jsx)(ke.a,{children:Object(N.jsx)(Ve.a,{})})}),Object(N.jsx)(Ne.a,{primary:s("main.menu.by-meeting-room")})]})}),A.isFront&&Object(N.jsx)(m.b,{to:"/".concat(l.params.location,"/front"),className:o.link,children:Object(N.jsxs)(ye.a,{button:!0,children:[Object(N.jsx)(Se.a,{title:s("main.menu.front"),children:Object(N.jsx)(ke.a,{children:Object(N.jsx)(Be.a,{})})}),Object(N.jsx)(Ne.a,{primary:s("main.menu.front")})]})}),A.isAdmin&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(ye.a,{button:!0,onClick:function(){j||b(!0),D(!w)},children:[Object(N.jsx)(ke.a,{children:Object(N.jsx)(We.a,{})}),Object(N.jsx)(Ne.a,{primary:s("main.menu.settings")}),w?Object(N.jsx)(He.a,{}):Object(N.jsx)(ze.a,{})]}),Object(N.jsxs)(we.a,{in:w,timeout:"auto",unmountOnExit:!0,children:[Object(N.jsx)(m.b,{to:"/".concat(l.params.location,"/settings/role"),className:o.link,children:Object(N.jsx)(ye.a,{button:!0,className:o.nested,children:Object(N.jsx)(Ne.a,{primary:s("main.menu.settings.role")})})}),Object(N.jsx)(m.b,{to:"/".concat(l.params.location,"/settings/location"),className:o.link,children:Object(N.jsx)(ye.a,{button:!0,className:o.nested,children:Object(N.jsx)(Ne.a,{primary:s("main.menu.settings.location")})})}),Object(N.jsx)(m.b,{to:"/".concat(l.params.location,"/settings/category"),className:o.link,children:Object(N.jsx)(ye.a,{button:!0,className:o.nested,children:Object(N.jsx)(Ne.a,{primary:s("main.menu.settings.category")})})}),Object(N.jsx)(m.b,{to:"/".concat(l.params.location,"/settings/room"),className:o.link,children:Object(N.jsx)(ye.a,{button:!0,className:o.nested,children:Object(N.jsx)(Ne.a,{primary:s("main.menu.settings.room")})})})]})]}),Object(N.jsxs)(ye.a,{button:!0,onClick:function(){sessionStorage.setItem(G,"1"),window.location.reload()},children:[Object(N.jsx)(Se.a,{title:s("main.menu.refresh"),children:Object(N.jsx)(ke.a,{children:Object(N.jsx)(Ke.a,{})})}),Object(N.jsx)(Ne.a,{primary:s("main.menu.refresh")})]})]})]}),Object(N.jsxs)("main",{className:o.content,children:[Object(N.jsx)("div",{className:o.appBarSpacer}),Object(N.jsxs)(g.a,{maxWidth:"lg",className:o.container,children:[U,Object(N.jsx)(C.a,{pt:4,children:Object(N.jsx)(T,{})})]})]})]})})}):Object(N.jsx)(N.Fragment,{})},Qe=a(175);function et(){var e=Object(r.useState)(new Date),t=Object(x.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)(!1),c=Object(x.a)(i,2),s=c[0],o=c[1],l=Object(r.useState)(0),d=Object(x.a)(l,2),u=d[0],j=d[1];Object(r.useEffect)((function(){Z()||U("selectedDate",a.getTime().toString())}),[a]),Object(r.useEffect)((function(){j(s?7:1)}),[s]);return[a,n,function(e){n(e)},function(){n((function(e){return e?Object(Qe.a)(e,-1*u):e}))},function(){n((function(e){return e?Object(Qe.a)(e,u):e}))},o]}var tt=a(111),at=a.n(tt),rt=a(412),nt=a.n(rt),it=a(421),ct=a.n(it),st=a(413),ot=a.n(st),lt=a(305),dt=a.n(lt),ut=a(304),jt=a.n(ut),bt=a(414),mt=a.n(bt),pt=a(415),Ot=a.n(pt),ft=a(417),ht=a.n(ft),xt=a(418),vt=a.n(xt),gt=a(419),yt=a.n(gt),kt=a(422),wt=a.n(kt),Ct=a(416),Dt=a.n(Ct),St=a(420),Nt=a.n(St),Tt=a(423),Mt=a.n(Tt),It={Add:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(nt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(ot.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(jt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(mt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(dt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(Ot.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(Dt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(ht.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(vt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(yt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(dt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(ve.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(jt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(Nt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(ct.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(wt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(Mt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))}))},Rt={paging:!0,pageSize:10,pageSizeOptions:[5,10,20,50]};function Et(e){var t=e.dataDialogHook,a=Object(r.useState)(null),n=Object(x.a)(a,2),i=n[0],c=n[1],s=Object(r.useCallback)((function(e){e.isAuthor?t.dispatch({type:"inputOpen"}):t.dispatch({type:"readOpen"}),e.seriesMasterId&&t.dispatch({type:"recConfOpen"}),c(e)}),[t]),o=Object(r.useCallback)((function(e,a){e?t.dispatch({type:"recConfCancel"}):(a&&c(a),t.dispatch({type:"recConfClose"}))}),[t]);return[{currentRow:i},c,s,o]}var Ft=a(181),Vt="12px 6px",Pt=function(e){var t=e?Vt:"";return Object(M.a)((function(){return{cellApptTime:{padding:t},cellRoomName:{padding:t},cellTeaSupply:{padding:t},cellRoomStatus:{padding:t},cellReservationName:{padding:t},cellVisitCompany:{padding:t},cellSubject:{padding:t},cellContactAddr:{padding:t},cellCheckIn:{padding:t,overflowWrap:"break-word"},cellCheckOut:{padding:t,overflowWrap:"break-word"},cellComment:{padding:t},declinedApptTime:{textDecoration:"line-through 2px solid red"},declinedRoomName:{"&::after":{wordBreak:"keep-all",marginLeft:5,padding:"1px 5px",color:"red",border:"1px solid red",content:'"'.concat(Ft.a.t("visitdialog.view.resource-status-declined"),'"')}}}}))},Bt=function(e,t,a){var r=e.charAt(0).toUpperCase()+e.slice(1);return Object(je.a)(a["cell".concat(r)],"declined"===t.roomStatus&&a["declined".concat(r)])},Lt=a(137),Wt=Object(o.b)({palette:{primary:{main:Lt.a[300]},secondary:{main:u.main}},props:{MuiTableRow:{}},overrides:{MuiTable:{root:{borderCollapse:"separate"}}}}),At=function(){var e="thin solid rgba(0, 0, 0, 0.12)";return Object(M.a)((function(t){return{list:{display:"flex","&:first-child > div":{borderTop:e}},title:{boxSizing:"border-box",flexBasis:"25%",padding:"0.7em",backgroundColor:t.palette.primary.light,borderLeft:e,borderBottom:e},field:{boxSizing:"border-box",flexBasis:"75%",padding:"0.7em",borderRight:e,borderBottom:e,whiteSpace:"pre-wrap"},fieldSlim:{boxSizing:"border-box",flexBasis:"75%",padding:"0.2em",borderRight:e,borderBottom:e,whiteSpace:"pre-wrap"},bottomLine:{borderBottom:e}}}))},Ht=a(78),qt=a(23),zt=a(253),Yt=a(237),Kt=a(150),Ut=a.n(Kt),Jt=a(245),Gt=a.n(Jt),Zt=a(427),$t=a.n(Zt),Xt=a(34),_t=a.n(Xt),Qt=["rooms","free"],ea=["outside","inside"],ta=["none"].concat(ea);function aa(e,t){return ra.apply(this,arguments)}function ra(){return(ra=Object(h.a)(f.a.mark((function e(t,a){var r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(t,a);case 3:if(r=e.sent,!(n=r.parsedBody)){e.next=9;break}return e.abrupt("return",Promise.resolve(n));case 9:return e.abrupt("return",Promise.reject(new Error("No Result Error")));case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Promise.reject(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function na(e){var t=e.name,a=e.control,r=e.label,n=e.required,i=e.selectList,c=e.multiline,s=e.disabled,o=e.validation,l=e.errors,d=Object(v.a)().t,u=Object(ee.a)({required:!!n&&d("common.form.required")},o);return Object(N.jsx)(qt.a,{name:t,control:a,rules:u,render:function(e){var a=e.field;return Object(N.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({},a),{},{label:r,disabled:s,multiline:c,select:!!i,error:!!l[t],helperText:l[t]&&l[t].message,children:!!i&&i.map((function(e,a){return Object(N.jsx)(De.a,{value:e.value,children:e.label},"".concat(t,"-").concat(a))}))}))}})}var ia=a(654),ca=a(125),sa=a(396),oa=a(28),la=a(306),da=a.n(la),ua=a(149),ja=a.n(ua),ba=a(424),ma=a.n(ba),pa="1.3em",Oa=function(e){var t=e.status,a=Object(oa.a)();return"none"===t?Object(N.jsx)(ma.a,{style:{color:a.palette.text.secondary,fontSize:pa}}):"tentativelyAccepted"===t?Object(N.jsx)(da.a,{style:{color:a.palette.warning.main,fontSize:pa}}):"accepted"===t?Object(N.jsx)(da.a,{style:{color:a.palette.success.main,fontSize:pa}}):Object(N.jsx)(ja.a,{style:{color:a.palette.error.main,fontSize:pa}})},fa=["option"],ha=function(e){var t=e.option,a=Object(ca.a)(e,fa);return Object(N.jsx)(sa.a,Object(ee.a)({variant:"outlined",size:"small",icon:t.status?Oa({status:t.status}):void 0,label:t.name,title:t.address,style:{fontSize:"0.9em"}},a))};function xa(e){var t=e.name,a=e.control,n=e.label,i=e.errors,c=e.disabled,s=e.style,o=Object(v.a)().t,l=Object(r.useState)(""),d=Object(x.a)(l,2),u=d[0],j=d[1],b=Ge("",[]),m=Object(x.a)(b,3),p=m[0],O=p.data,g=p.isLoading,y=m[2];Object(r.useEffect)((function(){y(u?"/user/addressbook?filter=".concat(u):"")}),[u,y]);var k=Object(r.useState)(!1),w=Object(x.a)(k,2),C=w[0],D=w[1];Object(r.useEffect)((function(){C||j("")}),[C]);var S=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)(qt.a,{name:t,control:a,render:function(e){var a=e.field;return Object(N.jsx)(ia.a,Object(ee.a)(Object(ee.a)({},a),{},{disabled:c,style:s,multiple:!0,limitTags:c?void 0:2,size:"small",open:C,onOpen:function(){D(!0)},onClose:function(){D(!1)},options:O&&u?O:[],filterOptions:function(e,t){return e},noOptionsText:o("auto-complete.no-options-text"),loading:g,getOptionLabel:function(e){return"".concat(e.name," <").concat(e.address,">")},renderTags:function(e,t){return e.map((function(e,a){return Object(N.jsx)(ha,Object(ee.a)({option:e},t({index:a})))}))},filterSelectedOptions:!0,getOptionSelected:function(e,t){return e.address===t.address},renderInput:function(e){return Object(N.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({},e),{},{label:n,error:!!i[t],helperText:i[t]&&i[t].message,InputProps:Object(ee.a)(Object(ee.a)({},e.InputProps),{},{endAdornment:Object(N.jsxs)(N.Fragment,{children:[g?Object(N.jsx)(R.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}),onChange:function(e){""===e.target.value&&null===e.target.value||S(e.target.value)}}))},onChange:function(e,t){return a.onChange(t)}}))}})}var va=a(612),ga=a(613),ya=a(614),ka=a(642),wa=Object(M.a)((function(e){return Object(be.a)({root:{margin:0,padding:e.spacing(1.5),paddingLeft:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(.75),top:e.spacing(.75),color:e.palette.grey[500]}})}));function Ca(e){var t=e.open,a=e.onClose,r=e.title,n=e.children,i=Object(v.a)().t,c=wa();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(va.a,{open:t,onClose:function(e,t){t&&"backdropClick"===t||a()},fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title",children:[Object(N.jsxs)(ka.a,{id:"form-dialog-title",className:c.root,children:[r,Object(N.jsx)(ge.a,{className:c.closeButton,onClick:a,children:Object(N.jsx)(ja.a,{})})]}),Object(N.jsx)(ya.a,{dividers:!0,children:n}),Object(N.jsx)(ga.a,{style:{display:"none"},children:Object(N.jsx)(w.a,{onClick:a,children:i("common.button.cancel")})})]})})}var Da=["none","tentativelyAccepted","accepted","declined"],Sa=function(){var e=Object(v.a)().t;return Object(N.jsx)(N.Fragment,{children:Da.map((function(t,a){return Object(N.jsx)(sa.a,{variant:"outlined",size:"small",icon:Oa({status:t}),label:e("visitdialog.notes.user-status-".concat(_t.a.kebabCase(t))),style:{fontSize:"0.9em",marginLeft:"5px",border:"none"}},a)}))})},Na=a(40),Ta=a(646),Ma=Object(M.a)({timerSelectRoot:{"& svg":{display:"none"}},timerSelect:{paddingRight:"15px !important"},colon:{margin:"auto 3px"}}),Ia=function(e){return 1e3*Math.ceil(e.getTime()/1e3/60/5)*60*5},Ra=function(e){return Object(Ta.a)(Ia(e),0)},Ea=function(e){return Object(Ta.a)(Ia(e),30)},Fa=Object(Na.a)(Array(24)).map((function(e,t){return t})).map((function(e){return{label:e,value:e}})),Va=Object(Na.a)(Array(12)).map((function(e,t){return 5*t})).map((function(e){return{label:e,value:e}}));var Pa=function(e){var t=e.selected,a=e.onChange,r=e.error,n=Ma();return Object(N.jsxs)(zt.a,{container:!0,children:[Object(N.jsx)(zt.a,{item:!0,children:Object(N.jsx)(Yt.a,{className:n.timerSelectRoot,select:!0,value:t.getHours(),onChange:function(e){a(new Date(t.getFullYear(),t.getMonth(),t.getDate(),Number(e.target.value),t.getMinutes()))},inputProps:{className:n.timerSelect},error:r,children:Fa.map((function(e,t){return Object(N.jsx)(De.a,{value:e.value,children:("00"+Number(e.label)).slice(-2)},"hour-".concat(t))}))})}),Object(N.jsx)(zt.a,{item:!0,className:n.colon,children:":"}),Object(N.jsx)(zt.a,{item:!0,children:Object(N.jsx)(Yt.a,{className:n.timerSelectRoot,select:!0,value:t.getMinutes(),onChange:function(e){a(new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),Number(e.target.value)))},inputProps:{className:n.timerSelect},error:r,children:Va.map((function(e,t){return Object(N.jsx)(De.a,{value:e.value,children:("00"+Number(e.label)).slice(-2)},"minute-".concat(t))}))})})]})},Ba=a(641);function La(e){var t=e.open,a=e.onClose,r=e.title,n=e.message,i=e.color;return Object(N.jsx)("div",{children:Object(N.jsxs)(va.a,{open:t,onClose:function(){a(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[!!r&&Object(N.jsx)(ka.a,{id:"alert-dialog-title",children:r}),Object(N.jsx)(ya.a,{children:Object(N.jsx)(Ba.a,{id:"alert-dialog-description",children:n})}),Object(N.jsxs)(ga.a,{children:[Object(N.jsx)(w.a,{onClick:function(){a(!0)},color:i,children:"OK"}),Object(N.jsx)(w.a,{onClick:function(){a(!1)},color:i,autoFocus:!0,children:"CANCEL"})]})]})})}var Wa=a(366),Aa=a(644),Ha=Object(M.a)({roomComment:{whiteSpace:"pre-line",fontSize:"0.75rem",lineHeight:"1rem",padding:"0 5px 5px 5px"}});function qa(e){var t=e.control,a=e.setValue,n=e.getValues,i=e.clearErrors,c=e.rooms,s=e.roomId,o=e.disabledVisitor,l=e.disabledRoom,d=e.errors,u=Object(v.a)().t,j=Ha(),b=Object(r.useState)(!1),m=Object(x.a)(b,2),p=m[0],O=m[1],f=Object(qt.f)({control:t,name:"resourcies.".concat(s,".roomForEdit")});Object(r.useEffect)((function(){if(f&&c){var e=c.some((function(e){return e.id===f&&e.teaSupply[n("usageRange")]}));e||a("resourcies.".concat(s,".teaSupply"),!1,{shouldDirty:!0}),O(!e)}else a("resourcies.".concat(s,".teaSupply"),!1,{shouldDirty:!0}),O(!0)}),[n,s,f,c,a]);var h=Object(r.useState)(!1),g=Object(x.a)(h,2),y=g[0],w=g[1],D=Object(qt.f)({control:t,name:"resourcies.".concat(s,".teaSupply")});Object(r.useEffect)((function(){D||(i(["resourcies.".concat(s,".numberOfTeaSupply"),"resourcies.".concat(s,".teaDetails")]),a("resourcies.".concat(s,".numberOfTeaSupply"),0,{shouldDirty:!0}),a("resourcies.".concat(s,".teaDetails"),"",{shouldDirty:!0})),w(!D)}),[D,a,s,i]);var S=Object(r.useState)(""),T=Object(x.a)(S,2),M=T[0],I=T[1];Object(r.useEffect)((function(){if(f&&c){var e=c.filter((function(e){return e.id===f&&!!e.comment}))[0],t=e?e.comment:"";I(t)}else I("")}),[f,c]);var R=function(e){return Object(Xt.get)(d,"resourcies.".concat(s,".").concat(e))};return 0===(null===c||void 0===c?void 0:c.length)?Object(N.jsx)(C.a,{px:2,style:{textAlign:"center",color:"red"},children:u("visitdialog.notes.no-relevant-rooms")}):Object(N.jsxs)(C.a,{px:2,children:[Object(N.jsx)(qt.a,{name:"resourcies.".concat(s,".roomForEdit"),control:t,rules:{required:u("common.form.required"),validate:function(e){return c.some((function(t){return t.id===e}))?void 0:u("visitdialog.form.error.room-not-covered")}},render:function(e){var t=e.field;return Object(N.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({},t),{},{select:!0,disabled:l,label:u("visittable.header.event-room"),error:!!R("roomForEdit"),helperText:!!R("roomForEdit")&&R("roomForEdit").message,children:c.map((function(e){return Object(N.jsxs)(De.a,{value:e.id,children:[e.name," ","<",e.email,">"]},e.id)}))}))}}),Object(N.jsx)(k.a,{component:"div",className:j.roomComment,children:M}),Object(N.jsxs)(zt.a,{container:!0,spacing:1,style:p?{display:"none"}:void 0,children:[Object(N.jsx)(zt.a,{item:!0,xs:5,sm:4,children:Object(N.jsx)(Wa.a,{control:Object(N.jsx)(qt.a,{name:"resourcies.".concat(s,".teaSupply"),control:t,render:function(e){var t=e.field;return Object(N.jsx)(Aa.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary",disabled:p})}}),label:u("visittable.header.tea-supply")})}),Object(N.jsx)(zt.a,{item:!0,xs:2,sm:4,style:o?{opacity:0}:void 0}),Object(N.jsx)(zt.a,{item:!0,xs:5,sm:4,children:Object(N.jsx)(qt.a,{name:"resourcies.".concat(s,".numberOfTeaSupply"),control:t,rules:{required:u("common.form.required"),validate:function(){return n("resourcies.".concat(s,".teaSupply"))&&n("resourcies.".concat(s,".numberOfTeaSupply"))>0||!n("resourcies.".concat(s,".teaSupply"))&&0===n("resourcies.".concat(s,".numberOfTeaSupply"))||u("visitdialog.form.error.number-of-tea-supply")}},render:function(e){var t=e.field;return Object(N.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({type:"number",inputProps:{min:0,style:{textAlign:"right"}}},t),{},{disabled:y,label:u("visittable.header.number-of-tea-supply"),error:!!R("numberOfTeaSupply"),helperText:!!R("numberOfTeaSupply")&&R("numberOfTeaSupply").message}))}})}),Object(N.jsx)(qt.a,{name:"resourcies.".concat(s,".teaDetails"),control:t,render:function(e){var t=e.field;return Object(N.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({style:y?{display:"none"}:void 0,multiline:!0},t),{},{disabled:y,label:u("visittable.header.tea-details"),error:!!R("teaDetails"),helperText:!!R("teaDetails")&&R("teaDetails").message}))}})]})]})}var za=At(),Ya=function(e){switch(e){case"accepted":return"visitdialog.view.resource-status-accepted";case"declined":return"visitdialog.view.resource-status-declined";default:return""}};function Ka(e){var t=e.data,a=e.hiddenTeaSupply,r=Object(v.a)().t,n=za();return Object(N.jsx)(C.a,{px:2,pt:2,children:Object(N.jsxs)(fe.a,{disablePadding:!0,children:[Object(N.jsxs)("li",{className:n.list,children:[Object(N.jsx)("div",{className:n.title,children:r("visittable.header.room-name")}),Object(N.jsxs)("div",{className:n.field,children:[t.roomName," ","<",t.roomEmail,">"]})]},"room-name"),Object(N.jsxs)("li",{className:n.list,children:[Object(N.jsx)("div",{className:n.title,children:r("visittable.header.resource-status")}),Object(N.jsx)("div",{className:n.field,children:r(Ya(t.roomStatus))})]},"resource-status"),!a&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("li",{className:n.list,children:[Object(N.jsx)("div",{className:n.title,children:r("visittable.header.tea-supply")}),Object(N.jsx)("div",{className:n.field,style:{flexBasis:"25%",borderRight:"none"},children:t.teaSupply?r("visitdialog.form.tea-supply-yes"):r("visitdialog.form.tea-supply-no")}),Object(N.jsx)("div",{className:n.title,style:{flexBasis:"25%",borderLeft:"none"},children:r("visittable.header.number-of-tea-supply")}),Object(N.jsx)("div",{className:n.field,style:{flexBasis:"25%"},children:t.numberOfTeaSupply})]},"tea-supply"),t.teaSupply&&Object(N.jsxs)("li",{className:n.list,children:[Object(N.jsx)("div",{className:n.title,children:r("visittable.header.tea-details")}),Object(N.jsx)("div",{className:n.field,children:t.teaDetails})]},"tea-details")]})]})})}var Ua=a(281);function Ja(e){var t=e.name,a=e.control,r=e.getValues,n=e.label,i=e.handleDateTimeChange,c=e.errors,s=Object(v.a)().t;return Object(N.jsx)(qt.a,{name:t,control:a,rules:{required:s("common.form.required"),validate:function(){return r("startTime").getTime()<r("endTime").getTime()||s("visitdialog.form.error.event-time")}},render:function(e){var a=e.field;return Object(N.jsx)(Ua.a,Object(ee.a)(Object(ee.a)({},a),{},{onChange:function(e){a.onChange(e),i()},ampm:!1,format:"yyyy/MM/dd HH:mm",disablePast:!0,minutesStep:5,label:n,error:!!c[t],helperText:c[t]&&c[t].message,ref:null}))}})}var Ga=a(425),Za=a.n(Ga);var $a=function(e){var t=e.name,a=e.status,r=Object(v.a)().t;return Object(N.jsxs)(N.Fragment,{children:[t,"declined"===a&&Object(N.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",flexWrap:"wrap",color:"red",verticalAlign:"bottom",marginLeft:15,fontSize:"0.95em"},children:[Object(N.jsx)(Za.a,{fontSize:"small",style:{marginRight:3}}),r("visitdialog.notes.reservation-status-declined")]})]})},Xa=a(33),_a=a(108),Qa=function(e){var t=e.datetime,a=Object(r.useContext)(Xa.b);return Object(N.jsx)(N.Fragment,{children:Object(_a.default)(t,"yyyy/MM/dd HH:mm:ss",{locale:null===a||void 0===a?void 0:a.locale})})},er=a(178),tr=a(152),ar=a(411),rr=a(426),nr=a(298),ir=a(394),cr=a(299),sr=a(307),or=a.n(sr),lr=["daily","weekly","absoluteMonthly","relativeMonthly","absoluteYearly","relativeYearly"],dr=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],ur=["first","second","third","fourth","last"],jr=["endDate","numbered"],br=a(280),mr=Object(M.a)({keyboardDatePicker:{"& .MuiOutlinedInput-adornedEnd":{paddingRight:0},width:"fit-content"},helperText:{marginLeft:0,marginRight:0,textAlign:"center"}});var pr=function(e){var t=e.label,a=e.date,r=e.onChange,n=e.disablePast,i=e.error,c=Object(v.a)().t,s=mr();return Object(N.jsx)(br.b,{margin:"normal",id:"date-picker-dialog",label:t,format:"yyyy/MM/dd",showTodayButton:!0,disablePast:n,value:a,onChange:r,KeyboardButtonProps:{"aria-label":"change date"},size:"small",className:s.keyboardDatePicker,inputProps:{style:{width:85}},error:i,invalidDateMessage:Object(N.jsx)(cr.a,{className:s.helperText,error:!0,children:c("common.error.Invalid-date")}),minDateMessage:Object(N.jsx)(cr.a,{className:s.helperText,error:!0,children:c("common.error.Invalid-min-date")}),maxDateMessage:Object(N.jsx)(cr.a,{className:s.helperText,error:!0,children:c("common.error.Invalid-max-date")})})},Or=Object(M.a)({time:{marginTop:"auto",marginBottom:"auto"},timeBetween:{margin:"auto"},error:{marginTop:-5}});function fr(e){var t=e.label,a=e.start,r=e.end,n=e.onDateChange,i=e.onStartChange,c=e.onEndChange,s=e.disablePast,o=e.errMsg,l=Or();return Object(N.jsxs)(zt.a,{container:!0,children:[Object(N.jsxs)(zt.a,{item:!0,container:!0,children:[Object(N.jsx)(zt.a,{item:!0,xs:12,sm:5,children:Object(N.jsx)(pr,{label:t,date:a,disablePast:s,onChange:function(e){e&&n(e)},error:!!o})}),Object(N.jsxs)(zt.a,{container:!0,item:!0,xs:12,sm:7,children:[Object(N.jsx)(zt.a,{item:!0,className:l.time,children:Object(N.jsx)(Pa,{selected:a,onChange:i,error:!!o})}),Object(N.jsx)(zt.a,{item:!0,className:l.timeBetween,children:"-"}),Object(N.jsx)(zt.a,{item:!0,className:l.time,children:Object(N.jsx)(Pa,{selected:r,onChange:c,error:!!o})})]})]}),!!o&&Object(N.jsx)(zt.a,{item:!0,xs:12,children:Object(N.jsx)(cr.a,{className:l.error,error:!0,children:o})})]})}var hr=function(e){var t,a,r=e.recurrence,n=e.start,i=e.end,c=Object(v.a)().t,s=null===(t=r.pattern.daysOfWeek)||void 0===t?void 0:t.map((function(e){return c("recurrence-dialog.pattern.day-of-week.".concat(e))})).join(", "),o=(null===(a=r.pattern.dayOfMonth)||void 0===a?void 0:a.toString())+c("recurrence-info.pattern.day-of-month"),l=c("recurrence-dialog.pattern.index.".concat(r.pattern.index)),d=c("recurrence-dialog.pattern.month.".concat(r.pattern.month)),u="",j="";switch(r.pattern.type){case"daily":u="day";break;case"weekly":u="week",j=" "+s;break;case"absoluteMonthly":u="month",j=" "+o;break;case"relativeMonthly":u="month",j=" "+l+s;break;case"absoluteYearly":u="year",j=" "+d+o;break;case"relativeYearly":u="year",j=" "+d+l+s}var b=1===r.pattern.interval?"":r.pattern.interval.toString(),m=1===r.pattern.interval?"every-":"",p=b+c("recurrence-info.pattern.interval.".concat(m+u))+j,O=Object(_a.default)(n,"HH:mm")+"-"+Object(_a.default)(i,"HH:mm"),f=r.range.startDate+c("recurrence-info.range.to")+r.range.endDate+c("recurrence-info.range.valid-from");return Object(N.jsx)(N.Fragment,{children:p+" "+O+"  "+f})},xr=a(647),vr=Object(M.a)((function(e){return Object(be.a)({root:{margin:0,padding:e.spacing(1.5),paddingLeft:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(.75),top:e.spacing(.75),color:e.palette.grey[500]},inputInterval:{width:70},inputDayOfMonth:{width:70},datePicker:{margin:"auto 0"},error:{margin:"-2px 10px",lineHeight:"1.4em"}})})),gr=dr.reduce((function(e,t){return e[t]=!1,e}),{}),yr=function(e,t){var a=_t.a.cloneDeep(gr);return a[dr[(new Date).getDay()]]=!0,{startTime:e,endTime:t,pattern:{type:lr[0],interval:1,daysOfWeek:a,dayOfMonth:1,index:ur[0],month:1},range:{type:jr[0],endDate:Object(er.a)(Object(tr.a)(e),1),numberOfOccurrences:1}}},kr={pattern:{type:void 0,interval:void 0,daysOfWeek:void 0,dayOfMonth:void 0,index:void 0,month:void 0},range:{type:void 0,endDate:void 0,numberOfOccurrences:void 0}};function wr(e){var t=e.activeRoomSelect,a=e.activeSearchButton,n=e.getValues,i=e.setValue,c=e.clearErrors,s=e.errors,o=Object(v.a)().t,l=Object(r.useContext)(Xa.b),d=vr(),u=Object(r.useState)(!1),j=Object(x.a)(u,2),b=j[0],m=j[1],p=Object(r.useState)(!1),O=Object(x.a)(p,2),g=O[0],y=O[1],D=Object(r.useState)(_t.a.cloneDeep(yr(n("startTime"),n("endTime")))),S=Object(x.a)(D,2),T=S[0],M=S[1],I=Object(r.useState)(_t.a.cloneDeep(kr)),R=Object(x.a)(I,2),E=R[0],F=R[1];Object(r.useEffect)((function(){var e=Object(ee.a)({},yr(n("startTime"),n("endTime")));b&&n("recurrence")?M({startTime:n("startTime"),endTime:n("endTime"),pattern:{type:n("recurrence").pattern.type,interval:n("recurrence").pattern.interval,daysOfWeek:n("recurrence").pattern.daysOfWeek&&n("recurrence").pattern.daysOfWeek.length>0?dr.reduce((function(e,t){return e[t]=n("recurrence").pattern.daysOfWeek.filter((function(e){return e===t})).length>0,e}),{}):e.pattern.daysOfWeek,dayOfMonth:n("recurrence").pattern.dayOfMonth?n("recurrence").pattern.dayOfMonth:e.pattern.dayOfMonth,index:n("recurrence").pattern.index?n("recurrence").pattern.index:e.pattern.index,month:n("recurrence").pattern.month?n("recurrence").pattern.month:e.pattern.month},range:{type:n("recurrence").range.type,endDate:n("recurrence").range.endDate?new Date(n("recurrence").range.endDate):e.range.endDate,numberOfOccurrences:n("recurrence").range.numberOfOccurrences?n("recurrence").range.numberOfOccurrences:e.range.numberOfOccurrences}}):M(_t.a.cloneDeep(e)),F(_t.a.cloneDeep(kr))}),[n,b]);var V=function(){m(!0)},P=function(){var e=Object(h.a)(f.a.mark((function e(){var t,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=n("iCalUId"))){e.next=10;break}return e.next=5,L("/event/checkinstances/".concat(t));case 5:if(a=e.sent,!(null===(r=a.parsedBody)||void 0===r?void 0:r.isIncludesException)){e.next=10;break}return y(!0),e.abrupt("return");case 10:B(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=!1,a=_t.a.cloneDeep(kr),r=Object(tr.a)(T.startTime),n=Object(ar.a)(r,5);if(T.startTime.getTime()>T.endTime.getTime()&&(a.startTime=["".concat(o("recurrence-dialog.error.event-time"))],e=!0),r.getTime()>T.range.endDate.getTime()?(a.range.endDate=["".concat(o("recurrence-dialog.error.range.end-date"))],e=!0):n.getTime()<T.range.endDate.getTime()&&(a.range.endDate=["".concat(o("recurrence-dialog.error.range.end-date.max"))],e=!0),F(a),!e){var s=Object.keys(T.pattern.daysOfWeek).filter((function(e){return T.pattern.daysOfWeek[e]}));0===s.length&&s.push(dr[(new Date).getDay()]);var l={type:T.pattern.type,interval:T.pattern.interval};switch(T.pattern.type){default:break;case"weekly":l.daysOfWeek=s;break;case"absoluteMonthly":l.dayOfMonth=T.pattern.dayOfMonth;break;case"relativeMonthly":l.daysOfWeek=s,l.index=T.pattern.index;break;case"absoluteYearly":l.dayOfMonth=T.pattern.dayOfMonth,l.month=T.pattern.month;break;case"relativeYearly":l.daysOfWeek=s,l.index=T.pattern.index,l.month=T.pattern.month}var d={type:T.range.type,startDate:A(r)};switch(T.range.type){case"endDate":d.endDate=A(T.range.endDate);break;case"numbered":d.numberOfOccurrences=T.range.numberOfOccurrences}c(["recurrence","startTime","endTime"]),i("recurrence",{pattern:l,range:d},{shouldDirty:!0}),i("startTime",T.startTime,{shouldDirty:!0}),i("endTime",T.endTime,{shouldDirty:!0}),t(),m(!1)}},W=function(){m(!1)},A=function(e){return Object(_a.default)(e,"yyyy-MM-dd",{locale:null===l||void 0===l?void 0:l.locale})},H=lr.map((function(e){return{label:o("recurrence-dialog.pattern.type.".concat(e)),value:e}})),q=dr.map((function(e){return{label:o("recurrence-dialog.pattern.day-of-week.".concat(e)),value:e}})),z=ur.map((function(e){return{label:o("recurrence-dialog.pattern.index.".concat(e)),value:e}})),Y=Object(Na.a)(Array(12)).map((function(e,t){return t+1})).map((function(e){return{label:o("recurrence-dialog.pattern.month.".concat(e)),value:e}})),K=Object(r.useMemo)((function(){return Object(N.jsx)(nr.a,{row:!0,children:dr.map((function(e,t){return Object(N.jsx)(Wa.a,{control:Object(N.jsx)(ir.a,{checked:T.pattern.daysOfWeek[e],onChange:function(e){M((function(t){return Object(ee.a)(Object(ee.a)({},t),{},{pattern:Object(ee.a)(Object(ee.a)({},t.pattern),{},{daysOfWeek:Object(ee.a)(Object(ee.a)({},t.pattern.daysOfWeek),{},Object(Ht.a)({},e.target.name,e.target.checked))})})}))},name:e,color:"primary"}),label:o("recurrence-dialog.pattern.day-of-week.".concat(e))},t)}))})}),[T,o]),U=Object(r.useMemo)((function(){return Object(N.jsx)(Yt.a,{label:o("recurrence-dialog.header.pattern.days-of-week"),select:!0,value:Object.keys(T.pattern.daysOfWeek).filter((function(e){return T.pattern.daysOfWeek[e]})).length>0?Object.keys(T.pattern.daysOfWeek).filter((function(e){return T.pattern.daysOfWeek[e]})):dr[0],onChange:function(e){var t=_t.a.cloneDeep(gr);t[e.target.value]=!0,M((function(e){return Object(ee.a)(Object(ee.a)({},e),{},{pattern:Object(ee.a)(Object(ee.a)({},e.pattern),{},{daysOfWeek:_t.a.cloneDeep(t)})})}))},error:!!E.pattern.daysOfWeek,helperText:E.pattern.daysOfWeek,children:q.map((function(e,t){return Object(N.jsx)(De.a,{value:e.value,children:e.label},t)}))})}),[q,E.pattern.daysOfWeek,T,o]),J=Object(r.useMemo)((function(){return Object(N.jsx)(Yt.a,{label:o("recurrence-dialog.header.pattern.index"),select:!0,value:T.pattern.index,onChange:function(e){M((function(t){return Object(ee.a)(Object(ee.a)({},t),{},{pattern:Object(ee.a)(Object(ee.a)({},t.pattern),{},{index:e.target.value})})}))},error:!!E.pattern.index,helperText:E.pattern.index,children:z.map((function(e,t){return Object(N.jsx)(De.a,{value:e.value,children:e.label},t)}))})}),[E.pattern.index,T,o,z]),G=Object(r.useMemo)((function(){return Object(N.jsx)(Yt.a,{className:d.inputDayOfMonth,label:o("recurrence-dialog.header.pattern.day-of-month"),type:"number",inputProps:{min:1,max:31,style:{textAlign:"right"}},value:T.pattern.dayOfMonth,onChange:function(e){var t=Number(e.target.value);t<1&&(t=1),t>31&&(t=31),M((function(e){return Object(ee.a)(Object(ee.a)({},e),{},{pattern:Object(ee.a)(Object(ee.a)({},e.pattern),{},{dayOfMonth:t})})}))},error:!!E.pattern.dayOfMonth,helperText:E.pattern.dayOfMonth})}),[d.inputDayOfMonth,E.pattern.dayOfMonth,T,o]),Z=Object(r.useMemo)((function(){return Object(N.jsx)(Yt.a,{label:o("recurrence-dialog.header.pattern.month"),select:!0,value:T.pattern.month,onChange:function(e){M((function(t){return Object(ee.a)(Object(ee.a)({},t),{},{pattern:Object(ee.a)(Object(ee.a)({},t.pattern),{},{month:Number(e.target.value)})})}))},error:!!E.pattern.month,helperText:E.pattern.month,children:Y.map((function(e,t){return Object(N.jsx)(De.a,{value:e.value,children:e.label},t)}))})}),[E.pattern.month,T,o,Y]);return Object(N.jsxs)(N.Fragment,{children:[!n("recurrence")&&Object(N.jsx)(w.a,{size:"small",color:"primary",startIcon:Object(N.jsx)(or.a,{}),onClick:V,children:o("visitdialog.button.set-recurrence")}),!!n("recurrence")&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Yt.a,{label:o("visitdialog.notes.recurrence-info"),value:Object(rr.renderToString)(Object(N.jsx)(hr,{recurrence:n("recurrence"),start:n("startTime"),end:n("endTime")})),multiline:!0,disabled:!0,inputProps:{minRows:1},error:!!s.recurrence}),!!s.recurrence&&Object(N.jsx)(cr.a,{error:!0,className:d.error,children:s.recurrence.message}),Object(N.jsx)(w.a,{size:"small",color:"primary",startIcon:Object(N.jsx)(or.a,{}),onClick:V,children:o("visitdialog.button.edit-recurrence")})]}),Object(N.jsxs)(va.a,{open:b,onClose:function(e,t){t&&"backdropClick"===t||W()},fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title",children:[Object(N.jsxs)(ka.a,{className:d.root,children:[o("recurrence-dialog.title"),Object(N.jsx)(ge.a,{className:d.closeButton,onClick:W,children:Object(N.jsx)(ja.a,{})})]}),Object(N.jsxs)(ya.a,{dividers:!0,children:[Object(N.jsx)(C.a,{px:2,py:1,children:Object(N.jsx)(zt.a,{container:!0,children:Object(N.jsx)(zt.a,{item:!0,xs:12,sm:10,children:Object(N.jsx)(fr,{label:o("recurrence-dialog.header.appt-date-time"),start:T.startTime,end:T.endTime,onDateChange:function(e){M((function(t){return Object(ee.a)(Object(ee.a)({},t),{},{startTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.startTime.getHours(),t.startTime.getMinutes()),endTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.endTime.getHours(),t.endTime.getMinutes())})}))},onStartChange:function(e){M((function(t){var a=new Date(t.startTime.getFullYear(),t.startTime.getMonth(),t.startTime.getDate(),e.getHours(),e.getMinutes()),r=Ea(a);return Object(ee.a)(Object(ee.a)({},t),{},{startTime:a,endTime:r})}))},onEndChange:function(e){M((function(t){return Object(ee.a)(Object(ee.a)({},t),{},{endTime:new Date(t.endTime.getFullYear(),t.endTime.getMonth(),t.endTime.getDate(),e.getHours(),e.getMinutes())})}))},disablePast:"ins"===n("mode"),errMsg:E.startTime?E.startTime:void 0})})})}),Object(N.jsx)(he.a,{}),Object(N.jsxs)(C.a,{px:2,py:1,children:[Object(N.jsx)(Yt.a,{label:o("recurrence-dialog.header.pattern.type"),select:!0,value:T.pattern.type,onChange:function(e){var t=Object(ee.a)({},yr(n("startTime"),n("endTime")));t.pattern.type=e.target.value,M((function(e){return Object(ee.a)(Object(ee.a)({},e),{},{pattern:Object(ee.a)({},t.pattern)})}))},error:!!E.pattern.type,helperText:E.pattern.type,children:H.map((function(e,t){return Object(N.jsx)(De.a,{value:e.value,children:e.label},t)}))}),Object(N.jsxs)(zt.a,{container:!0,children:[Object(N.jsxs)(zt.a,{item:!0,xs:12,md:4,container:!0,spacing:1,alignItems:"center",children:[Object(N.jsx)(zt.a,{item:!0,children:Object(N.jsx)(Yt.a,{className:d.inputInterval,label:o("recurrence-dialog.header.pattern.interval"),type:"number",inputProps:{min:1,style:{textAlign:"right"}},value:T.pattern.interval,onChange:function(e){var t=Number(e.target.value)>0?Number(e.target.value):1;M((function(e){return Object(ee.a)(Object(ee.a)({},e),{},{pattern:Object(ee.a)(Object(ee.a)({},e.pattern),{},{interval:t})})}))},error:!!E.pattern.interval,helperText:E.pattern.interval})}),Object(N.jsx)(zt.a,{item:!0,children:Object(N.jsx)(k.a,{children:o("recurrence-dialog.label.pattern.interval.".concat(T.pattern.type))})})]}),Object(N.jsx)(zt.a,{item:!0,style:"weekly"===T.pattern.type?void 0:{display:"none"},children:Object(N.jsxs)(Ue.a,{error:!!E.pattern.daysOfWeek,children:[K,!!E.pattern.daysOfWeek&&Object(N.jsx)(cr.a,{error:!0,children:E.pattern.daysOfWeek})]})}),Object(N.jsx)(zt.a,{item:!0,style:"absoluteMonthly"===T.pattern.type?void 0:{display:"none"},children:Object(N.jsxs)(zt.a,{item:!0,container:!0,spacing:1,alignItems:"center",children:[Object(N.jsx)(zt.a,{item:!0,children:G}),Object(N.jsx)(zt.a,{item:!0,children:Object(N.jsx)(k.a,{children:o("recurrence-dialog.label.pattern.day-of-month.absolute")})})]})}),Object(N.jsx)(zt.a,{item:!0,style:"relativeMonthly"===T.pattern.type?void 0:{display:"none"},children:Object(N.jsxs)(zt.a,{item:!0,container:!0,spacing:1,alignItems:"center",children:[Object(N.jsx)(zt.a,{item:!0,children:J}),Object(N.jsx)(zt.a,{item:!0,children:U}),Object(N.jsx)(zt.a,{item:!0,children:Object(N.jsx)(k.a,{children:o("recurrence-dialog.label.pattern.day-of-month.relative")})})]})}),Object(N.jsx)(zt.a,{item:!0,style:"absoluteYearly"===T.pattern.type?void 0:{display:"none"},children:Object(N.jsxs)(zt.a,{item:!0,container:!0,spacing:1,alignItems:"center",children:[Object(N.jsx)(zt.a,{item:!0,children:Z}),Object(N.jsx)(zt.a,{item:!0,children:G}),Object(N.jsx)(zt.a,{item:!0,children:Object(N.jsx)(k.a,{children:o("recurrence-dialog.label.pattern.day-of-month.absolute")})})]})}),Object(N.jsx)(zt.a,{item:!0,style:"relativeYearly"===T.pattern.type?void 0:{display:"none"},children:Object(N.jsxs)(zt.a,{item:!0,container:!0,spacing:1,alignItems:"center",children:[Object(N.jsx)(zt.a,{item:!0,children:Z}),Object(N.jsx)(zt.a,{item:!0,children:J}),Object(N.jsx)(zt.a,{item:!0,children:U}),Object(N.jsx)(zt.a,{item:!0,children:Object(N.jsx)(k.a,{children:o("recurrence-dialog.label.pattern.day-of-month.relative")})})]})})]})]}),Object(N.jsx)(he.a,{}),Object(N.jsxs)(C.a,{px:2,py:1,children:[Object(N.jsx)(zt.a,{container:!0,spacing:2,children:Object(N.jsx)(zt.a,{item:!0,className:d.datePicker,children:Object(N.jsx)(pr,{label:o("recurrence-dialog.header.range.end-date"),date:T.range.endDate,disablePast:"ins"===n("mode"),onChange:function(e){e&&M((function(t){return Object(ee.a)(Object(ee.a)({},t),{},{range:Object(ee.a)(Object(ee.a)({},t.range),{},{endDate:e})})}))},error:!!E.range.endDate})})}),!!E.range.endDate&&Object(N.jsx)(cr.a,{error:!0,children:E.range.endDate})]}),Object(N.jsx)(C.a,{p:2,children:Object(N.jsxs)(zt.a,{container:!0,justifyContent:"space-between",spacing:2,children:[Object(N.jsx)(zt.a,{item:!0,xs:4,children:Object(N.jsx)(w.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:P,children:o("common.button.ok")})}),Object(N.jsx)(zt.a,{item:!0,xs:4,children:Object(N.jsx)(w.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:W,children:o("common.button.cancel")})}),Object(N.jsx)(zt.a,{item:!0,xs:4,children:Object(N.jsx)(w.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){c("recurrence"),i("recurrence",void 0,{shouldDirty:!0}),a(),m(!1)},disabled:void 0===n("recurrence"),children:o("recurrence-dialog.button.release-recurrence")})})]})})]})]}),Object(N.jsx)(La,{open:g,onClose:function(e){y(!1),e&&B()},message:Object(N.jsxs)(ae.a,{severity:"warning",variant:"outlined",children:[Object(N.jsx)(xr.a,{children:"Warning"}),o("recurrence-dialog.confirm-message-1"),Object(N.jsx)("br",{}),o("recurrence-dialog.confirm-message-2")]})})]})}function Cr(e){var t=e.control,a=e.index,r=e.remove,n=e.disabledVisitor,i=e.errors,c=Object(v.a)().t;return Object(N.jsxs)(zt.a,{container:!0,spacing:1,children:[Object(N.jsx)(zt.a,{item:!0,xs:6,children:Object(N.jsx)(qt.a,{name:"visitCompany.".concat(a,".name"),control:t,rules:{required:!n&&c("common.form.required")},render:function(e){var t,r,s,o,l,d,u,j=e.field;return Object(N.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({},j),{},{label:c("visittable.header.visit-company-name"),disabled:n,error:!!(null===i||void 0===i||null===(t=i.visitCompany)||void 0===t||null===(r=t[a])||void 0===r?void 0:r.name),helperText:(null===i||void 0===i||null===(s=i.visitCompany)||void 0===s||null===(o=s[a])||void 0===o?void 0:o.name)&&(null===i||void 0===i||null===(l=i.visitCompany)||void 0===l||null===(d=l[a])||void 0===d||null===(u=d.name)||void 0===u?void 0:u.message)}))}})}),Object(N.jsx)(zt.a,{item:!0,xs:5,children:Object(N.jsx)(qt.a,{name:"visitCompany.".concat(a,".rep"),control:t,render:function(e){var t,r,s,o,l,d,u,j=e.field;return Object(N.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({},j),{},{label:c("visittable.header.visit-company-rep"),disabled:n,error:!!(null===i||void 0===i||null===(t=i.visitCompany)||void 0===t||null===(r=t[a])||void 0===r?void 0:r.rep),helperText:(null===i||void 0===i||null===(s=i.visitCompany)||void 0===s||null===(o=s[a])||void 0===o?void 0:o.rep)&&(null===i||void 0===i||null===(l=i.visitCompany)||void 0===l||null===(d=l[a])||void 0===d||null===(u=d.rep)||void 0===u?void 0:u.message)}))}})}),Object(N.jsx)(zt.a,{item:!0,xs:1,style:{margin:"auto",marginLeft:"-7px"},children:Object(N.jsx)(ge.a,{onClick:function(){return r(a)},color:"primary","aria-label":c("common.button.delete"),component:"span",disabled:0===a,children:Object(N.jsx)(Ut.a,{})})})]})}var Dr=At(),Sr=Object(M.a)((function(e){return Object(be.a)({formAction:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},note:{color:"red",fontSize:"0.9em",marginTop:0},usageGuide:{marginTop:"5px"}})})),Nr=Object(o.b)({palette:{primary:{main:u.main},secondary:{main:Lt.a[300]}},props:{MuiTextField:{variant:"outlined",margin:"dense",fullWidth:!0,minRows:2}},overrides:{MuiOutlinedInput:{adornedEnd:{paddingRight:0}}}}),Tr="add-room-01",Mr=function(e,t,a){var r=e||new Date,n=t||"",i=a||"outside";return{mode:"ins",iCalUId:"",subject:"",visitorId:"",visitCompany:"outside"===i?[{name:"",rep:""}]:[],numberOfVisitor:0,numberOfEmployee:0,mailto:{authors:[],required:[],optional:[]},usageRange:i,resourcies:Object(Ht.a)({},Tr,{roomForEdit:n,teaSupply:!1,numberOfTeaSupply:0,teaDetails:""}),comment:"",contactAddr:"",startTime:Ra(r),endTime:Ea(r),seriesMasterId:void 0,recurrence:void 0}},Ir=function e(t){var a=_t.a.transform(t,(function(t,a,r){!1!==a&&(t[r]=_t.a.isObject(a)?e(a):a)}));return _t.a.transform(a,(function(t,a,r){!0!==a&&_t.a.isEmpty(a)||(t[r]=_t.a.isObject(a)?e(a):a)}))};function Rr(e){var t,a,n=e.open,i=e.onClose,c=e.data,o=e.reload,l=e.addDefault,d=Object(v.a)().t,u=Object(ee.a)(Object(ee.a)({},Dr()),Sr()),j=Object(r.useContext)(ce),b=Object(r.useContext)(Xe),m=Object(p.h)(),O=Object(r.useState)(!1),g=Object(x.a)(O,2),y=g[0],D=g[1],S=Mr(),T=Object(qt.d)({defaultValues:S,reValidateMode:"onSubmit"}),M=T.control,I=T.getValues,R=T.handleSubmit,E=T.reset,V=T.setValue,P=T.trigger,B=T.setError,L=T.clearErrors,W=T.formState,A=W.errors,H=W.isDirty,q=W.isSubmitting,z=W.dirtyFields;Object(r.useEffect)((function(){E(n&&c?{mode:"upd",iCalUId:c.iCalUId,subject:c.subject,visitorId:c.visitorId,visitCompany:c.visitCompany,numberOfVisitor:c.numberOfVisitor,numberOfEmployee:c.numberOfEmployee,mailto:c.mailto,usageRange:c.usageRange,resourcies:Object.keys(c.resourcies).reduce((function(e,t){return e[t]={roomForEdit:t,teaSupply:c.resourcies[t].teaSupply,numberOfTeaSupply:c.resourcies[t].numberOfTeaSupply,teaDetails:c.resourcies[t].teaDetails},e}),{}),comment:c.comment,contactAddr:c.contactAddr,startTime:new Date(c.startDateTime),endTime:new Date(c.endDateTime),seriesMasterId:c.seriesMasterId,recurrence:c.recurrence?{pattern:{type:c.recurrence.pattern.type,interval:c.recurrence.pattern.interval,daysOfWeek:c.recurrence.pattern.daysOfWeek,dayOfMonth:c.recurrence.pattern.dayOfMonth,index:c.recurrence.pattern.index,month:c.recurrence.pattern.month},range:{type:c.recurrence.range.type,startDate:c.recurrence.range.startDate,endDate:c.recurrence.range.endDate}}:void 0}:_t.a.cloneDeep(Mr(null===l||void 0===l?void 0:l.start,null===l||void 0===l?void 0:l.roomId,null===l||void 0===l?void 0:l.usageRange)))}),[c,n,E,l]);var Y=Object(r.useState)(!1),K=Object(x.a)(Y,2),U=K[0],J=K[1],G=Object(qt.f)({control:M,name:"usageRange"}),Z="/room/choices?location=".concat(m.params.location),$=Ge(Z,[]),X=Object(x.a)($,3),_=X[0].data,Q=X[2],te=Object(r.useCallback)((function(){"upd"===I("mode")?Q(Z):I("recurrence")?Q(Z+"&usagerange=".concat(I("usageRange"))):Q(Z+"&start=".concat(I("startTime").getTime(),"&end=").concat(I("endTime").getTime())+"&usagerange=".concat(I("usageRange")))}),[Z,I,Q]);Object(r.useEffect)((function(){n&&te()}),[te,n,G]),Object(r.useEffect)((function(){n||J(!1)}),[n]);var ae=Object(r.useState)(!1),re=Object(x.a)(ae,2),ne=re[0],ie=re[1];Object(r.useEffect)((function(){"inside"===G?(L(["visitCompany","numberOfVisitor"]),V("visitCompany",[],{shouldDirty:!0}),V("numberOfVisitor",0,{shouldDirty:!0}),ie(!0)):(L("visitCompany"),V("visitCompany",[{name:"",rep:""}],{shouldDirty:!0}),ie(!1))}),[L,V,G]);var se=Object(qt.f)({control:M,name:"startTime"}),oe=Object(qt.f)({control:M,name:"endTime"}),le=Object(qt.c)({control:M,name:"visitCompany"}),de=le.fields,ue=le.append,je=le.remove,be=Object(qt.f)({control:M,name:"visitCompany"}),me=function(){var e=Object(h.a)(f.a.mark((function e(t){var a,r,n,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a="",e.t0=t.mode,e.next="ins"===e.t0?5:"upd"===e.t0?7:"del"===e.t0?9:11;break;case 5:return a="/event/create",e.abrupt("break",11);case 7:return a="/event/update",e.abrupt("break",11);case 9:return a="/event/delete",e.abrupt("break",11);case 11:return e.next=13,aa(a,{inputs:t,dirtyFields:Ir(z)});case 13:if(!(r=e.sent).success){e.next=24;break}if("del"!==t.mode){e.next=18;break}return e.next=18,new Promise((function(e){return setTimeout(e,1e3)}));case 18:return e.next=20,o();case 20:i(),j.dispatch({type:"success",message:d("common.msg.update-success")}),e.next=25;break;case 24:if(r.errors)for(c in n=r.errors)B(s=c,{message:d(n[s][0])});case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(0),j.dispatch({type:"error",message:e.t1.message});case 30:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(["startTime","endTime"]);case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:te(),J(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){"upd"!==I("mode")&&(U||J(!0))},he=function(){var e=Ea(I("startTime"));V("endTime",e,{shouldDirty:!0}),Oe()},xe=function(){Oe()},ve=function(e){je(e)};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(F,{open:q}),Object(N.jsx)(Ca,{open:n,onClose:i,title:d("visitdialog.title"),children:Object(N.jsxs)(s.a,{theme:Nr,children:[!!c&&Object(N.jsx)(C.a,{px:2,children:Object(N.jsxs)(fe.a,{disablePadding:!0,children:[c.isMSMultipleLocations?Object(N.jsx)("li",{className:u.bottomLine,children:Object(N.jsx)("p",{className:u.note,children:d("visitdialog.notes.multiple-locations")})}):Object(N.jsxs)("li",{className:u.list,children:[Object(N.jsx)("div",{className:u.title,children:d("visittable.header.resource-status")}),Object(N.jsx)("div",{className:u.field,children:d(Ya(c.roomStatus))})]},"resource-status"),Object(N.jsxs)("li",{className:u.list,children:[Object(N.jsx)("div",{className:u.title,children:d("visittable.header.reservation-name")}),Object(N.jsx)("div",{className:u.field,children:Object(N.jsx)($a,{name:c.reservationName,status:c.reservationStatus})})]},"reservation-name")]})}),Object(N.jsxs)("form",{children:[Object(N.jsxs)(C.a,{p:2,pb:0,children:[Object(N.jsx)(na,{name:"subject",control:M,label:d("visittable.header.event-subject"),required:!0,errors:A}),!!c&&Object(N.jsxs)(k.a,{variant:"caption",display:"block",className:u.usageGuide,children:[d("visitdialog.notes.reply-status"),Object(N.jsx)(Sa,{})]}),Object(N.jsx)(xa,{name:"mailto.authors",control:M,label:d("visittable.header.event-mailto-authors"),errors:A,disabled:!0,style:{display:"none"}}),Object(N.jsx)(xa,{name:"mailto.required",control:M,label:d("visittable.header.event-mailto-required"),errors:A,disabled:null===c||void 0===c?void 0:c.isMSMultipleLocations}),Object(N.jsx)(xa,{name:"mailto.optional",control:M,label:d("visittable.header.event-mailto-optional"),errors:A,disabled:null===c||void 0===c?void 0:c.isMSMultipleLocations}),Object(N.jsx)(C.a,{py:1,style:c?{display:"none"}:void 0,children:Object(N.jsx)(na,{name:"usageRange",control:M,label:d("visittable.header.usage-range"),required:!0,selectList:ea.map((function(e){return{label:d("visitdialog.view.usage-range.".concat(e)),value:e}})),disabled:!!c,errors:A})}),Object(N.jsxs)(zt.a,{container:!0,spacing:1,style:I("recurrence")?{display:"none"}:void 0,children:[Object(N.jsx)(zt.a,{item:!0,xs:5,style:{display:"none"},children:Object(N.jsx)(Ja,{name:"startTime",control:M,getValues:I,label:d("visittable.header.event-start-time"),handleDateTimeChange:he,errors:A})}),Object(N.jsx)(zt.a,{item:!0,xs:5,style:{display:"none"},children:Object(N.jsx)(Ja,{name:"endTime",control:M,getValues:I,label:d("visittable.header.event-end-time"),handleDateTimeChange:xe,errors:A})}),Object(N.jsx)(zt.a,{item:!0,xs:12,sm:10,children:Object(N.jsx)(fr,{label:d("visittable.header.appt-date-time"),start:se,end:oe,onDateChange:function(e){V("startTime",new Date(e.getFullYear(),e.getMonth(),e.getDate(),I("startTime").getHours(),I("startTime").getMinutes()),{shouldDirty:!0}),he()},onStartChange:function(e){V("startTime",e,{shouldDirty:!0}),he()},onEndChange:function(e){V("endTime",e,{shouldDirty:!0}),xe()},disablePast:!c,errMsg:(null===(t=A.startTime)||void 0===t?void 0:t.message)?[null===(a=A.startTime)||void 0===a?void 0:a.message]:void 0})}),Object(N.jsx)(zt.a,{item:!0,xs:12,sm:2,style:{margin:"auto"},children:Object(N.jsx)(w.a,{onClick:pe,variant:"contained",color:"primary",fullWidth:!0,disabled:(null===c||void 0===c?void 0:c.isMSMultipleLocations)||!U,style:"upd"===I("mode")?{display:"none"}:void 0,children:d("common.button.search")})})]}),!(null===c||void 0===c?void 0:c.seriesMasterId)&&b.userStorage.isFront&&Object(N.jsx)(zt.a,{children:Object(N.jsx)(wr,{activeRoomSelect:function(){"upd"!==I("mode")&&(J(!1),te())},activeSearchButton:Oe,getValues:I,setValue:V,clearErrors:L,errors:A})})]}),c?Object(N.jsx)(N.Fragment,{children:c.isMSMultipleLocations?Object(N.jsx)(s.a,{theme:Wt,children:Object.keys(c.resourcies).map((function(e){return Object(N.jsx)(Ka,{data:c.resourcies[e]},e)}))}):!U&&Object(N.jsx)(qa,{control:M,setValue:V,getValues:I,clearErrors:L,rooms:_,roomId:Object.keys(c.resourcies)[0],disabledRoom:!0,disabledVisitor:"inside"===c.usageRange,errors:A})}):!U&&Object(N.jsx)(qa,{control:M,setValue:V,getValues:I,clearErrors:L,rooms:_,roomId:Tr,disabledVisitor:ne,errors:A}),Object(N.jsx)(C.a,{px:2,pt:1,style:ne?{display:"none"}:void 0,children:de.map((function(e,t){return Object(N.jsx)(Cr,{control:M,index:t,remove:ve,disabledVisitor:ne,errors:A},e.id)}))}),Object(N.jsx)(C.a,{px:2,children:Object(N.jsxs)(zt.a,{container:!0,spacing:1,children:[Object(N.jsx)(zt.a,{item:!0,xs:12,sm:4,style:ne?{opacity:0}:{margin:"auto"},children:Object(N.jsx)(w.a,{onClick:function(){ue({name:"",rep:""})},startIcon:Object(N.jsx)($t.a,{}),variant:"contained",color:"primary",fullWidth:!0,disabled:be.length>2,children:d("visitdialog.button.add-visitor")})}),Object(N.jsx)(zt.a,{item:!0,xs:6,sm:4,style:ne?{opacity:0}:void 0,children:Object(N.jsx)(qt.a,{name:"numberOfVisitor",control:M,rules:{required:d("common.form.required")},render:function(e){var t=e.field;return Object(N.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({type:"number",inputProps:{min:0,style:{textAlign:"right"}}},t),{},{disabled:ne,label:d("visittable.header.number-of-visitor"),error:!!A.numberOfVisitor,helperText:!!A.numberOfVisitor&&A.numberOfVisitor.message}))}})}),Object(N.jsx)(zt.a,{item:!0,xs:6,sm:4,children:Object(N.jsx)(qt.a,{name:"numberOfEmployee",control:M,rules:{required:d("common.form.required")},render:function(e){var t=e.field;return Object(N.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({type:"number",inputProps:{min:0,style:{textAlign:"right"}}},t),{},{label:d("visittable.header.number-of-employee"),error:!!A.numberOfEmployee,helperText:!!A.numberOfEmployee&&A.numberOfEmployee.message}))}})})]})}),Object(N.jsxs)(C.a,{p:2,children:[Object(N.jsx)(na,{name:"comment",control:M,label:d("visittable.header.comment"),multiline:!0,errors:A}),Object(N.jsx)(na,{name:"contactAddr",control:M,label:d("visittable.header.contact-addr"),required:!0,errors:A})]}),!!c&&Object(N.jsx)(C.a,{px:2,children:Object(N.jsx)(fe.a,{disablePadding:!0,children:Object(N.jsxs)("li",{className:u.list,children:[Object(N.jsx)("div",{className:u.title,children:d("visitdialog.header.last-updated")}),Object(N.jsx)("div",{className:u.field,children:Object(N.jsx)(Qa,{datetime:c.lastUpdated})})]},"datetime")})}),Object(N.jsx)(C.a,{px:2,children:Object(N.jsxs)(zt.a,{container:!0,justifyContent:"space-between",spacing:2,className:u.formAction,children:[Object(N.jsx)(zt.a,{item:!0,xs:c?6:12,children:Object(N.jsx)(w.a,{onClick:function(){R(me)()},variant:"contained",color:"primary",disabled:!H||U,startIcon:Object(N.jsx)(Gt.a,{}),fullWidth:!0,children:d("visitdialog.button.save")})}),Object(N.jsx)(zt.a,{item:!0,xs:6,style:c?void 0:{display:"none"},children:Object(N.jsx)(w.a,{onClick:function(){D(!0)},variant:"contained",color:"primary",startIcon:Object(N.jsx)(Ut.a,{}),fullWidth:!0,children:d("visitdialog.button.delete")})})]})})]})]})}),Object(N.jsx)(La,{open:y,onClose:function(e){D(!1),e&&(V("mode","del"),R(me)())},message:"seriesMaster"===(null===c||void 0===c?void 0:c.eventType)?d("visitorinfoform.delete-confirm-message.series-master"):d("visitorinfoform.delete-confirm-message"),color:"secondary"})]})}var Er=Object(M.a)((function(e){return Object(be.a)({root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}}})}));function Fr(e){var t=e.propsKey,a=e.data,r=Er();return Object(N.jsx)("div",{className:r.root,children:a.map((function(e,a){return Object(N.jsx)(ha,{option:e},"".concat(t,"-").concat(a))}))})}var Vr=At();function Pr(e){var t=e.open,a=e.onClose,r=e.data,n=Object(v.a)().t,i=Vr();return r.isAttendees?Object(N.jsxs)(Ca,{open:t,onClose:a,title:n("visitdialog.title"),children:[Object(N.jsx)(C.a,{px:2,pt:2,children:Object(N.jsxs)(fe.a,{disablePadding:!0,children:[Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visittable.header.event-subject")}),Object(N.jsx)("div",{className:i.field,children:r.subject})]},"event-subject"),!(null===r||void 0===r?void 0:r.recurrence)&&Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visittable.header.appt-time")}),Object(N.jsx)("div",{className:i.field,children:r.apptTime})]},"app-time"),!!(null===r||void 0===r?void 0:r.recurrence)&&Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visitdialog.notes.recurrence-info")}),Object(N.jsx)("div",{className:i.field,children:Object(N.jsx)(hr,{recurrence:null===r||void 0===r?void 0:r.recurrence,start:new Date(null===r||void 0===r?void 0:r.startDateTime),end:new Date(null===r||void 0===r?void 0:r.endDateTime)})})]},"app-time"),Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visittable.header.reservation-name")}),Object(N.jsx)("div",{className:i.field,children:Object(N.jsx)($a,{name:r.reservationName,status:r.reservationStatus})})]},"reservation-name")]})}),Object(N.jsxs)(C.a,{px:2,pt:2,children:[Object(N.jsxs)(k.a,{variant:"caption",display:"block",gutterBottom:!0,children:[n("visitdialog.notes.reply-status"),Object(N.jsx)(Sa,{})]}),Object(N.jsxs)(fe.a,{disablePadding:!0,children:[Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visittable.header.event-mailto-required")}),Object(N.jsx)("div",{className:i.fieldSlim,children:Object(N.jsx)(Fr,{propsKey:"mailto-required",data:r.mailto.required})})]},"mailto-required"),Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visittable.header.event-mailto-optional")}),Object(N.jsx)("div",{className:i.fieldSlim,children:Object(N.jsx)(Fr,{propsKey:"mailto-optional",data:r.mailto.optional})})]},"mailto-optional")]})]}),Object.keys(r.resourcies).map((function(e){return Object(N.jsx)(Ka,{data:r.resourcies[e]},e)})),Object(N.jsx)(C.a,{px:2,pt:2,style:"inside"===r.usageRange?{display:"none"}:void 0,children:Object(N.jsxs)(fe.a,{disablePadding:!0,children:[Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsxs)("div",{className:i.title,children:[n("visittable.header.visit-company-name")," /",Object(N.jsx)("br",{}),n("visittable.header.visit-company-rep")]}),Object(N.jsx)("div",{className:i.field,children:r.visitCompany.map((function(e,t){return Object(N.jsxs)(N.Fragment,{children:[!!t&&Object(N.jsx)("br",{}),Object(N.jsx)("span",{children:"".concat(e.name," / ").concat(e.rep)})]})}))})]},"visit-company"),Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visittable.header.number-of-visitor")}),Object(N.jsx)("div",{className:i.field,style:{flexBasis:"25%",borderRight:"none"},children:r.numberOfVisitor}),Object(N.jsx)("div",{className:i.title,style:{flexBasis:"25%",borderLeft:"none"},children:n("visittable.header.number-of-employee")}),Object(N.jsx)("div",{className:i.field,style:{flexBasis:"25%"},children:r.numberOfEmployee})]},"number-of-visitor")]})}),Object(N.jsx)(C.a,{p:2,pt:2,children:Object(N.jsxs)(fe.a,{disablePadding:!0,children:[Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visittable.header.comment")}),Object(N.jsx)("div",{className:i.field,children:r.comment})]},"comment"),Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visittable.header.contact-addr")}),Object(N.jsx)("div",{className:i.field,children:r.contactAddr})]},"contact-addr")]})}),Object(N.jsx)(C.a,{px:2,pb:2,children:Object(N.jsx)(fe.a,{disablePadding:!0,children:Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visitdialog.header.last-updated")}),Object(N.jsx)("div",{className:i.field,children:Object(N.jsx)(Qa,{datetime:r.lastUpdated})})]},"datetime")})})]}):Object(N.jsx)(Ca,{open:t,onClose:a,title:n("visitdialog.title"),children:n("common.msg.authority-error")})}var Br=a(368),Lr=a(652);function Wr(e){var t=e.open,a=e.seriesMasterId,n=e.onClose,i=Object(v.a)().t,c=Object(r.useState)("instances"),s=Object(x.a)(c,2),o=s[0],l=s[1],d=function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("master"!==o){e.next=7;break}return e.next=3,L("/event/visitInfo/".concat(a));case 3:t=e.sent,n(!1,t.parsedBody),e.next=8;break;case 7:n(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){n(!0)};return Object(N.jsx)("div",{children:Object(N.jsxs)(va.a,{open:t,onClose:u,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(N.jsxs)(ya.a,{children:[Object(N.jsx)(Ba.a,{id:"alert-dialog-description",children:i("visitorinfoform.recurrence-confirm-message")}),Object(N.jsx)(C.a,{children:Object(N.jsxs)(Br.a,{"aria-label":"gender",name:"gender1",value:o,onChange:function(e){l(e.target.value)},children:[Object(N.jsx)(Wa.a,{value:"instances",control:Object(N.jsx)(Lr.a,{}),label:i("visitorinfoform.recurrence-radio-instances")}),Object(N.jsx)(Wa.a,{value:"master",control:Object(N.jsx)(Lr.a,{}),label:i("visitorinfoform.recurrence-radio-master")})]})})]}),Object(N.jsxs)(ga.a,{children:[Object(N.jsx)(w.a,{onClick:d,color:"secondary",children:"OK"}),Object(N.jsx)(w.a,{onClick:u,color:"secondary",autoFocus:!0,children:"CANCEL"})]})]})})}var Ar=function(e,t){switch(t.type){case"inputOpen":return{mode:"rowData",inputOpen:!0,readOpen:!1};case"addDataOpen":return{mode:"addData",inputOpen:!0,readOpen:!1,addDefault:t.addDefault};case"inputClose":return Object(ee.a)(Object(ee.a)({},e),{},{inputOpen:!1});case"readOpen":return{mode:"rowData",inputOpen:!1,readOpen:!0};case"readClose":return Object(ee.a)(Object(ee.a)({},e),{},{readOpen:!1});case"recConfOpen":return Object(ee.a)(Object(ee.a)({},e),{},{recConfOpen:!0});case"recConfClose":return Object(ee.a)(Object(ee.a)({},e),{},{recConfOpen:!1});case"recConfCancel":return Object(ee.a)(Object(ee.a)({},e),{},{recConfOpen:!1,inputOpen:!1,readOpen:!1});default:return e}};function Hr(e){var t=e.dataDialogHook,a=e.isLoading,r=e.reload,n=e.currentRow,i=e.children,c=e.onRecConfClose,o=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch({type:"inputClose"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch({type:"readClose"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)(s.a,{theme:Wt,children:[Object(N.jsx)(F,{open:a}),i,Object(N.jsx)(Rr,{open:t.state.inputOpen&&!t.state.recConfOpen,onClose:o,data:"addData"===t.state.mode?null:n,reload:r,addDefault:t.state.addDefault}),!!n&&Object(N.jsx)(Pr,{open:t.state.readOpen&&!t.state.recConfOpen,onClose:l,data:n}),!!n&&!!n.seriesMasterId&&!!c&&Object(N.jsx)(Wr,{open:!!t.state.recConfOpen,seriesMasterId:n.seriesMasterId,onClose:c})]})}var qr=a(428),zr=a.n(qr),Yr=a(429),Kr=a.n(Yr),Ur={fontSize:"1.2em",marginLeft:"3px",marginRight:"3px",verticalAlign:"text-bottom",color:"gray"},Jr=function(e){switch(e.type){case"occurrence":return Object(N.jsx)(zr.a,{style:Ur});case"exception":return Object(N.jsx)(Kr.a,{style:Ur});default:return Object(N.jsx)(N.Fragment,{})}},Gr=Pt(!1),Zr=function(e){return e.visitCompany.map((function(e){return"".concat(e.name)})).join(", ")};function $r(e){var t=e.currentDate,a=e.dataDialogHook,n=Object(v.a)().t,i=Gr(),c=Object(p.h)(),s=Ge("",[]),o=Object(x.a)(s,3),l=o[0],d=l.data,u=l.isLoading,j=l.isError,b=o[1],m=o[2];Object(r.useEffect)((function(){m("/event/visitlist?timestamp=".concat(t.getTime(),"&location=").concat(c.params.location))}),[t,c.params.location,m]);var O=Et({dataDialogHook:a}),f=Object(x.a)(O,4),h=f[0].currentRow,g=f[2],y=f[3],k=[{title:n("visittable.header.appt-time"),field:"apptTime",render:function(e){return Object(N.jsxs)(N.Fragment,{children:[e.apptTime,Object(N.jsx)(Jr,{type:e.eventType})]})}},{title:n("visittable.header.room-name"),field:"roomName"},{title:n("visittable.header.event-subject"),field:"subject"},{title:n("visittable.header.visit-company-name"),field:"visitCompany",render:function(e){return Zr(e)},customSort:function(e,t){return Zr(e)<Zr(t)?-1:1}},{title:n("visittable.header.reservation-name"),field:"reservationName"}];return j?Object(N.jsx)("div",{children:n("common.msg.fetch-failed")}):Object(N.jsx)(Hr,{currentRow:h,dataDialogHook:a,isLoading:u,reload:b,onRecConfClose:y,children:Object(N.jsx)(at.a,{columns:k,components:{Cell:function(e){return Object(N.jsx)(tt.MTableCell,Object(ee.a)(Object(ee.a)({},e),{},{className:Bt(e.columnDef.field,e.rowData,i)}))}},data:d,onRowClick:function(e,t){return!!t&&g(t)},options:Object(ee.a)({showTitle:!1,toolbar:!1,search:!1,headerStyle:{backgroundColor:Wt.palette.primary.light},tableLayout:"fixed"},Rt),icons:It})})}var Xr=a(246),_r=a.n(Xr),Qr=a(430),en=a.n(Qr),tn=a(431),an=a.n(tn),rn=Object(M.a)((function(){return{arrowLeft:{paddingTop:7,marginRight:-5},arrowRight:{paddingTop:7,marginLeft:-5},arrowIcon:{margin:0,padding:0},datePicker:{margin:"auto 0"},title:{margin:"auto 0.25em"}}}));function nn(e){var t=e.subtitle,a=e.date,r=e.onDateChange,n=e.onDatePrev,i=e.onDateNext,c=e.dispatch,s=e.actionButtons,o=Object(v.a)().t,l=rn();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(zt.a,{container:!0,alignItems:"stretch",justifyContent:"space-between",children:[Object(N.jsxs)(zt.a,{container:!0,alignItems:"center",item:!0,xs:12,sm:s?6:9,children:[Object(N.jsx)(zt.a,{item:!0,className:l.arrowLeft,children:Object(N.jsx)(ge.a,{className:l.arrowIcon,onClick:n,children:Object(N.jsx)(en.a,{fontSize:"large"})})}),Object(N.jsx)(zt.a,{item:!0,className:l.datePicker,children:Object(N.jsx)(pr,{label:o("main.header.picker-label"),date:a,onChange:r})}),Object(N.jsx)(zt.a,{item:!0,className:l.arrowRight,onClick:i,children:Object(N.jsx)(ge.a,{className:l.arrowIcon,children:Object(N.jsx)(an.a,{fontSize:"large"})})})]}),Object(N.jsxs)(zt.a,{container:!0,item:!0,justifyContent:"flex-end",alignItems:"center",spacing:2,xs:12,sm:s?6:3,children:[!!s&&s.map((function(e,t){return Object(N.jsx)(zt.a,{item:!0,children:e},"actionButtons-".concat(t))})),Object(N.jsx)(zt.a,{item:!0,children:Object(N.jsx)(w.a,{variant:"contained",color:"secondary",startIcon:Object(N.jsx)(_r.a,{}),onClick:function(e){c({type:"addDataOpen"})},children:o("main.header.add-event")})})]}),Object(N.jsx)(C.a,{pt:1,children:t})]})})}function cn(){var e=Object(v.a)().t,t=Object(r.useState)(!1),a=Object(x.a)(t,2),n=a[0],i=a[1];Object(r.useEffect)((function(){i(!1)}),[]);var c=et(),s=Object(x.a)(c,5),o=s[0],l=s[1],d=s[2],u=s[3],j=s[4],b=Object(r.useReducer)(Ar,{mode:"addData",inputOpen:!1,readOpen:!1}),m=Object(x.a)(b,2),p=m[0],O=m[1];return Object(r.useEffect)((function(){Z()&&(l(new Date(Number(J("selectedDate")))),$())}),[]),Object(N.jsx)(_e,{children:Object(N.jsxs)(ue.a,{square:!0,children:[Object(N.jsx)(C.a,{p:2,children:Object(N.jsx)(nn,{title:e("main.visitlist.title"),subtitle:e("main.visitlist.subtitle".concat(n?".created-only":"")),date:o,onDateChange:d,onDatePrev:u,onDateNext:j,dispatch:O})}),Object(N.jsx)(C.a,{px:2,pb:2,children:Object(N.jsx)($r,{currentDate:o,dataDialogHook:{state:p,dispatch:O}})})]})})}var sn=a(5),on=a(653),ln=a(410),dn=a(303),un=a(154),jn=a(251),bn={width:120,halfWidth:60,scale:2,transform:{x:-960,y:0}},mn=30,pn=function(e,t){var a=Object(tr.a)(e);return Object(on.a)(e,a)*t.scale},On=function(e,t,a){var r=new Date(e.start),n=new Date(e.end),i=pn(r,t),c=pn(n,t);if(!Object(ln.a)(r,n)){var s=Object(tr.a)(a),o=Object(dn.a)(a);Object(un.a)(o,n)&&(c=pn(o,t)),Object(jn.a)(s,r)&&(i=pn(s,t))}return{x:i,width:c-i,className:e.status}},fn=function(e,t){return(e+1)*t+1},hn=function(e){return"translate(".concat(e.transform.x,",").concat(e.transform.y,")")},xn=Object(sn.a)((function(e){return{tooltip:{backgroundColor:e.palette.grey[100],color:e.palette.text.primary,maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid ".concat(e.palette.grey[300])}}}))(Se.a),vn=Object(M.a)((function(e){return Object(be.a)({container:{display:"flex",flexDirection:"column",marginBottom:"0.5rem","& svg":{fontSize:"1.5rem","& line":{strokeWidth:2},"& line.hour-line":{stroke:e.palette.grey[400]},"& line.hour-half-line":{stroke:e.palette.grey[300]},"& text":{fill:e.palette.grey[400]},"& text.subject":{fill:"#fff",fontSize:"1.2rem",dominantBaseline:"central",cursor:"pointer"},"& rect":{strokeWidth:1,fillOpacity:.5},"& rect.new-event-bar":{fillOpacity:0},"& rect.event":{stroke:e.palette.success.main,fill:e.palette.success.light,fillOpacity:.9,cursor:"pointer"},"& rect.myOwn":{stroke:e.palette.info.main,fill:e.palette.info.light},"& rect.wait":{stroke:e.palette.warning.light,fill:e.palette.warning.main},"& rect.busy":{stroke:e.palette.error.light,fill:e.palette.error.main}}},title:{fontSize:"1rem",paddingBottom:0}})}));function gn(e){var t=e.dataDialogHook,a=e.schedule,n=e.events,i=e.onClickCallback,c=e.keyLabel,s=e.keyValue,o=e.onTitleClick,l=vn(),d=Object(r.useState)(bn),u=Object(x.a)(d,2),j=u[0],b=(u[1],Object(r.useState)(hn(j))),m=Object(x.a)(b,2),p=m[0],O=m[1];Object(r.useEffect)((function(){O(hn(j))}),[j,n]);var f=31,h=39,v="free"===a.type?70+h*(a.scheduleItems.length-1)+h:70,g=Object(r.useCallback)((function(e,t,a,r){var n=On(e,j,new Date(a));return Object(N.jsx)("rect",{className:n.className,x:n.x,y:f+h*r,width:n.width,height:h,rx:3,ry:5},"".concat(s,"-sc-").concat(t))}),[j,s,f,h]),y=Object(r.useCallback)((function(e,t,a,r){var n={status:"event",start:e.startDateTime,end:e.endDateTime},c=On(n,j,new Date(a)),o=c.x,l=f+h*r,d=c.width,u=e.isAttendees?"myOwn":"";return Object(N.jsx)(xn,{title:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(k.a,{variant:"body2",children:e.subject}),Object(N.jsx)("em",{children:e.apptTime})," ",Object(N.jsx)("b",{children:e.reservationName})]}),onClick:function(){i(e)},children:Object(N.jsx)("svg",{x:o,y:l,width:d,height:39,viewBox:"0 0 ".concat(d," ").concat(39),children:Object(N.jsxs)("g",{children:[Object(N.jsx)("rect",{className:Object(je.a)(c.className,u),x:0,y:0,width:d,height:39,rx:3,ry:5}),Object(N.jsx)("text",{className:"subject",x:3,y:"50%",children:e.subject})]})})},"".concat(s,"-ev-").concat(t))}),[j,f,h,s,i]),C=Object(r.useMemo)((function(){return Object(N.jsx)(N.Fragment,{children:a.scheduleItems.map((function(e,t){return e.map((function(e,r){return g(e,r,a.date,t)}))}))})}),[g,a]),D=Object(r.useMemo)((function(){return Object(N.jsx)(N.Fragment,{children:n.map((function(e,t){return e.map((function(e,r){return y(e,r,a.date,t)}))}))})}),[y,n,a]);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(w.a,{color:"secondary",className:l.title,size:"small",onClick:function(){return o(a.date,a.categoryId,a.roomId)},children:c}),Object(N.jsx)("div",{className:l.container,children:Object(N.jsx)("svg",{viewBox:"0 0 ".concat(1442," ").concat(v),preserveAspectRatio:"none",children:Object(N.jsxs)("g",{transform:p,children:[Object(N.jsx)("line",{className:"hour-line",x1:0,y1:0,x2:0,y2:v}),Object(N.jsx)("line",{className:"hour-half-line",x1:j.halfWidth,y1:mn,x2:j.halfWidth,y2:v}),_t.a.range(0,24).map((function(e){var t=fn(e,j.width),a=t+j.halfWidth,n=e*j.width+5;return Object(N.jsxs)(r.Fragment,{children:[Object(N.jsx)("line",{className:"hour-line",x1:t,y1:0,x2:t,y2:v},"hour-line-".concat(e)),Object(N.jsx)("line",{className:"hour-half-line",x1:a,y1:mn,x2:a,y2:v},"hour-half-line-".concat(e)),Object(N.jsx)("text",{x:n,y:25,children:e},"hour-text-".concat(e))]},"fragment-".concat(e))})),Object(N.jsx)("rect",{className:"new-event-bar",x:0,y:f,width:fn(24,j.width),height:v-f,onClick:function(e){return function(e,a,r,n){var i=e.currentTarget.closest("svg");if(i){var c=i.createSVGPoint();c.x=e.clientX,c.y=e.clientY;var s=i.getScreenCTM();if(s){var o=function(e,t){return(e+0)/t.scale*60*1e3}(c.matrixTransform(s.inverse()).x-j.transform.x+1,j),l=1e3*Math.floor(o/1e3/60/30)*60*30,d=new Date(Object(tr.a)(a).getTime()+l);t.dispatch({type:"addDataOpen",addDefault:{start:d,roomId:r,usageRange:n}})}}}(e,a.date,a.roomId,a.usageRange)}}),C,D]})})})]})}function yn(e){var t=e.currentDate,a=e.dataDialogHook,n=e.tabKey,i=e.onTitleClick,c=Object(v.a)().t,s=Object(p.h)(),o=Ge("",void 0),l=Object(x.a)(o,3),d=l[0],u=d.data,j=d.isLoading,b=d.isError,m=l[1],O=l[2];Object(r.useEffect)((function(){O("/event/byroom?timestamp=".concat(t.getTime(),"&location=").concat(s.params.location,"&category=").concat(n))}),[t,s.params.location,O,n]);var f=Et({dataDialogHook:a}),h=Object(x.a)(f,4),g=h[0].currentRow,y=h[2],k=h[3],w=Object(r.useMemo)((function(){return u?Object(N.jsx)(N.Fragment,{children:u.schedules.map((function(e,t){return Object(N.jsx)(gn,{dataDialogHook:a,schedule:e,events:e.eventsIndex.map((function(e){return e.map((function(e){return u.events[e]}))})),onClickCallback:y,keyLabel:e.roomName,keyValue:e.roomEmail,onTitleClick:i},t)}))}):Object(N.jsx)(N.Fragment,{})}),[u,a,y,i]);return b?Object(N.jsx)("div",{children:c("common.msg.fetch-failed")}):Object(N.jsx)(Hr,{currentRow:g,dataDialogHook:a,isLoading:j,reload:m,onRecConfClose:k,children:w})}function kn(e){var t=e.currentDate,a=e.dataDialogHook,n=e.tabKey,i=e.onTitleClick,c=Object(v.a)().t,s=Object(p.h)(),o=Object(r.useContext)(Xa.b),l=Ge("",void 0),d=Object(x.a)(l,3),u=d[0],j=u.data,b=u.isLoading,m=u.isError,O=d[1],f=d[2];Object(r.useEffect)((function(){f("/event/byroom/weekly?timestamp=".concat(t.getTime(),"&location=").concat(s.params.location,"&room=").concat(n))}),[t,s.params.location,f,n]);var h=Et({dataDialogHook:a}),g=Object(x.a)(h,4),y=g[0].currentRow,k=g[2],w=g[3],C=Object(r.useMemo)((function(){return j?Object(N.jsx)(N.Fragment,{children:j.schedules.map((function(e,t){return Object(N.jsx)(gn,{dataDialogHook:a,schedule:e,events:e.eventsIndex.map((function(e){return e.map((function(e){return j.events[e]}))})),onClickCallback:k,keyLabel:Object(_a.default)(e.date,"yyyy/MM/dd (E)",{locale:null===o||void 0===o?void 0:o.locale}),keyValue:e.date.toString(),onTitleClick:i},t)}))}):Object(N.jsx)(N.Fragment,{})}),[j,a,k,null===o||void 0===o?void 0:o.locale,i]);return m?Object(N.jsx)("div",{children:c("common.msg.fetch-failed")}):Object(N.jsx)(Hr,{currentRow:y,dataDialogHook:a,isLoading:b,reload:O,onRecConfClose:w,children:C})}var wn=a(449),Cn=a(648),Dn=a(649),Sn=a(157);function Nn(e){var t=e.data,a=e.tabPanelContent,n=e.selected,i=Object(r.useState)(!1),c=Object(x.a)(i,2),s=c[0],o=c[1];Object(r.useEffect)((function(){return o(!0)}),[]);var l=Object(r.useState)(""),d=Object(x.a)(l,2),u=d[0],j=d[1];Object(r.useEffect)((function(){j(n||t[0].id)}),[t,n]),Object(r.useEffect)((function(){Z()||U("tabValue",u)}),[u]);var b=function(e,t){j(t)},m=Object(r.useMemo)((function(){return Object(N.jsx)(Cn.a,{indicatorColor:"primary",textColor:"primary",variant:"scrollable",onChange:b,"aria-label":"view tabs",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(N.jsx)(wn.a,{label:e.name,value:"".concat(e.id)},"tab-".concat(t))}))})}),[t]),p=Object(r.useMemo)((function(){return Object(N.jsx)(N.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(N.jsx)(Dn.a,{value:"".concat(e.id),children:Object(r.cloneElement)(a,{tabKey:e.id})},"tab-panel-".concat(t))}))})}),[t,a]);return s?Object(N.jsxs)(Sn.a,{value:u,children:[Object(N.jsx)(pe.a,{position:"static",color:"default",children:m}),p]}):Object(N.jsx)(N.Fragment,{})}function Tn(e){var t=e.tabPanelContent,a=e.selected,n=Object(p.h)(),i=Ge("",[]),c=Object(x.a)(i,3),s=c[0].data,o=c[2];return Object(r.useEffect)((function(){o("/category/choices?location=".concat(n.params.location))}),[n.params.location,o]),Object(N.jsx)(N.Fragment,{children:!!(null===s||void 0===s?void 0:s.length)&&Object(N.jsx)(Nn,{data:s,tabPanelContent:t,selected:a})})}function Mn(e){var t=e.tabPanelContent,a=e.selected,n=Object(p.h)(),i=Ge("",[]),c=Object(x.a)(i,3),s=c[0].data,o=c[2];return Object(r.useEffect)((function(){o("/room/choices?location=".concat(n.params.location,"&samecategory=").concat(a))}),[n.params.location,a,o]),Object(N.jsx)(N.Fragment,{children:!!(null===s||void 0===s?void 0:s.length)&&Object(N.jsx)(Nn,{data:s,tabPanelContent:t,selected:a})})}var In=function(e,t){switch(t.type){case"default":return{weekly:!1,changeTab:t.changeTab,titleLabel:"main.byroom.title",subtitleLabel:"main.byroom.subtitle"};case"weekly":return{weekly:!0,changeTab:t.changeTab,titleLabel:"main.byroom-weekly.title",subtitleLabel:"main.byroom-weekly.subtitle"};default:return e}};function Rn(){var e=Object(v.a)().t,t=et(),a=Object(x.a)(t,6),n=a[0],i=a[1],c=a[2],s=a[3],o=a[4],l=a[5],d=Object(r.useReducer)(Ar,{mode:"addData",inputOpen:!1,readOpen:!1}),u=Object(x.a)(d,2),j=u[0],b=u[1],m=Object(r.useReducer)(In,{weekly:!1,changeTab:void 0,titleLabel:"main.byroom.title",subtitleLabel:"main.byroom.subtitle"}),p=Object(x.a)(m,2),O=p[0],f=p[1];Object(r.useEffect)((function(){Z()&&(i(new Date(Number(J("selectedDate")))),f({type:J("weekly")?"weekly":"default",changeTab:J("tabValue")}),$())}),[]),Object(r.useEffect)((function(){Z()||U("weekly",O.weekly?"1":"")}),[O.weekly]);return Object(N.jsx)(_e,{children:Object(N.jsxs)(ue.a,{square:!0,children:[Object(N.jsx)(C.a,{p:2,children:Object(N.jsx)(nn,{title:e(O.titleLabel),subtitle:e(O.subtitleLabel),date:n,onDateChange:c,onDatePrev:s,onDateNext:o,dispatch:b})}),!O.weekly&&Object(N.jsx)(Tn,{tabPanelContent:Object(N.jsx)(yn,{currentDate:n,dataDialogHook:{state:j,dispatch:b},tabKey:"dummyId",onTitleClick:function(e,t,a){i(new Date(e)),l(!0),f({type:"weekly",changeTab:a})}}),selected:O.changeTab}),O.weekly&&Object(N.jsx)(Mn,{tabPanelContent:Object(N.jsx)(kn,{currentDate:n,dataDialogHook:{state:j,dispatch:b},tabKey:"dummyId",onTitleClick:function(e,t,a){i(new Date(e)),l(!1),f({type:"default",changeTab:t})}}),selected:O.changeTab})]})})}var En=a(435),Fn=a.n(En),Vn=a(432),Pn=a.n(Vn),Bn=At(),Ln=Object(M.a)({checkAction:{textAlign:"center",marginBottom:"10px","& Button":{margin:"0 5%",width:"40%"}}});function Wn(e){var t=e.open,a=e.onClose,n=e.data,i=e.reload,c=Object(v.a)().t,s=Bn(),o=Ln(),l=Object(r.useContext)(Xa.b),d=Object(r.useContext)(ce),u=Object(qt.d)({reValidateMode:"onSubmit"}),j=u.register,b=u.handleSubmit,m=u.setValue,p=u.reset,O=u.formState,x=O.errors,g=O.isSubmitting,y=O.dirtyFields;Object(r.useEffect)((function(){t?p({id:n.visitorId,iCalUId:n.iCalUId,seriesMasterId:n.seriesMasterId,checkIn:n.checkIn,checkOut:n.checkOut,visitorCardNumber:n.visitorCardNumber}):p()}),[n,t,p]);var k=function(){return Object(_a.default)(new Date,"yyyy/MM/dd HH:mm:ss",{locale:null===l||void 0===l?void 0:l.locale})},D=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,aa("/front/".concat(t.mode),{inputs:t,dirtyFields:y});case 3:if(!e.sent.success){e.next=11;break}return e.next=7,i();case 7:a(),d.dispatch({type:"success",message:c("common.msg.update-success")}),e.next=12;break;case 11:d.dispatch({type:"error",message:c("common.msg.update-failed")});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),d.dispatch({type:"error",message:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(F,{open:g}),Object(N.jsxs)(Ca,{open:t,onClose:a,title:c("visitdialog.title"),children:[Object(N.jsx)(C.a,{p:2,children:Object(N.jsxs)("form",{children:[Object(N.jsxs)("div",{className:o.checkAction,children:[Object(N.jsx)(w.a,{onClick:function(){m("mode","checkin"),m("checkIn",k(),{shouldDirty:!0}),b(D)()},variant:"contained",color:"secondary",disabled:!!n.checkOut,children:c("visitdialog.button.check-in")}),Object(N.jsx)(w.a,{onClick:function(){m("mode","checkout"),m("checkOut",k(),{shouldDirty:!0}),b(D)()},variant:"contained",color:"secondary",disabled:!n.checkIn,children:c("visitdialog.button.check-out")})]}),Object(N.jsx)("div",{children:Object(N.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({margin:"normal",fullWidth:!0,autoComplete:"off",color:"secondary",id:"visitorCardNumber",label:c("visitdialog.form.visitor-card-number"),autoFocus:!0},j("visitorCardNumber",{})),{},{error:!!x.visitorCardNumber,helperText:x.visitorCardNumber&&x.visitorCardNumber.message}))})]})}),Object(N.jsx)(C.a,{px:2,pt:2,children:Object(N.jsxs)(fe.a,{disablePadding:!0,children:[Object(N.jsxs)("li",{className:s.list,children:[Object(N.jsx)("div",{className:s.title,children:c("visittable.header.appt-time")}),Object(N.jsx)("div",{className:s.field,children:n.apptTime})]},"app-time"),Object(N.jsxs)("li",{className:s.list,children:[Object(N.jsx)("div",{className:s.title,children:c("visittable.header.check-in")}),Object(N.jsx)("div",{className:s.field,children:n.checkIn})]},"check-in"),Object(N.jsxs)("li",{className:s.list,children:[Object(N.jsx)("div",{className:s.title,children:c("visittable.header.check-out")}),Object(N.jsx)("div",{className:s.field,children:n.checkOut})]},"check-out"),Object(N.jsxs)("li",{className:s.list,children:[Object(N.jsxs)("div",{className:s.title,children:[c("visittable.header.visit-company-name")," /",Object(N.jsx)("br",{}),c("visittable.header.visit-company-rep")]}),Object(N.jsx)("div",{className:s.field,children:n.visitCompany.map((function(e,t){return Object(N.jsxs)(N.Fragment,{children:[!!t&&Object(N.jsx)("br",{}),Object(N.jsx)("span",{children:"".concat(e.name," / ").concat(e.rep)})]})}))})]},"visit-company"),Object(N.jsxs)("li",{className:s.list,children:[Object(N.jsx)("div",{className:s.title,children:c("visittable.header.number-of-visitor")}),Object(N.jsx)("div",{className:s.field,style:{flexBasis:"25%",borderRight:"none"},children:n.numberOfVisitor}),Object(N.jsx)("div",{className:s.title,style:{flexBasis:"25%",borderLeft:"none"},children:c("visittable.header.number-of-employee")}),Object(N.jsx)("div",{className:s.field,style:{flexBasis:"25%"},children:n.numberOfEmployee})]},"number-of-visitor")]})}),Object(N.jsx)(C.a,{px:2,pt:2,children:Object(N.jsx)(fe.a,{disablePadding:!0,children:Object(N.jsxs)("li",{className:s.list,children:[Object(N.jsx)("div",{className:s.title,children:c("visittable.header.comment")}),Object(N.jsx)("div",{className:s.field,children:n.comment})]},"comment")})}),Object.keys(n.resourcies).map((function(e){return Object(N.jsx)(Ka,{data:n.resourcies[e]},e)})),Object(N.jsx)(C.a,{px:2,pt:2,children:Object(N.jsxs)(fe.a,{disablePadding:!0,children:[Object(N.jsxs)("li",{className:s.list,children:[Object(N.jsx)("div",{className:s.title,children:c("visittable.header.reservation-name")}),Object(N.jsx)("div",{className:s.field,children:n.reservationName})]},"reservation-name"),Object(N.jsxs)("li",{className:s.list,children:[Object(N.jsx)("div",{className:s.title,children:c("visittable.header.contact-addr")}),Object(N.jsx)("div",{className:s.field,children:n.contactAddr})]},"contact-addr")]})}),Object(N.jsx)(C.a,{p:2,children:Object(N.jsx)(fe.a,{disablePadding:!0,children:Object(N.jsxs)("li",{className:s.list,children:[Object(N.jsx)("div",{className:s.title,children:c("visitdialog.header.last-updated")}),Object(N.jsx)("div",{className:s.field,children:Object(N.jsx)(Qa,{datetime:n.lastUpdated})})]},"datetime")})})]})]})}var An=Pt(!0),Hn=function(e){return e.visitCompany.map((function(e){return"".concat(e.name," / ").concat(e.rep)})).join(", ")};function qn(e){var t=e.currentDate,a=e.dataDialogHook,n=Object(v.a)().t,i=An(),c=Object(p.h)(),s=Ge("",[]),o=Object(x.a)(s,3),l=o[0],d=l.data,u=l.isLoading,j=l.isError,b=o[1],m=o[2];Object(r.useEffect)((function(){m("/front/visitlist?timestamp=".concat(t.getTime(),"&location=").concat(c.params.location))}),[t,c.params.location,m]);var O=Object(r.useState)(!1),g=Object(x.a)(O,2),y=g[0],k=g[1],w=Et({dataDialogHook:a}),C=Object(x.a)(w,4),D=C[0].currentRow,S=C[2],T=C[3],M=Object(r.useState)(null),I=Object(x.a)(M,2),R=I[0],E=I[1],F=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=[{title:n("visittable.header.appt-time"),field:"apptTime",render:function(e){return e.apptTime.split(" ")[1]},width:"95px"},{title:n("visittable.header.room-name"),field:"roomName"},{title:n("visittable.header.number-of-people"),field:"teaSupply",render:function(e){var t=Object.keys(e.resourcies)[0],a="".concat(n("visitdialog.view.tea-supply.number-of-tea-supply"),":").concat(e.resourcies[t].numberOfTeaSupply),r="".concat(n("visitdialog.view.tea-supply.number-of-visitor"),":").concat(e.numberOfVisitor),i="".concat(n("visitdialog.view.tea-supply.number-of-employee"),":").concat(e.numberOfEmployee);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{style:e.resourcies[t].teaSupply?{color:"red"}:void 0,children:a}),Object(N.jsx)("br",{}),r,Object(N.jsx)("br",{}),i]})},customSort:function(e,t){var a=Object.keys(e.resourcies)[0],r=Object.keys(t.resourcies)[0];return e.resourcies[a].numberOfTeaSupply-t.resourcies[r].numberOfTeaSupply},width:"70px"},{title:"".concat(n("visittable.header.visit-company-name")," / ").concat(n("visittable.header.visit-company-rep")),field:"visitCompany",render:function(e){return e.visitCompany.map((function(e,t){return Object(N.jsxs)(N.Fragment,{children:[!!t&&Object(N.jsx)("br",{}),Object(N.jsx)("span",{children:"".concat(e.name," / ").concat(e.rep)})]})}))},customSort:function(e,t){return Hn(e)<Hn(t)?-1:1}},{title:n("visittable.header.check-in"),field:"checkIn",render:function(e){return e.checkIn?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{children:"\u2713"}),Object(N.jsx)("br",{}),Object(N.jsx)("span",{children:e.visitorCardNumber})]}):Object(N.jsx)("span",{})},width:"70px"},{title:n("visittable.header.check-out"),field:"checkOut",render:function(e){return e.checkOut?Object(N.jsx)("span",{children:"\u2713"}):Object(N.jsx)("span",{})},width:"50px"},{title:"".concat(n("visittable.header.reservation-name")," / ").concat(n("visittable.header.contact-addr")),field:"reservationName",render:function(e){return Object(N.jsxs)(N.Fragment,{children:[e.reservationName,Object(N.jsx)("br",{}),e.contactAddr]})}},{title:"".concat(n("visittable.header.tea-details")," / ").concat(n("visittable.header.comment")),field:"comment",render:function(e){var t=Object.keys(e.resourcies)[0],a=e.resourcies[t].teaDetails?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{style:{color:"red"},children:e.resourcies[t].teaDetails}),Object(N.jsx)("br",{})]}):void 0;return Object(N.jsxs)(N.Fragment,{children:[a,e.comment]})},width:"70%"}];return j?Object(N.jsx)("div",{children:n("common.msg.fetch-failed")}):Object(N.jsxs)(Hr,{currentRow:D,dataDialogHook:a,isLoading:u,reload:b,onRecConfClose:T,children:[Object(N.jsx)(at.a,{columns:V,components:{Cell:function(e){return Object(N.jsx)(tt.MTableCell,Object(ee.a)(Object(ee.a)({},e),{},{className:Bt(e.columnDef.field,e.rowData,i)}))}},data:d,onRowClick:function(e,t){return!!t&&function(e){k(!0),E(e)}(t)},actions:[{icon:function(){return Object(N.jsx)(Pn.a,{})},tooltip:n("visittable.header.edit-action"),onClick:function(e,t){return!!t&&S(t)}}],localization:{header:{actions:""}},options:Object(ee.a)({showTitle:!1,toolbar:!1,search:!1,headerStyle:{backgroundColor:Wt.palette.primary.light,padding:Vt},tableLayout:"fixed"},Rt),icons:It}),R&&Object(N.jsx)(Wn,{open:y,onClose:F,data:R,reload:b})]})}var zn=a(650),Yn=a(433),Kn=a(434),Un=a.n(Kn),Jn=Object(M.a)({keyboardDatePicker:{"& .MuiOutlinedInput-adornedEnd":{paddingRight:0}},between:{textAlign:"center"}}),Gn=["apptTime","roomName","teaSupply","numberOfTeaSupply","teaDetails","numberOfVisitor","numberOfEmployee","visitCompany","checkIn","visitorCardNumber","checkOut","reservationName","contactAddr","subject","comment"];function Zn(e){var t=e.open,a=e.onClose,n=Object(v.a)().t,i=Jn(),c=Object(p.h)(),s=Object(r.useContext)(ce),o=Object(r.useRef)(null),l=Object(r.useState)([]),d=Object(x.a)(l,2),u=d[0],j=d[1],b=Object(r.useMemo)((function(){return{location:c.params.location,startDate:new Date,endDate:Object(zn.a)(new Date,1)}}),[c.params.location]),m=Object(qt.d)({defaultValues:b,reValidateMode:"onSubmit"}),O=m.control,g=m.getValues,y=m.handleSubmit,k=m.reset,D=m.setValue,S=m.formState,T=S.errors,M=S.isSubmitting,I=S.dirtyFields;Object(r.useEffect)((function(){t&&k(b)}),[b,t,k]);var R=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(P)();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=Gn.map((function(e){return{label:n("export-csv.file.header.".concat(_t.a.kebabCase(e))),key:e}})),V="visitor-".concat(Object(_a.default)(g("startDate"),"yyyyMMdd"),"-").concat(Object(_a.default)(g("endDate"),"yyyyMMdd"),".csv"),P=function(){var e=Object(h.a)(f.a.mark((function e(t){var a,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,aa("/front/export",{inputs:t,dirtyFields:I});case 3:(a=e.sent).success?a.value&&(i=a.value.map((function(e){var t=Object.keys(e.resourcies)[0];return{apptTime:e.apptTime,roomName:e.roomName,teaSupply:e.resourcies[t].teaSupply?n("export-csv.file.tea-supply-yes"):n("export-csv.file.tea-supply-no"),numberOfTeaSupply:e.resourcies[t].numberOfTeaSupply.toString(),teaDetails:e.resourcies[t].teaDetails,numberOfVisitor:e.numberOfVisitor.toString(),numberOfEmployee:e.numberOfEmployee.toString(),visitCompany:e.visitCompany.map((function(e){return"".concat(e.name," / ").concat(e.rep)})).join(", "),checkIn:e.checkIn,visitorCardNumber:e.visitorCardNumber,checkOut:e.checkOut,reservationName:e.reservationName,contactAddr:e.contactAddr,subject:e.subject,comment:e.comment}})),j(i),null===o||void 0===o||null===(r=o.current)||void 0===r||r.link.click(),s.dispatch({type:"success",message:n("export-csv.msg.export-success")})):s.dispatch({type:"error",message:n("export-csv.msg.export-failed")}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s.dispatch({type:"error",message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),B=function(e){return Object(N.jsx)(qt.a,{name:"".concat(e,"Date"),control:O,rules:{required:n("common.form.required"),validate:function(){return Object(tr.a)(g("startDate")).getTime()<=Object(tr.a)(g("endDate")).getTime()||n("export-csv.form.error.event-time")}},render:function(t){var a=t.field;return Object(N.jsx)(br.b,Object(ee.a)(Object(ee.a)({},a),{},{onChange:function(t){a.onChange(t),"start"===e&&function(){var e=Object(zn.a)(g("startDate"),1);D("endDate",e,{shouldDirty:!0})}()},format:"yyyy/MM/dd",label:n("export-csv.".concat(e,"-date")),showTodayButton:!0,KeyboardButtonProps:{"aria-label":"change date"},size:"small",className:i.keyboardDatePicker,error:!!T["".concat(e,"Date")],helperText:T["".concat(e,"Date")]&&T["".concat(e,"Date")].message}))}})};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(F,{open:M}),Object(N.jsxs)(Ca,{open:t,onClose:a,title:n("export-csv.title"),children:[Object(N.jsxs)("form",{children:[Object(N.jsx)(C.a,{px:2,pt:2,children:Object(N.jsxs)(zt.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object(N.jsx)(zt.a,{container:!0,item:!0,xs:12,sm:4,children:B("start")}),Object(N.jsx)(zt.a,{item:!0,xs:12,sm:4,className:i.between,children:Object(N.jsx)(Un.a,{})}),Object(N.jsx)(zt.a,{container:!0,item:!0,xs:12,sm:4,children:B("end")})]})}),Object(N.jsx)(C.a,{p:2,children:Object(N.jsx)(w.a,{onClick:R,variant:"contained",color:"primary",fullWidth:!0,children:n("export-csv.button.export-csv")})})]}),Object(N.jsx)(Yn.CSVLink,{style:{display:"none"},data:u,headers:E,filename:V,ref:o,children:"Export Trigger"})]})]})}function $n(){var e=Object(v.a)().t,t=et(),a=Object(x.a)(t,5),n=a[0],i=a[1],c=a[2],s=a[3],o=a[4],l=Object(r.useReducer)(Ar,{mode:"addData",inputOpen:!1,readOpen:!1}),d=Object(x.a)(l,2),u=d[0],j=d[1],b=Object(r.useState)(!1),m=Object(x.a)(b,2),p=m[0],O=m[1];Object(r.useEffect)((function(){Z()&&(i(new Date(Number(J("selectedDate")))),$())}),[]);var f=Object(N.jsx)(w.a,{variant:"contained",startIcon:Object(N.jsx)(Fn.a,{}),onClick:function(){O(!0)},children:e("main.header.export-csv")});return Object(N.jsxs)(_e,{frontMode:!0,children:[Object(N.jsxs)(ue.a,{square:!0,children:[Object(N.jsx)(C.a,{p:2,children:Object(N.jsx)(nn,{title:e("main.front.title"),subtitle:e("main.front.subtitle"),date:n,onDateChange:c,onDatePrev:s,onDateNext:o,dispatch:j,actionButtons:[f]})}),Object(N.jsx)(C.a,{px:2,pb:2,children:Object(N.jsx)(qn,{currentDate:n,dataDialogHook:{state:u,dispatch:j}})})]}),Object(N.jsx)(Zn,{open:p,onClose:function(){O(!1)}})]})}var Xn=Object(M.a)((function(e){return Object(be.a)({formAction:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},note:{color:"red",fontSize:"0.9em",margin:0}})})),_n=Object(o.b)({palette:{primary:{main:u.main},secondary:{main:Lt.a[300]}},props:{MuiTextField:{variant:"outlined",margin:"dense",fullWidth:!0,minRows:4}}});function Qn(e){var t=e.inputFields,a=e.open,n=e.onClose,i=e.data,c=e.reload,o=Object(v.a)().t,l=Xn(),d=Object(r.useContext)(ce),u=Object(r.useState)(!1),j=Object(x.a)(u,2),b=j[0],m=j[1],p=Object(qt.d)({defaultValues:Object(ee.a)({},t.defaultValues),reValidateMode:"onSubmit"}),O=p.handleSubmit,g=p.reset,y=p.setValue,k=p.setError,D=p.formState,S=D.isDirty,T=D.isSubmitting,M=D.dirtyFields;Object(r.useEffect)((function(){if(a&&i){var e=Object.keys(t.defaultValues).reduce((function(e,t){return"mode"===t?e.mode="upd":e[t]=i[t],e}),{});g(_t.a.cloneDeep(e))}else g(_t.a.cloneDeep(t.defaultValues))}),[i,t,a,g]);var I=function(){var e=Object(h.a)(f.a.mark((function e(a){var r,i,s,l,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r="",e.t0=a.mode,e.next="ins"===e.t0?5:"upd"===e.t0?7:"del"===e.t0?9:11;break;case 5:return r="/".concat(t.type,"/create"),e.abrupt("break",11);case 7:return r="/".concat(t.type,"/update"),e.abrupt("break",11);case 9:return r="/".concat(t.type,"/delete"),e.abrupt("break",11);case 11:return e.next=13,aa(r,{inputs:a,dirtyFields:M});case 13:if(!(i=e.sent).success){e.next=27;break}if("del"!==a.mode){e.next=18;break}return e.next=18,new Promise((function(e){return setTimeout(e,1e3)}));case 18:return e.next=20,c();case 20:if(n(),d.dispatch({type:"success",message:o("common.msg.update-success")}),"role"!==t.type&&"location"!==t.type){e.next=25;break}return e.next=25,new Promise((function(){return setTimeout((function(){d.dispatch({type:"warning",message:o("common.msg.prompt-logout")})}),1500)}));case 25:e.next=28;break;case 27:if(i.errors)for(l in s=i.errors)k(u=l,{message:o(s[u][0])});case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(0),d.dispatch({type:"error",message:e.t1.message});case 33:case"end":return e.stop()}}),e,null,[[0,30]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(F,{open:T}),Object(N.jsx)(Ca,{open:a,onClose:n,title:o("settings.title.".concat(t.type)),children:Object(N.jsx)(s.a,{theme:_n,children:Object(N.jsx)(qt.b,Object(ee.a)(Object(ee.a)({},p),{},{children:Object(N.jsxs)("form",{children:[Object(N.jsx)(C.a,{p:2,children:t.item}),Object(N.jsx)(C.a,{px:2,children:Object(N.jsxs)(zt.a,{container:!0,justifyContent:"space-between",spacing:2,className:l.formAction,children:[Object(N.jsx)(zt.a,{item:!0,xs:i?6:12,children:Object(N.jsx)(w.a,{onClick:function(){O(I)()},variant:"contained",color:"primary",disabled:!S,startIcon:Object(N.jsx)(Gt.a,{}),fullWidth:!0,children:o("common.button.save")})}),Object(N.jsx)(zt.a,{item:!0,xs:6,style:i?void 0:{display:"none"},children:Object(N.jsx)(w.a,{onClick:function(){m(!0)},variant:"contained",color:"primary",startIcon:Object(N.jsx)(Ut.a,{}),fullWidth:!0,children:o("common.button.delete")})})]})})]})}))})}),Object(N.jsx)(La,{open:b,onClose:function(e){m(!1),e&&(y("mode","del"),O(I)())},message:o("common.msg.delete-confirm"),color:"secondary"})]})}var ei=function(e,t){switch(t.type){case"inputOpen":return{mode:"rowData",inputOpen:!0};case"addDataOpen":return{mode:"addData",inputOpen:!0};case"inputClose":return Object(ee.a)(Object(ee.a)({},e),{},{inputOpen:!1});default:return e}};function ti(e){var t=e.inputFields,a=e.dataDialogHook,r=e.isLoading,n=e.reload,i=e.currentRow,c=e.children,o=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.dispatch({type:"inputClose"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)(s.a,{theme:Wt,children:[Object(N.jsx)(F,{open:r}),c,Object(N.jsx)(Qn,{inputFields:t,open:a.state.inputOpen,onClose:o,data:"addData"===a.state.mode?null:i,reload:n})]})}function ai(e){var t=e.inputFields,a=e.columns,n=e.dataDialogHook,i=Object(v.a)().t,c=Ge("",[]),s=Object(x.a)(c,3),o=s[0],l=o.data,d=o.isLoading,u=o.isError,j=s[1],b=s[2];Object(r.useEffect)((function(){b("/".concat(t.type,"/list"))}),[t.type,b]);var m=Object(r.useState)(null),p=Object(x.a)(m,2),O=p[0],f=p[1],h=Object(r.useCallback)((function(e){n.dispatch({type:"inputOpen"}),f(e)}),[n]);return u?Object(N.jsx)("div",{children:i("common.msg.fetch-failed")}):Object(N.jsx)(ti,{inputFields:t,currentRow:O,dataDialogHook:n,isLoading:d,reload:j,children:Object(N.jsx)(at.a,{columns:a,data:l,onRowClick:function(e,t){return!!t&&h(t)},options:Object(ee.a)({showTitle:!1,toolbar:!1,search:!1,headerStyle:{backgroundColor:Wt.palette.primary.light},tableLayout:"fixed"},Rt),icons:It})})}var ri=Object(M.a)((function(){return{actionButtonArea:{textAlign:"right",margin:"auto"}}}));function ni(e){var t=e.master,a=e.dispatch,r=Object(v.a)().t,n=ri();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(zt.a,{container:!0,alignItems:"stretch",justifyContent:"space-between",children:[Object(N.jsx)(zt.a,{container:!0,item:!0,xs:12,sm:9,children:Object(N.jsx)(k.a,{component:"h1",variant:"h6",children:r("settings.title.".concat(t))})}),Object(N.jsx)(zt.a,{item:!0,xs:12,sm:3,className:n.actionButtonArea,children:Object(N.jsx)(w.a,{variant:"contained",color:"secondary",startIcon:Object(N.jsx)(_r.a,{}),onClick:function(e){a({type:"addDataOpen"})},children:r("settings.add-master")})})]})})}var ii=["admin","front"];function ci(){var e=Object(qt.e)(),t=e.control,a=e.formState.errors,r=Object(v.a)().t;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(na,{name:"name",control:t,label:r("settings.header.role.name"),required:!0,selectList:ii.map((function(e){return{label:r("settings.view.role.name.".concat(e)),value:e}})),errors:a}),Object(N.jsx)(xa,{name:"members",control:t,label:r("settings.header.role.members"),errors:a})]})}function si(){var e=Object(v.a)().t,t=Object(r.useReducer)(ei,{mode:"addData",inputOpen:!1}),a=Object(x.a)(t,2),n=a[0],i=a[1],c=[{title:e("settings.header.role.name"),field:"name",render:function(t){return e("settings.view.role.name.".concat(t.name))}}];return Object(N.jsx)(_e,{adminMode:!0,menuOpen:!0,children:Object(N.jsxs)(ue.a,{square:!0,children:[Object(N.jsx)(C.a,{p:2,children:Object(N.jsx)(ni,{master:"role",dispatch:i})}),Object(N.jsx)(C.a,{p:2,children:Object(N.jsx)(ai,{inputFields:{type:"role",item:Object(N.jsx)(ci,{}),defaultValues:{mode:"ins",id:"",name:"admin",members:[]}},columns:c,dataDialogHook:{state:n,dispatch:i}})})]})})}function oi(){var e=Object(qt.e)(),t=e.control,a=e.formState.errors,r=Object(v.a)().t;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(na,{name:"name",control:t,label:r("settings.header.location.name"),required:!0,errors:a}),Object(N.jsx)(na,{name:"url",control:t,label:r("settings.header.location.url"),required:!0,validation:{pattern:{value:/^[a-z0-9]+$/,message:r("settings.form.location.error.url.pattern")}},errors:a}),Object(N.jsx)(na,{name:"sort",control:t,label:r("settings.header.location.sort"),errors:a})]})}function li(){var e=Object(v.a)().t,t=Object(r.useReducer)(ei,{mode:"addData",inputOpen:!1}),a=Object(x.a)(t,2),n=a[0],i=a[1],c=[{title:e("settings.header.location.name"),field:"name"},{title:e("settings.header.location.url"),field:"url"},{title:e("settings.header.location.sort"),field:"sort"}];return Object(N.jsx)(_e,{adminMode:!0,menuOpen:!0,children:Object(N.jsxs)(ue.a,{square:!0,children:[Object(N.jsx)(C.a,{p:2,children:Object(N.jsx)(ni,{master:"location",dispatch:i})}),Object(N.jsx)(C.a,{p:2,children:Object(N.jsx)(ai,{inputFields:{type:"location",item:Object(N.jsx)(oi,{}),defaultValues:{mode:"ins",id:"",name:"",url:"",sort:""}},columns:c,dataDialogHook:{state:n,dispatch:i}})})]})})}function di(){var e=Object(qt.e)(),t=e.control,a=e.setValue,n=e.formState.errors,i=Object(v.a)().t,c=Object(qt.f)({control:t,name:"limitedPublic"}),s=Object(r.useState)(!1),o=Object(x.a)(s,2),l=o[0],d=o[1];return Object(r.useEffect)((function(){d(c),c||a("members",[],{shouldDirty:!0})}),[c,a]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(na,{name:"name",control:t,label:i("settings.header.category.name"),required:!0,errors:n}),Object(N.jsx)(na,{name:"sort",control:t,label:i("settings.header.category.sort"),errors:n}),Object(N.jsx)(Wa.a,{control:Object(N.jsx)(qt.a,{name:"limitedPublic",control:t,render:function(e){var t=e.field;return Object(N.jsx)(Aa.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary"})}}),label:i("settings.header.category.limited-public")}),Object(N.jsx)(xa,{name:"members",control:t,label:i("settings.header.category.members"),errors:n,style:l?void 0:{display:"none"}})]})}function ui(){var e=Object(v.a)().t,t=Object(r.useReducer)(ei,{mode:"addData",inputOpen:!1}),a=Object(x.a)(t,2),n=a[0],i=a[1],c=[{title:e("settings.header.category.name"),field:"name"},{title:e("settings.header.category.sort"),field:"sort"},{title:e("settings.header.category.limited-public"),field:"limitedPublic",type:"boolean"}];return Object(N.jsx)(_e,{adminMode:!0,menuOpen:!0,children:Object(N.jsxs)(ue.a,{square:!0,children:[Object(N.jsx)(C.a,{p:2,children:Object(N.jsx)(ni,{master:"category",dispatch:i})}),Object(N.jsx)(C.a,{p:2,children:Object(N.jsx)(ai,{inputFields:{type:"category",item:Object(N.jsx)(di,{}),defaultValues:{mode:"ins",id:"",name:"",sort:"",limitedPublic:!1,members:[]}},columns:c,dataDialogHook:{state:n,dispatch:i}})})]})})}function ji(e){var t=e.locations,a=e.categories,n=Object(qt.e)(),i=n.control,c=n.setValue,s=n.formState.errors,o=Object(v.a)().t,l=Object(r.useState)(!1),d=Object(x.a)(l,2),u=d[0],j=d[1],b=Object(qt.f)({control:i,name:"type"});Object(r.useEffect)((function(){"free"===b?(c("teaSupply",{outside:!1,inside:!1},{shouldDirty:!0}),j(!0)):j(!1)}),[c,b]);var m=Object(qt.f)({control:i,name:"usageRange"});return Object(r.useEffect)((function(){switch(m){case"outside":c("teaSupply.inside",!1,{shouldDirty:!0});break;case"inside":c("teaSupply.outside",!1,{shouldDirty:!0})}}),[c,m]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(na,{name:"name",control:i,label:o("settings.header.room.name"),required:!0,errors:s}),Object(N.jsx)(na,{name:"email",control:i,label:o("settings.header.room.email"),required:!0,validation:{pattern:{value:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:o("settings.form.room.error.email.pattern")}},errors:s}),Object(N.jsx)(na,{name:"sort",control:i,label:o("settings.header.room.sort"),errors:s}),Object(N.jsx)(na,{name:"usageRange",control:i,label:o("settings.header.room.usage-range"),required:!0,selectList:ta.map((function(e){return{label:o("settings.view.room.usage-range.".concat(e)),value:e}})),errors:s}),Object(N.jsx)(na,{name:"type",control:i,label:o("settings.header.room.type"),required:!0,selectList:Qt.map((function(e){return{label:o("settings.view.room.type.".concat(e)),value:e}})),errors:s}),Object(N.jsxs)(zt.a,{container:!0,style:u?{display:"none"}:void 0,children:[Object(N.jsx)(zt.a,{item:!0,children:Object(N.jsx)(Wa.a,{control:Object(N.jsx)(qt.a,{name:"teaSupply.outside",control:i,defaultValue:!1,render:function(e){var t=e.field;return Object(N.jsx)(Aa.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary",disabled:u})}}),label:o("settings.header.room.tea-supply.outside"),style:"inside"===m?{display:"none"}:void 0})}),Object(N.jsx)(zt.a,{item:!0,children:Object(N.jsx)(Wa.a,{control:Object(N.jsx)(qt.a,{name:"teaSupply.inside",control:i,defaultValue:!1,render:function(e){var t=e.field;return Object(N.jsx)(Aa.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary",disabled:u})}}),label:o("settings.header.room.tea-supply.inside"),style:"outside"===m?{display:"none"}:void 0})})]}),Object(N.jsx)(na,{name:"location",control:i,label:o("settings.header.room.location"),required:!0,selectList:null===t||void 0===t?void 0:t.map((function(e){return{label:e.name,value:e.id}})),errors:s}),Object(N.jsx)(na,{name:"category",control:i,label:o("settings.header.room.category"),required:!0,selectList:null===a||void 0===a?void 0:a.map((function(e){return{label:e.name,value:e.id}})),errors:s}),Object(N.jsx)(na,{name:"comment",control:i,label:o("settings.header.room.comment"),multiline:!0,errors:s})]})}function bi(){var e=Object(v.a)().t,t=Object(r.useReducer)(ei,{mode:"addData",inputOpen:!1}),a=Object(x.a)(t,2),n=a[0],i=a[1],c=Ge("/location/choices",[]),s=Object(x.a)(c,1)[0].data,o=Ge("/category/choices",[]),l=Object(x.a)(o,1)[0].data,d=function(t){return e(t?"settings.view.room.tea-supply-true":"settings.view.room.tea-supply-false")},u=[{title:e("settings.header.room.name"),field:"name"},{title:e("settings.header.room.sort"),field:"sort"},{title:e("settings.header.room.usage-range"),field:"usageRange",render:function(t){return e("settings.view.room.usage-range.".concat(t.usageRange))}},{title:e("settings.header.room.type"),field:"type",render:function(t){return e("settings.view.room.type.".concat(t.type))}},{title:e("settings.header.room.tea-supply"),field:"teaSupply",type:"boolean",sorting:!1,render:function(t){return"none"===t.usageRange?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("span",{children:[e("settings.view.room.tea-supply.outside"),d(t.teaSupply.outside)]}),Object(N.jsx)("br",{}),Object(N.jsxs)("span",{children:[e("settings.view.room.tea-supply.inside"),d(t.teaSupply.inside)]})]}):Object(N.jsx)("span",{children:d(t.teaSupply[t.usageRange])})}},{title:e("settings.header.room.location"),field:"location",render:function(e){var t=null===s||void 0===s?void 0:s.find((function(t){return t.id===e.location}));return null===t||void 0===t?void 0:t.name}},{title:e("settings.header.room.category"),field:"category",render:function(e){var t=null===l||void 0===l?void 0:l.find((function(t){return t.id===e.category}));return null===t||void 0===t?void 0:t.name}}];return Object(N.jsx)(_e,{adminMode:!0,menuOpen:!0,children:Object(N.jsxs)(ue.a,{square:!0,children:[Object(N.jsx)(C.a,{p:2,children:Object(N.jsx)(ni,{master:"room",dispatch:i})}),Object(N.jsx)(C.a,{p:2,children:Object(N.jsx)(ai,{inputFields:{type:"room",item:Object(N.jsx)(ji,{locations:s,categories:l}),defaultValues:{mode:"ins",id:"",name:"",email:"",usageRange:"none",type:"rooms",sort:"",teaSupply:{outside:!1,inside:!1},comment:"",location:"",category:""}},columns:u,dataDialogHook:{state:n,dispatch:i}})})]})})}function mi(){return Object(N.jsx)(m.a,{children:Object(N.jsxs)(p.d,{children:[Object(N.jsx)(p.b,{exact:!0,path:"/:location?/login",component:Q}),Object(N.jsx)(p.b,{exact:!0,path:"/oauth/redirect",component:le}),Object(N.jsx)(p.b,{exact:!0,path:"/:location/main",component:cn}),Object(N.jsx)(p.b,{exact:!0,path:"/:location/main/byroom",component:Rn}),Object(N.jsx)(p.b,{exact:!0,path:"/:location/front",component:$n}),Object(N.jsx)(p.b,{exact:!0,path:"/:location?/settings/role",component:si}),Object(N.jsx)(p.b,{exact:!0,path:"/:location?/settings/location",component:li}),Object(N.jsx)(p.b,{exact:!0,path:"/:location?/settings/category",component:ui}),Object(N.jsx)(p.b,{exact:!0,path:"/:location?/settings/room",component:bi}),Object(N.jsx)(p.a,{from:"/:location?/",to:"/:location?/login"})]})})}var pi=a(436),Oi=a(437),fi=a(441),hi=a(440),xi=a(220),vi=a(179),gi=function(e){Object(fi.a)(a,e);var t=Object(hi.a)(a);function a(){return Object(pi.a)(this,a),t.apply(this,arguments)}return Object(Oi.a)(a,[{key:"getCalendarHeaderText",value:function(e){return Object(_a.default)(e,"Yo MMM",{locale:vi.a})}},{key:"getDatePickerHeaderText",value:function(e){return Object(_a.default)(e,"MMMd\u65e5",{locale:vi.a})}}]),a}(xi.default);var yi=function(){return Object(N.jsxs)(s.a,{theme:j,children:[Object(N.jsx)(b.a,{}),Object(N.jsx)(Xa.a,{utils:gi,locale:vi.a,children:Object(N.jsx)(mi,{})})]})},ki=a(438),wi=a(439),Ci=a(182),Di={en:{translation:ki},ja:{translation:wi}};Ft.a.use(Ci.e).init({lng:"ja",fallbackLng:"ja",interpolation:{escapeValue:!1},react:{useSuspense:!1},resources:Di});Ft.a;c.a.render(Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsx)(yi,{})}),document.getElementById("root"))}},[[600,1,2]]]);
//# sourceMappingURL=main.cfa41040.chunk.js.map