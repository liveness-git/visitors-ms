(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{444:function(e){e.exports=JSON.parse('{"login.form.email":"Email Address","login.form.password":"Password","login.form.submit":"Log In","login.form.required":"Required","login.form.invalid-pattern":"Invalid pattern"}')},445:function(e){e.exports=JSON.parse('{"common.form.required":"\u5fc5\u9808\u5165\u529b\u3067\u3059\u3002","common.button.ok":"OK","common.button.cancel":"\u30ad\u30e3\u30f3\u30bb\u30eb","common.button.search":"\u691c\u7d22","common.button.save":"\u4fdd\u5b58\u3059\u308b","common.button.delete":"\u524a\u9664\u3059\u308b","common.msg.login-success":"\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f\u3002\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u3002","common.msg.login-failed":"\u30ed\u30b0\u30a4\u30f3\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","common.msg.no-data":"\u8a72\u5f53\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093\u3002","common.msg.fetch-failed":"\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","common.msg.update-success":"\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002","common.msg.update-failed":"\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","common.msg.authority-error":"\u6a29\u9650\u304c\u3042\u308a\u307e\u305b\u3093\u3002","common.msg.prompt-logout":"\u53cd\u6620\u3059\u308b\u305f\u3081\u306b\u306f\u30ed\u30b0\u30a2\u30a6\u30c8\u304c\u5fc5\u8981\u3067\u3059\u3002","common.msg.delete-confirm":"\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","common.error.Invalid-date":"\u65e5\u4ed8\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093","common.error.Invalid-min-date":"\u65e5\u4ed8\u304c\u6700\u5c0f\u65e5\u4ed8\u3092\u4e0b\u56de\u3063\u3066\u3044\u307e\u3059","common.error.Invalid-max-date":"\u65e5\u4ed8\u304c\u6700\u5927\u65e5\u4ed8\u3092\u4e0a\u56de\u3063\u3066\u3044\u307e\u3059","login.form.email":"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9","login.form.password":"\u30d1\u30b9\u30ef\u30fc\u30c9","login.form.submit":"\u30ed\u30b0\u30a4\u30f3","login.form.invalid-pattern":"\u7121\u52b9\u306a\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002","login.msal.login":"Microsoft \u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30ed\u30b0\u30a4\u30f3","visitlist.title":"\u6765\u8a2a\u4e00\u89a7","visittable.header.appt-date-time":"\u4e88\u7d04\u65e5\u6642","visittable.header.appt-time":"\u4e88\u7d04\u6642\u9593","visittable.header.room-name":"\u4f1a\u8b70\u5ba4\u540d","visittable.header.visit-company-name":"\u6765\u8a2a\u793e\u540d","visittable.header.visit-company-rep":"\u4ee3\u8868\u8005\u540d(\u656c\u79f0\u7565)","visittable.header.tea-supply":"\u5448\u8336","visittable.header.number-of-tea-supply":"\u5448\u8336\u7dcf\u6570","visittable.header.tea-details":"\u5448\u8336\u8a73\u7d30","visittable.header.number-of-visitor":"\u6765\u8a2a\u8005\u6570","visittable.header.number-of-employee":"\u5f93\u696d\u54e1\u6570","visittable.header.usage-range":"\u5229\u7528\u7bc4\u56f2","visittable.header.comment":"\u30b3\u30e1\u30f3\u30c8","visittable.header.reservation-name":"\u4e88\u7d04\u8005","visittable.header.contact-addr":"\u9023\u7d61\u5148","visittable.header.check-in":"IN","visittable.header.check-out":"OUT","visittable.header.resource-status":"\u4f1a\u8b70\u5ba4\u72b6\u614b","visittable.header.event-subject":"\u4ef6\u540d","visittable.header.event-mailto-authors":"\u4e88\u7d04\u8005\u304a\u3088\u3073\u7ba1\u7406\u8005","visittable.header.event-mailto-required":"\u5fc5\u9808\u53c2\u52a0\u8005","visittable.header.event-mailto-optional":"\u4efb\u610f\u53c2\u52a0\u8005","visittable.header.event-room":"\u4f1a\u8b70\u5ba4","visittable.header.event-start-time":"\u958b\u59cb\u65e5\u6642","visittable.header.event-end-time":"\u7d42\u4e86\u65e5\u6642","visittable.header.visitor-card-number":"\u30ab\u30fc\u30c9\u756a\u53f7","visittable.header.edit-action":"\u7de8\u96c6","visittable.header.number-of-people":"\u4eba\u6570","visitdialog.view.resource-status-accepted":"\u627f\u8afe","visitdialog.view.resource-status-declined":"\u8f9e\u9000","visitdialog.view.usage-range.outside":"\u793e\u5916\u4f1a\u8b70","visitdialog.view.usage-range.inside":"\u793e\u5185\u4f1a\u8b70","visitdialog.view.tea-supply.number-of-tea-supply":"\u5448","visitdialog.view.tea-supply.number-of-visitor":"\u6765","visitdialog.view.tea-supply.number-of-employee":"\u5f93","visitdialog.title":"\u4e88\u7d04\u60c5\u5831","visitdialog.header.last-updated":"\u6700\u7d42\u66f4\u65b0\u65e5\u6642","visitdialog.notes.multiple-locations":"\u203b\u8907\u6570\u306e\u5834\u6240(\u4f1a\u8b70\u5ba4\u4ee5\u5916\u542b\u3080)\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u4e00\u90e8\u6a5f\u80fd\u306f\u7de8\u96c6\u3067\u304d\u307e\u305b\u3093","visitdialog.notes.loading-rooms":"\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044...","visitdialog.notes.no-relevant-rooms":"\u4e88\u7d04\u53ef\u80fd\u306a\u4f1a\u8b70\u5ba4\u304c\u3042\u308a\u307e\u305b\u3093","visitdialog.notes.reservation-status-declined":"\u4e88\u7d04\u8005\u304c\u3053\u306e\u4e88\u7d04\u3092\u8f9e\u9000\u3057\u3066\u3044\u307e\u3059","visitdialog.notes.reply-status":"\u8fd4\u4fe1\u72b6\u6cc1","visitdialog.notes.user-status-none":"\u306a\u3057","visitdialog.notes.user-status-tentatively-accepted":"\u4eee\u627f\u8afe","visitdialog.notes.user-status-accepted":"\u627f\u8afe","visitdialog.notes.user-status-declined":"\u8f9e\u9000","visitdialog.notes.recurrence-info":"\u30d1\u30bf\u30fc\u30f3","visitdialog.button.add-visitor":"\u6765\u8a2a\u793e\u8ffd\u52a0","visitdialog.button.remove-visitor":"\u5358\u4e00\u6765\u8a2a\u793e","visitdialog.button.save":"\u4e88\u7d04\u306e\u4fdd\u5b58","visitdialog.button.delete":"\u4e88\u7d04\u306e\u524a\u9664","visitdialog.button.check-in":"\u30c1\u30a7\u30c3\u30af\u30a4\u30f3","visitdialog.button.check-out":"\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8","visitdialog.button.set-recurrence":"\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u306b\u3059\u308b","visitdialog.button.edit-recurrence":"\u5b9a\u671f\u7684\u306a\u30d1\u30bf\u30fc\u30f3\u306e\u7de8\u96c6","visitdialog.form.tea-supply-yes":"\u3042\u308a","visitdialog.form.tea-supply-no":"\u306a\u3057","visitdialog.form.visitor-card-number":"\u30ab\u30fc\u30c9\u756a\u53f7","visitdialog.form.visitor-card-number-placeholder":"\u30ab\u30fc\u30c9\u756a\u53f7\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","visitdialog.form.error.event-time":"\u65e5\u6642\u306e\u95a2\u4fc2\u6027\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059","visitdialog.form.error.available-time":"\u4f1a\u8b70\u5ba4\u304c\u7a7a\u3044\u3066\u3044\u307e\u305b\u3093","visitdialog.form.error.reservation-period":"\u4e88\u7d04\u53ef\u80fd\u65e5\u6570\u3092\u8d85\u3048\u3066\u3044\u307e\u3059","visitdialog.form.error.room-not-covered":"\u4f1a\u8b70\u5ba4\u3092\u9078\u629e\u3057\u306a\u304a\u3057\u3066\u304f\u3060\u3055\u3044","visitdialog.form.error.number-of-tea-supply":"\u5448\u8336\u7dcf\u6570\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093","visitdialog.form.error.number-of-visitor":"\u6765\u8a2a\u8005\u6570\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093","visitdialog.form.error.number-of-employee":"\u5f93\u696d\u54e1\u6570\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093","visitdialog.form.error.recurrence.has-no-occurrence":"\u7e70\u308a\u8fd4\u3057\u306b\u6307\u5b9a\u3055\u308c\u305f\u7bc4\u56f2\u306b\u767a\u751f\u65e5\u304c\u3042\u308a\u307e\u305b\u3093","auto-complete.no-options-text":"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u307e\u305f\u306f\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","recurrence-dialog.title":"\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u306e\u8a2d\u5b9a","recurrence-dialog.button.release-recurrence":"\u5b9a\u671f\u7684\u306a\u8a2d\u5b9a\u3092\u89e3\u9664","recurrence-dialog.confirm-message-1":"\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u306e\u4e00\u90e8\u306b\u3001\u7279\u5b9a\u306e\u5909\u66f4\u3082\u3057\u304f\u306f\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u6e08\u307f\u306e\u4e88\u7d04\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002","recurrence-dialog.confirm-message-2":"\u305d\u308c\u3089\u306e\u5185\u5bb9\u306f\u5168\u3066\u53d6\u308a\u6d88\u3055\u308c\u3001\u518d\u3073\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u3068\u3057\u3066\u4f5c\u6210\u3055\u308c\u307e\u3059\u304c\u5b9c\u3057\u3044\u3067\u3059\u304b\uff1f","recurrence-dialog.header.appt-date-time":"\u958b\u59cb\u65e5\u6642","recurrence-dialog.header.pattern.type":"\u30d1\u30bf\u30fc\u30f3\u306e\u8a2d\u5b9a","recurrence-dialog.header.pattern.interval":"\u9593\u9694","recurrence-dialog.header.pattern.days-of-week":"\u66dc\u65e5","recurrence-dialog.header.pattern.day-of-month":"\u65e5\u4ed8","recurrence-dialog.header.pattern.index":"\u9031\u6570","recurrence-dialog.header.pattern.month":"\u6708","recurrence-dialog.header.range.type":"\u671f\u9593\u306e\u8a2d\u5b9a","recurrence-dialog.header.range.start-date":"\u958b\u59cb\u65e5","recurrence-dialog.header.range.end-date":"\u7d42\u4e86\u65e5","recurrence-dialog.header.range.number-of-occurrences":"\u53cd\u5fa9\u56de\u6570","recurrence-dialog.label.pattern.interval.daily":"\u65e5\u3054\u3068","recurrence-dialog.label.pattern.interval.weekly":"\u9031\u3054\u3068","recurrence-dialog.label.pattern.interval.absoluteMonthly":"\u304b\u6708\u3054\u3068","recurrence-dialog.label.pattern.interval.relativeMonthly":"\u304b\u6708\u3054\u3068","recurrence-dialog.label.pattern.interval.absoluteYearly":"\u5e74\u3054\u3068","recurrence-dialog.label.pattern.interval.relativeYearly":"\u5e74\u3054\u3068","recurrence-dialog.label.pattern.day-of-month.absolute":"\u65e5\u306b\u8a2d\u5b9a","recurrence-dialog.label.pattern.day-of-month.relative":"\u306b\u8a2d\u5b9a","recurrence-dialog.error.event-time":"\u65e5\u6642\u306e\u95a2\u4fc2\u6027\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059","recurrence-dialog.error.range.end-date":"\u958b\u59cb\u65e5\u3092\u4e0b\u56de\u3063\u3066\u3044\u307e\u3059","recurrence-dialog.error.range.end-date.max":"\u6700\u9577\u671f\u9593\uff15\u5e74\u3067\u3059","recurrence-dialog.pattern.type.daily":"\u65e5","recurrence-dialog.pattern.type.weekly":"\u9031","recurrence-dialog.pattern.type.absoluteMonthly":"\u6708\uff08\u65e5\u6307\u5b9a\uff09","recurrence-dialog.pattern.type.relativeMonthly":"\u6708\uff08\u66dc\u65e5\u6307\u5b9a\uff09","recurrence-dialog.pattern.type.absoluteYearly":"\u5e74\uff08\u65e5\u6307\u5b9a\uff09","recurrence-dialog.pattern.type.relativeYearly":"\u5e74\uff08\u66dc\u65e5\u6307\u5b9a\uff09","recurrence-dialog.pattern.day-of-week.sunday":"\u65e5\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.monday":"\u6708\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.tuesday":"\u706b\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.wednesday":"\u6c34\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.thursday":"\u6728\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.friday":"\u91d1\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.saturday":"\u571f\u66dc\u65e5","recurrence-dialog.pattern.index.first":"\u7b2c\uff11","recurrence-dialog.pattern.index.second":"\u7b2c\uff12","recurrence-dialog.pattern.index.third":"\u7b2c\uff13","recurrence-dialog.pattern.index.fourth":"\u7b2c\uff14","recurrence-dialog.pattern.index.last":"\u6700\u7d42","recurrence-dialog.pattern.month.1":"1\u6708","recurrence-dialog.pattern.month.2":"2\u6708","recurrence-dialog.pattern.month.3":"3\u6708","recurrence-dialog.pattern.month.4":"4\u6708","recurrence-dialog.pattern.month.5":"5\u6708","recurrence-dialog.pattern.month.6":"6\u6708","recurrence-dialog.pattern.month.7":"7\u6708","recurrence-dialog.pattern.month.8":"8\u6708","recurrence-dialog.pattern.month.9":"9\u6708","recurrence-dialog.pattern.month.10":"10\u6708","recurrence-dialog.pattern.month.11":"11\u6708","recurrence-dialog.pattern.month.12":"12\u6708","recurrence-info.pattern.interval.every-day":"\u6bce\u65e5","recurrence-info.pattern.interval.every-week":"\u6bce\u9031","recurrence-info.pattern.interval.every-month":"\u6bce\u6708","recurrence-info.pattern.interval.every-year":"\u6bce\u5e74","recurrence-info.pattern.interval.day":"\u65e5\u3054\u3068","recurrence-info.pattern.interval.week":"\u9031\u3054\u3068","recurrence-info.pattern.interval.month":"\u304b\u6708\u3054\u3068","recurrence-info.pattern.interval.year":"\u5e74\u3054\u3068","recurrence-info.pattern.day-of-month":"\u65e5","recurrence-info.range.to":"\u304b\u3089","recurrence-info.range.valid-from":"\u307e\u3067\u6709\u52b9","visitorinfoform.title":"\u6765\u8a2a\u60c5\u5831","visitorinfoform.delete-confirm-title":"\u6765\u8a2a\u60c5\u5831\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","visitorinfoform.delete-confirm-message":"\u4e88\u7d04\u60c5\u5831\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","visitorinfoform.delete-confirm-message.series-master":"\u5b9a\u671f\u7684\u306a\u4e88\u7d04\u3092\u5168\u3066\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","visitorinfoform.recurrence-confirm-title":"\u5b9a\u671f\u7684\u306a\u30a2\u30a4\u30c6\u30e0\u3092\u958b\u304f","visitorinfoform.recurrence-confirm-message":"\u3053\u308c\u306f\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u3067\u3059\u3002\u3069\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u958b\u304d\u307e\u3059\u304b\uff1f","visitorinfoform.recurrence-radio-instances":"\u3053\u306e\u56de\u306e\u307f","visitorinfoform.recurrence-radio-master":"\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u5168\u4f53","visitorinfolist.title":"\u6765\u8a2a\u4e00\u89a7","export-csv.title":"\u6765\u8a2a\u60c5\u5831 CSV\u51fa\u529b","export-csv.start-date":"\u958b\u59cb\u65e5","export-csv.end-date":"\u7d42\u4e86\u65e5","export-csv.button.export-csv":"CSV\u51fa\u529b","export-csv.form.error.event-time":"\u65e5\u4ed8\u306e\u95a2\u4fc2\u6027\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059","export-csv.msg.export-success":"CSV\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3057\u307e\u3057\u305f\u3002","export-csv.msg.export-failed":"CSV\u30d5\u30a1\u30a4\u30eb\u306e\u51fa\u529b\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","export-csv.file.header.category":"\u30ab\u30c6\u30b4\u30ea","export-csv.file.header.appt-time":"\u4e88\u7d04\u6642\u9593","export-csv.file.header.appt-date":"\u4e88\u7d04\u65e5","export-csv.file.header.appt-start-time":"\u958b\u59cb\u6642\u9593","export-csv.file.header.appt-end-time":"\u7d42\u4e86\u6642\u9593","export-csv.file.header.room-name":"\u4f1a\u8b70\u5ba4\u540d","export-csv.file.header.tea-supply":"\u5448\u8336","export-csv.file.header.number-of-tea-supply":"\u5448\u8336\u7dcf\u6570","export-csv.file.header.tea-details":"\u5448\u8336\u8a73\u7d30","export-csv.file.header.number-of-visitor":"\u6765\u8a2a\u8005\u6570","export-csv.file.header.number-of-employee":"\u5f93\u696d\u54e1\u6570","export-csv.file.header.visit-company":"\u6765\u8a2a\u793e\u540d / \u4ee3\u8868\u8005\u540d(\u656c\u79f0\u7565)","export-csv.file.header.check-in":"\u30a4\u30f3","export-csv.file.header.visitor-card-number":"\u30ab\u30fc\u30c9\u756a\u53f7","export-csv.file.header.check-out":"\u30a2\u30a6\u30c8","export-csv.file.header.reservation-name":"\u4e88\u7d04\u8005","export-csv.file.header.reservation-dep-en":"\u4e88\u7d04\u8005\u6240\u5c5e\u90e8\u7f72(en)","export-csv.file.header.reservation-dep-ja":"\u4e88\u7d04\u8005\u6240\u5c5e\u90e8\u7f72(ja)","export-csv.file.header.contact-addr":"\u9023\u7d61\u5148","export-csv.file.header.subject":"\u4ef6\u540d","export-csv.file.header.comment":"\u30b3\u30e1\u30f3\u30c8","export-csv.file.tea-supply-yes":"\u3042\u308a","export-csv.file.tea-supply-no":"\u306a\u3057","main.menu.created-visit-info":"\u81ea\u5206\u306e\u4f1a\u8b70\u4e88\u7d04","main.menu.by-meeting-room":"\u4f1a\u8b70\u5ba4\u5225","main.menu.front":"\u53d7\u4ed8","main.menu.settings":"\u8a2d\u5b9a","main.menu.settings.role":"\u30ed\u30fc\u30eb","main.menu.settings.location":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3","main.menu.settings.category":"\u30ab\u30c6\u30b4\u30ea","main.menu.settings.room":"\u4f1a\u8b70\u5ba4","main.menu.refresh":"\u66f4\u65b0","main.menu.logout":"\u30ed\u30b0\u30a2\u30a6\u30c8","main.header.picker-label":"\u9078\u629e\u65e5","main.header.add-event":"\u65b0\u898f\u4f5c\u6210","main.header.export-csv":"CSV\u51fa\u529b","main.visitlist.title":"","main.visitlist.subtitle":"\u81ea\u8eab\u304c\u53c2\u52a0\u4e88\u5b9a\u306e\uff11\u304b\u6708\u5206\u306e\u4e88\u7d04\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002","main.visitlist.subtitle.created-only":"\u81ea\u8eab\u304c\u53c2\u52a0\u4e88\u5b9a\u306e\uff11\u304b\u6708\u5206\u306e\u4e88\u7d04\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002","main.byroom.title":"","main.byroom.subtitle":"\u4f1a\u8b70\u5ba4\u5225\u306e\u4e88\u7d04\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002","main.byroom-weekly.title":"","main.byroom-weekly.subtitle":"\uff11\u9031\u9593\u306e\u4e88\u7d04\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002","main.front.title":"","main.front.subtitle":"\u53d7\u4ed8\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002","settings.title.role":"\u30ed\u30fc\u30eb\u8a2d\u5b9a","settings.title.location":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u8a2d\u5b9a","settings.title.category":"\u30ab\u30c6\u30b4\u30ea\u8a2d\u5b9a","settings.title.room":"\u4f1a\u8b70\u5ba4\u8a2d\u5b9a","settings.add-master":"\u65b0\u898f\u4f5c\u6210","settings.header.role.name":"\u30ed\u30fc\u30eb\u540d","settings.header.role.members":"\u30e1\u30f3\u30d0\u30fc","settings.header.location.name":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u540d","settings.header.location.url":"url\u30d1\u30b9\u540d","settings.header.location.sort":"\u8868\u793a\u9806","settings.header.category.name":"\u30ab\u30c6\u30b4\u30ea\u540d","settings.header.category.sort":"\u8868\u793a\u9806","settings.header.category.limited-public":"\u9650\u5b9a\u516c\u958b","settings.header.category.members":"\u30e1\u30f3\u30d0\u30fc","settings.header.category.disabled-by-room":"\u4f1a\u8b70\u5ba4\u5225\u975e\u8868\u793a","settings.header.room.name":"\u4f1a\u8b70\u5ba4\u540d","settings.header.room.email":"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9","settings.header.room.type":"\u7a2e\u5225","settings.header.room.usage-range":"\u5229\u7528\u7bc4\u56f2","settings.header.room.sort":"\u8868\u793a\u9806","settings.header.room.tea-supply":"\u5448\u8336\u9078\u629e","settings.header.room.tea-supply.outside":"\u793e\u5916\u7528\uff1a\u5448\u8336\u9078\u629e","settings.header.room.tea-supply.inside":"\u793e\u5185\u7528\uff1a\u5448\u8336\u9078\u629e","settings.header.room.members":"\u30e1\u30f3\u30d0\u30fc","settings.header.room.location":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3","settings.header.room.category":"\u30ab\u30c6\u30b4\u30ea","settings.header.room.comment":"\u30b3\u30e1\u30f3\u30c8","settings.header.room.cleaning-option":"\u6e05\u6383\u30aa\u30d7\u30b7\u30e7\u30f3","settings.header.room.reservation-periode":"\u4e88\u7d04\u53ef\u80fd\u65e5\u6570","settings.view.role.name.admin":"\u7ba1\u7406\u8005","settings.view.role.name.front":"\u30d5\u30ed\u30f3\u30c8","settings.view.room.type.rooms":"\u4f1a\u8b70\u5ba4","settings.view.room.type.free":"\u30d5\u30ea\u30fc\u30b9\u30da\u30fc\u30b9","settings.view.room.usage-range.none":"\u5236\u9650\u306a\u3057","settings.view.room.usage-range.outside":"\u793e\u5916\u7528","settings.view.room.usage-range.inside":"\u793e\u5185\u7528","settings.view.room.tea-supply.outside":"\u793e\u5916\uff1a","settings.view.room.tea-supply.inside":"\u793e\u5185\uff1a","settings.view.room.tea-supply-true":"\u3042\u308a","settings.view.room.tea-supply-false":"\u306a\u3057","settings.form.common.error.association":"\u4ed6\u306e\u8a2d\u5b9a\u3067\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u524a\u9664\u3067\u304d\u307e\u305b\u3093\u3002","settings.form.role.error.name.unique":"\u3053\u306e\u30ed\u30fc\u30eb\u306f\u65e2\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002","settings.form.location.error.url.unique":"\u3053\u306eurl\u306f\u65e2\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002","settings.form.location.error.url.pattern":"\u534a\u89d2\u306e\u5c0f\u6587\u5b57\u82f1\u6570\u5b57\u306e\u307f\u5165\u529b\u3067\u304d\u307e\u3059\u3002","settings.form.room.error.email.unique":"\u3053\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u65e2\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002","settings.form.room.error.email.pattern":"\u7121\u52b9\u306a\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002"}')},605:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(26),c=a.n(i),o=a(303),s=a(644),l=a(120),d=a(404),u=a.n(d),j={light:"#336bbd",main:"#0046AD",dark:"#003179",contrastText:"#fff"},b=Object(l.b)({palette:{primary:j,secondary:u.a},typography:{button:{textTransform:"none"}},props:{MuiTextField:{variant:"outlined"}},mixins:{toolbar:{minHeight:50}},overrides:{MuiTooltip:{tooltip:{fontSize:"1em"}}}}),m=a(645),p=a(50),O=a(47),f=a(12),h=a.n(f),g=a(21),v=a(9),x=a(663),y=a(634),k=a(661),w=a(59),C=a(124),D=a(296),T=a(635),S=a(633),N=a(1);function M(){return Object(N.jsxs)(w.a,{variant:"body2",color:"textSecondary",align:"center",children:["Version 1.0.6 - Copyright \xa9 ",Object(N.jsx)(S.a,{color:"inherit",href:"https://www.liveness.co.jp/",children:"liveness, Inc."})," ",(new Date).getFullYear(),"."]})}var I=a(62),R=a(450),E=a(365),F=Object(I.a)((function(e){return{root:{zIndex:e.zIndex.tooltip+1,color:"#fff"}}}));function P(e){var t=F();return Object(N.jsx)(R.a,{className:t.root,open:e.open,children:Object(N.jsx)(E.a,{color:"inherit"})})}var L=function(){return Object(I.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))},B=new Map;function V(e){return A.apply(this,arguments)}function A(){return(A=Object(g.a)(h.a.mark((function e(t){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.prev=3,e.next=6,a.json();case 6:a.parsedBody=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:if(a.ok){e.next=14;break}throw console.error("Server Error: ",null===(r=a.parsedBody)||void 0===r?void 0:r.body),new Error(a.statusText);case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function W(e){return H.apply(this,arguments)}function H(){return H=Object(g.a)(h.a.mark((function e(t){var a,r,n=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:void 0,r=n.length>2&&void 0!==n[2]?n[2]:{method:"get",signal:a?J(a):null},e.next=4,V(new Request(t,r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function q(e,t){return z.apply(this,arguments)}function z(){return z=Object(g.a)(h.a.mark((function e(t,a){var r,n=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>2&&void 0!==n[2]?n[2]:{method:"post",body:JSON.stringify(a)},e.next=3,V(new Request(t,r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}function Y(e){var t,a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CANCELLED";null===(t=B.get(e))||void 0===t||null===(a=t.abort)||void 0===a||a.call(t,r)}function J(e){Y(e);var t=new AbortController;return B.set(e,t),t.signal}var K="liveness-visitor-temp",U="liveness-visitor-user",G=function(e){sessionStorage.setItem(U,e)},_="liveness-visitor-reload",$=function(e,t){var a=JSON.parse(sessionStorage.getItem(_));a[e]=t,sessionStorage.setItem(_,JSON.stringify(a))},Z=function(e){return JSON.parse(sessionStorage.getItem(_))[e]},X="liveness-visitor-reload-flg",Q=function(){return sessionStorage.getItem(X)},ee=function(){sessionStorage.removeItem(X)},te=function(){sessionStorage.removeItem(U),sessionStorage.removeItem(_),ee()},ae=L();function re(){var e=Object(x.a)().t,t=ae(),a=Object(O.h)(),n=Object(r.useState)(!1),i=Object(v.a)(n,2),c=i[0],o=i[1],s=function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),r=a.params.location,sessionStorage.setItem(K,r),e.next=5,W("/oauth/signin");case 5:(t=e.sent).parsedBody&&(window.location.href=t.parsedBody.url),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}var r}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)(y.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(P,{open:c}),Object(N.jsxs)("div",{className:t.paper,children:[Object(N.jsx)(k.a,{className:t.avatar,children:Object(N.jsx)(T.a,{})}),Object(N.jsx)(w.a,{component:"h1",variant:"h5",children:"Visitors"}),Object(N.jsx)(C.a,{onClick:s,fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:e("login.msal.login")})]}),Object(N.jsx)(D.a,{mt:8,children:Object(N.jsx)(M,{})})]})}var ne=a(7),ie=a(636),ce=a(657);function oe(e){return Object(N.jsx)(ce.a,Object(ne.a)({elevation:6,variant:"filled"},e))}var se=function(e,t){switch(t.type){case"hide":return Object(ne.a)(Object(ne.a)({},e),{},{open:!1});case"success":case"info":case"warning":case"error":return Object(ne.a)(Object(ne.a)({},e),{},{open:!0,severity:t.type,message:t.message});default:return e}};function le(e){var t=e.severity,a=e.message,r=e.open,n=e.onClose;return Object(N.jsx)(ie.a,{open:r,autoHideDuration:1500,onClose:n,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(N.jsx)(oe,{onClose:n,severity:t,children:a})})}var de=Object(r.createContext)({});function ue(e){var t=e.children,a=Object(r.useReducer)(se,{severity:"info",message:"",open:!1}),n=Object(v.a)(a,2),i=n[0],c=n[1];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(le,Object(ne.a)(Object(ne.a)({},i),{},{onClose:function(e,t){"clickaway"!==t&&c({type:"hide"})}})),Object(N.jsx)(de.Provider,{value:{state:i,dispatch:c},children:t})]})}var je=L();function be(){return Object(N.jsx)(ue,{children:Object(N.jsx)(me,{})})}function me(){var e=je(),t=Object(x.a)().t,a=Object(r.useContext)(de),n=Object(r.useState)(!0),i=Object(v.a)(n,2),c=i[0],o=i[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(g.a)(h.a.mark((function e(){var r,n,i,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=window.location.search,e.next=4,W("/oauth/callback"+r);case 4:if(!(n=e.sent).parsedBody){e.next=18;break}if(o(!1),n.parsedBody.ok?a.dispatch({type:"success",message:t("common.msg.login-success")}):a.dispatch({type:"error",message:t("common.msg.login-failed")}),i=sessionStorage.getItem(K),sessionStorage.removeItem(K),i&&"undefined"!==i){e.next=15;break}return e.next=13,W("/location/first");case 13:(c=e.sent).parsedBody&&(i=c.parsedBody.url);case 15:s="/".concat(i,"/main"),"undefined"===i&&(s="/settings/location"),setTimeout((function(){window.location.replace(s)}),1500);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(N.jsxs)(y.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(P,{open:c}),Object(N.jsxs)("div",{className:e.paper,children:[Object(N.jsx)(k.a,{className:e.avatar,children:Object(N.jsx)(T.a,{})}),Object(N.jsx)(w.a,{component:"h1",variant:"h5",children:"Visitors"})]}),Object(N.jsx)(D.a,{mt:8,children:Object(N.jsx)(M,{})})]})}var pe=a(156),Oe=a(3),fe=a(153),he=a(79),ge=a(638),ve=a(298),xe=a(613),ye=a(640),ke=a(234),we=a.n(ke),Ce=a(175),De=a(614),Te=a(641),Se=a(643),Ne=a(218),Me=a(368),Ie=a(369),Re=a(642),Ee=a(639),Fe=a(407),Pe=a.n(Fe),Le=a(409),Be=a.n(Le),Ve=a(410),Ae=a.n(Ve),We=a(411),He=a.n(We),qe=a(412),ze=a.n(qe),Ye=a(413),Je=a.n(Ye),Ke=a(414),Ue=a.n(Ke),Ge=a(415),_e=a.n(Ge),$e=a(297),Ze=a(302);function Xe(e,t,a){var n=Object(r.useState)(e),i=Object(v.a)(n,2),c=i[0],o=i[1],s=Object(r.useState)(t),l=Object(v.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)(!1),b=Object(v.a)(j,2),m=b[0],p=b[1],O=Object(r.useState)(!1),f=Object(v.a)(O,2),x=f[0],y=f[1];Object(r.useEffect)((function(){p(!1)}),[d]);var k=Object(r.useCallback)(Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:return y(!1),p(!0),e.prev=4,e.next=7,W(c,a);case 7:(t=e.sent).parsedBody&&u(t.parsedBody),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),y(!0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,11]])}))),[c,a]),w=Object(r.useCallback)(Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k());case 1:case"end":return e.stop()}}),e)}))),[k]);return Object(r.useEffect)((function(){k()}),[k]),[{data:d,isLoading:m,isError:x},w,o]}function Qe(){var e=Xe("/location/choices",[]),t=Object(v.a)(e,1)[0].data,a=Object(O.g)(),n=Object(O.h)(),i=Object(r.useState)(n.params.location),c=Object(v.a)(i,2),o=c[0],s=c[1];return t&&0!==t.length?Object(N.jsx)($e.a,{color:"primary",margin:"dense",size:"small",children:Object(N.jsx)(Ze.a,{style:{color:"white"},value:o,onChange:function(e){s(e.target.value);var t=n.path.replace(/:location/i,e.target.value);a.push(t)},children:t.map((function(e){return Object(N.jsx)(Me.a,{value:e.url,children:e.name},e.url)}))})}):Object(N.jsx)(N.Fragment,{})}var et=Object(I.a)((function(e){return Object(fe.a)({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:230,width:"calc(100% - ".concat(230,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},toolbar:{paddingRight:24},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},location:{color:"white"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:230,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},drawerCloseIcon:Object(ne.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),calendarHidden:{display:"none"},pageTitle:{marginBottom:e.spacing(1)},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},link:{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},nested:{paddingLeft:e.spacing(10)}})})),tt=Object(r.createContext)({}),at=function(e){var t=e.children,a=e.adminMode,i=e.frontMode,c=e.menuOpen,o=Object(x.a)().t,s=et(),l=Object(O.h)(),d=Object(r.useState)(!!c),u=Object(v.a)(d,2),j=u[0],b=u[1],m=Object(r.useState)(!0),f=Object(v.a)(m,2),k=f[0],C=f[1];Object(r.useEffect)((function(){j||C(!1)}),[j]);var T=n.a.useState(null),S=Object(v.a)(T,2),I=S[0],R=S[1],E=Boolean(I),F=function(){R(null)},P=function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W("/oauth/signout");case 3:e.sent.ok&&(te(),window.location.href="/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),L={signedIn:!1,email:"",name:"",isAdmin:!1,isFront:!1,contactAddr:void 0},B=Object(r.useReducer)((function(e,t){switch(t.type){case"signedIn":return{signedIn:!0,email:t.user.email,name:t.user.name,isAdmin:t.user.isAdmin,isFront:t.user.isFront,contactAddr:t.user.contactAddr};case"signedOut":return L;default:return e}}),L),V=Object(v.a)(B,2),A=V[0],H=V[1],q=Object(r.useCallback)(Object(g.a)(h.a.mark((function e(){var t,a,r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=sessionStorage.getItem(U))){e.next=7;break}a=JSON.parse(t),H({type:"signedIn",user:a}),e.next=11;break;case 7:return e.next=9,W("/user/me");case 9:(r=e.sent).parsedBody?(n=r.parsedBody,G(JSON.stringify(n)),H({type:"signedIn",user:n})):(te(),H({type:"signedOut"}),console.log("Failed to retrieve email"));case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),te(),window.location.href="/login";case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),[]);Object(r.useEffect)((function(){q()}),[q]),Object(r.useEffect)((function(){Q()||sessionStorage.setItem(_,"{}")}),[]);var z=t,Y=Object(N.jsx)(N.Fragment,{children:o("common.msg.authority-error")});return a&&!A.isAdmin&&(z=Y),i&&!A.isFront&&(z=Y),A.signedIn?Object(N.jsx)(tt.Provider,{value:{userStorage:A,dispatch:H},children:Object(N.jsx)(ue,{children:Object(N.jsxs)("div",{className:s.root,children:[Object(N.jsx)(ge.a,{position:"absolute",className:Object(Oe.a)(s.appBar,j&&s.appBarShift),children:Object(N.jsxs)(ve.a,{className:s.toolbar,children:[Object(N.jsx)(Ce.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){b(!0)},className:Object(Oe.a)(s.menuButton,j&&s.menuButtonHidden),children:Object(N.jsx)(Pe.a,{})}),Object(N.jsx)(w.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:s.title,children:"Visitors"}),Object(N.jsx)("div",{children:Object(N.jsx)(Qe,{})}),Object(N.jsxs)("div",{children:[Object(N.jsx)(Ce.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){R(e.currentTarget)},color:"inherit",children:Object(N.jsx)(Ee.a,{})}),Object(N.jsxs)(Ne.a,{id:"menu-appbar",anchorEl:I,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:E,onClose:F,children:[Object(N.jsx)(Me.a,{onClick:F,children:A.email}),Object(N.jsx)(Me.a,{onClick:P,children:o("main.menu.logout")})]})]})]})}),Object(N.jsxs)(he.a,{variant:"permanent",classes:{paper:Object(Oe.a)(s.drawerPaper,!j&&s.drawerPaperClose)},open:j,children:[Object(N.jsx)("div",{className:s.drawerCloseIcon,children:Object(N.jsx)(Ce.a,{onClick:function(){b(!1)},children:Object(N.jsx)(we.a,{})})}),Object(N.jsx)(ye.a,{}),Object(N.jsxs)(xe.a,{children:[Object(N.jsx)(p.b,{to:"/".concat(l.params.location,"/main"),className:s.link,children:Object(N.jsxs)(De.a,{button:!0,children:[Object(N.jsx)(Ie.a,{title:o("main.menu.created-visit-info"),children:Object(N.jsx)(Te.a,{children:Object(N.jsx)(Be.a,{})})}),Object(N.jsx)(Re.a,{primary:o("main.menu.created-visit-info")})]})}),Object(N.jsx)(p.b,{to:"/".concat(l.params.location,"/main/byroom"),className:s.link,children:Object(N.jsxs)(De.a,{button:!0,children:[Object(N.jsx)(Ie.a,{title:o("main.menu.by-meeting-room"),children:Object(N.jsx)(Te.a,{children:Object(N.jsx)(Ae.a,{})})}),Object(N.jsx)(Re.a,{primary:o("main.menu.by-meeting-room")})]})}),A.isFront&&Object(N.jsx)(p.b,{to:"/".concat(l.params.location,"/front"),className:s.link,children:Object(N.jsxs)(De.a,{button:!0,children:[Object(N.jsx)(Ie.a,{title:o("main.menu.front"),children:Object(N.jsx)(Te.a,{children:Object(N.jsx)(He.a,{})})}),Object(N.jsx)(Re.a,{primary:o("main.menu.front")})]})}),A.isAdmin&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(De.a,{button:!0,onClick:function(){j||b(!0),C(!k)},children:[Object(N.jsx)(Te.a,{children:Object(N.jsx)(ze.a,{})}),Object(N.jsx)(Re.a,{primary:o("main.menu.settings")}),k?Object(N.jsx)(Je.a,{}):Object(N.jsx)(Ue.a,{})]}),Object(N.jsxs)(Se.a,{in:k,timeout:"auto",unmountOnExit:!0,children:[Object(N.jsx)(p.b,{to:"/".concat(l.params.location,"/settings/role"),className:s.link,children:Object(N.jsx)(De.a,{button:!0,className:s.nested,children:Object(N.jsx)(Re.a,{primary:o("main.menu.settings.role")})})}),Object(N.jsx)(p.b,{to:"/".concat(l.params.location,"/settings/location"),className:s.link,children:Object(N.jsx)(De.a,{button:!0,className:s.nested,children:Object(N.jsx)(Re.a,{primary:o("main.menu.settings.location")})})}),Object(N.jsx)(p.b,{to:"/".concat(l.params.location,"/settings/category"),className:s.link,children:Object(N.jsx)(De.a,{button:!0,className:s.nested,children:Object(N.jsx)(Re.a,{primary:o("main.menu.settings.category")})})}),Object(N.jsx)(p.b,{to:"/".concat(l.params.location,"/settings/room"),className:s.link,children:Object(N.jsx)(De.a,{button:!0,className:s.nested,children:Object(N.jsx)(Re.a,{primary:o("main.menu.settings.room")})})})]})]}),Object(N.jsxs)(De.a,{button:!0,onClick:function(){sessionStorage.setItem(X,"1"),window.location.reload()},children:[Object(N.jsx)(Ie.a,{title:o("main.menu.refresh"),children:Object(N.jsx)(Te.a,{children:Object(N.jsx)(_e.a,{})})}),Object(N.jsx)(Re.a,{primary:o("main.menu.refresh")})]})]})]}),Object(N.jsxs)("main",{className:s.content,children:[Object(N.jsx)("div",{className:s.appBarSpacer}),Object(N.jsxs)(y.a,{maxWidth:"lg",className:s.container,children:[z,Object(N.jsx)(D.a,{pt:4,children:Object(N.jsx)(M,{})})]})]})]})})}):Object(N.jsx)(N.Fragment,{})},rt=a(176);function nt(){var e=Object(r.useState)(new Date),t=Object(v.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)(!1),c=Object(v.a)(i,2),o=c[0],s=c[1],l=Object(r.useState)(0),d=Object(v.a)(l,2),u=d[0],j=d[1];Object(r.useEffect)((function(){Q()||$("selectedDate",a.getTime().toString())}),[a]),Object(r.useEffect)((function(){j(o?7:1)}),[o]);return[a,n,function(e){e&&n(e)},function(){n((function(e){return e?Object(rt.a)(e,-1*u):e}))},function(){n((function(e){return e?Object(rt.a)(e,u):e}))},s]}var it=a(111),ct=a.n(it),ot=a(418),st=a.n(ot),lt=a(427),dt=a.n(lt),ut=a(419),jt=a.n(ut),bt=a(308),mt=a.n(bt),pt=a(307),Ot=a.n(pt),ft=a(420),ht=a.n(ft),gt=a(421),vt=a.n(gt),xt=a(423),yt=a.n(xt),kt=a(424),wt=a.n(kt),Ct=a(425),Dt=a.n(Ct),Tt=a(428),St=a.n(Tt),Nt=a(422),Mt=a.n(Nt),It=a(426),Rt=a.n(It),Et=a(429),Ft=a.n(Et),Pt={Add:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(st.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(jt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(Ot.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(ht.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(mt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(vt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(Mt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(yt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(wt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(Dt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(mt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(we.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(Ot.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(Rt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(dt.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(St.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(N.jsx)(Ft.a,Object(ne.a)(Object(ne.a)({},e),{},{ref:t}))}))},Lt={paging:!0,pageSize:10,pageSizeOptions:[5,10,20,50]};function Bt(e){var t=e.dataDialogHook,a=Object(r.useState)(null),n=Object(v.a)(a,2),i=n[0],c=n[1],o=Object(r.useCallback)((function(e){e.isAuthor?t.dispatch({type:"inputOpen"}):t.dispatch({type:"readOpen"}),e.seriesMasterId&&t.dispatch({type:"recConfOpen"}),c(e)}),[t]),s=Object(r.useCallback)((function(e,a){e?t.dispatch({type:"recConfCancel"}):(a&&c(a),t.dispatch({type:"recConfClose"}))}),[t]);return[{currentRow:i},c,o,s]}var Vt=a(182),At="12px 6px",Wt=function(e){var t=e?At:"";return Object(I.a)((function(){return{cellApptTime:{padding:t},cellRoomName:{padding:t},cellTeaSupply:{padding:t},cellRoomStatus:{padding:t},cellReservationName:{padding:t},cellVisitCompany:{padding:t},cellSubject:{padding:t},cellContactAddr:{padding:t},cellCheckIn:{padding:t,overflowWrap:"break-word"},cellCheckOut:{padding:t,overflowWrap:"break-word"},cellComment:{padding:t},declinedApptTime:{textDecoration:"line-through 2px solid red"},declinedRoomName:{"&::after":{wordBreak:"keep-all",marginLeft:5,padding:"1px 5px",color:"red",border:"1px solid red",content:'"'.concat(Vt.a.t("visitdialog.view.resource-status-declined"),'"')}}}}))},Ht=function(e,t,a){var r=e.charAt(0).toUpperCase()+e.slice(1);return Object(Oe.a)(a["cell".concat(r)],"declined"===t.roomStatus&&a["declined".concat(r)])},qt=a(137),zt=Object(l.b)({palette:{primary:{main:qt.a[300]},secondary:{main:j.main}},props:{MuiTableRow:{}},overrides:{MuiTable:{root:{borderCollapse:"separate"}}}}),Yt=function(){var e="thin solid rgba(0, 0, 0, 0.12)";return Object(I.a)((function(t){return{list:{display:"flex","&:first-child > div":{borderTop:e}},title:{boxSizing:"border-box",flexBasis:"25%",padding:"0.7em",backgroundColor:t.palette.primary.light,borderLeft:e,borderBottom:e},field:{boxSizing:"border-box",flexBasis:"75%",padding:"0.7em",borderRight:e,borderBottom:e,whiteSpace:"pre-wrap"},fieldSlim:{boxSizing:"border-box",flexBasis:"75%",padding:"0.2em",borderRight:e,borderBottom:e,whiteSpace:"pre-wrap"},bottomLine:{borderBottom:e}}}))},Jt=a(78),Kt=a(22),Ut=a(254),Gt=a(237),_t=a(150),$t=a.n(_t),Zt=a(245),Xt=a.n(Zt),Qt=a(433),ea=a.n(Qt),ta=a(34),aa=a.n(ta),ra=["rooms","free"],na=["outside","inside"],ia=["none"].concat(na);function ca(e,t){return oa.apply(this,arguments)}function oa(){return(oa=Object(g.a)(h.a.mark((function e(t,a){var r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(t,a);case 3:if(r=e.sent,!(n=r.parsedBody)){e.next=9;break}return e.abrupt("return",Promise.resolve(n));case 9:return e.abrupt("return",Promise.reject(new Error("No Result Error")));case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Promise.reject(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function sa(e){var t=e.name,a=e.control,r=e.label,n=e.required,i=e.selectList,c=e.multiline,o=e.disabled,s=e.validation,l=e.errors,d=Object(x.a)().t,u=Object(ne.a)({required:!!n&&d("common.form.required")},s);return Object(N.jsx)(Kt.a,{name:t,control:a,rules:u,render:function(e){var a=e.field;return Object(N.jsx)(Gt.a,Object(ne.a)(Object(ne.a)({},a),{},{label:r,disabled:o,multiline:c,select:!!i,error:!!l[t],helperText:l[t]&&l[t].message,children:!!i&&i.map((function(e,a){return Object(N.jsx)(Me.a,{value:e.value,children:e.label},"".concat(t,"-").concat(a))}))}))}})}var la=a(660),da=a(125),ua=a(400),ja=a(28),ba=a(309),ma=a.n(ba),pa=a(149),Oa=a.n(pa),fa=a(430),ha=a.n(fa),ga="1.3em",va=function(e){var t=e.status,a=Object(ja.a)();return"none"===t?Object(N.jsx)(ha.a,{style:{color:a.palette.text.secondary,fontSize:ga}}):"tentativelyAccepted"===t?Object(N.jsx)(ma.a,{style:{color:a.palette.warning.main,fontSize:ga}}):"accepted"===t?Object(N.jsx)(ma.a,{style:{color:a.palette.success.main,fontSize:ga}}):Object(N.jsx)(Oa.a,{style:{color:a.palette.error.main,fontSize:ga}})},xa=["option"],ya=function(e){var t=e.option,a=Object(da.a)(e,xa);return Object(N.jsx)(ua.a,Object(ne.a)({variant:"outlined",size:"small",icon:t.status?va({status:t.status}):void 0,label:t.name,title:t.address,style:{fontSize:"0.9em"}},a))};function ka(e){var t=e.name,a=e.control,n=e.label,i=e.errors,c=e.disabled,o=e.style,s=Object(x.a)().t,l=Object(r.useState)(""),d=Object(v.a)(l,2),u=d[0],j=d[1],b=Xe("",[]),m=Object(v.a)(b,3),p=m[0],O=p.data,f=p.isLoading,y=m[2];Object(r.useEffect)((function(){y(u?"/user/addressbook?filter=".concat(u):"")}),[u,y]);var k=Object(r.useState)(!1),w=Object(v.a)(k,2),C=w[0],D=w[1];Object(r.useEffect)((function(){C||j("")}),[C]);var T=function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)(Kt.a,{name:t,control:a,render:function(e){var a=e.field;return Object(N.jsx)(la.a,Object(ne.a)(Object(ne.a)({},a),{},{disabled:c,style:o,multiple:!0,limitTags:c?void 0:2,size:"small",open:C,onOpen:function(){D(!0)},onClose:function(){D(!1)},options:O&&u?O:[],filterOptions:function(e,t){return e},noOptionsText:s("auto-complete.no-options-text"),loading:f,getOptionLabel:function(e){return"".concat(e.name," <").concat(e.address,">")},renderTags:function(e,t){return e.map((function(e,a){return Object(N.jsx)(ya,Object(ne.a)({option:e},t({index:a})))}))},filterSelectedOptions:!0,getOptionSelected:function(e,t){return e.address===t.address},renderInput:function(e){return Object(N.jsx)(Gt.a,Object(ne.a)(Object(ne.a)({},e),{},{label:n,error:!!i[t],helperText:i[t]&&i[t].message,InputProps:Object(ne.a)(Object(ne.a)({},e.InputProps),{},{endAdornment:Object(N.jsxs)(N.Fragment,{children:[f?Object(N.jsx)(E.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}),onChange:function(e){""===e.target.value&&null===e.target.value||T(e.target.value)}}))},onChange:function(e,t){return a.onChange(t)}}))}})}var wa=a(617),Ca=a(618),Da=a(619),Ta=a(647),Sa=Object(I.a)((function(e){return Object(fe.a)({root:{margin:0,padding:e.spacing(1.5),paddingLeft:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(.75),top:e.spacing(.75),color:e.palette.grey[500]}})}));function Na(e){var t=e.open,a=e.onClose,r=e.title,n=e.children,i=Object(x.a)().t,c=Sa();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(wa.a,{open:t,onClose:function(e,t){t&&"backdropClick"===t||a()},fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title",children:[Object(N.jsxs)(Ta.a,{id:"form-dialog-title",className:c.root,children:[r,Object(N.jsx)(Ce.a,{className:c.closeButton,onClick:a,children:Object(N.jsx)(Oa.a,{})})]}),Object(N.jsx)(Da.a,{dividers:!0,children:n}),Object(N.jsx)(Ca.a,{style:{display:"none"},children:Object(N.jsx)(C.a,{onClick:a,children:i("common.button.cancel")})})]})})}var Ma=["none","tentativelyAccepted","accepted","declined"],Ia=function(){var e=Object(x.a)().t;return Object(N.jsx)(N.Fragment,{children:Ma.map((function(t,a){return Object(N.jsx)(ua.a,{variant:"outlined",size:"small",icon:va({status:t}),label:e("visitdialog.notes.user-status-".concat(aa.a.kebabCase(t))),style:{fontSize:"0.9em",marginLeft:"5px",border:"none"}},a)}))})},Ra=a(41),Ea=a(651),Fa=a(152),Pa=Object(I.a)({timerSelectRoot:{"& svg":{display:"none"}},timerSelect:{paddingRight:"15px !important"},colon:{margin:"auto 3px"}}),La=function(e){return 1e3*Math.ceil(e.getTime()/1e3/60/5)*60*5},Ba=function(e){return Object(Ea.a)(La(e),0)},Va=function(e){var t=Object(Ea.a)(La(e),30);return Object(Fa.a)(e).getTime()!==Object(Fa.a)(t).getTime()&&(t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,55)),t},Aa=Object(Ra.a)(Array(24)).map((function(e,t){return t})).map((function(e){return{label:e,value:e}})),Wa=Object(Ra.a)(Array(12)).map((function(e,t){return 5*t})).map((function(e){return{label:e,value:e}}));var Ha=function(e){var t=e.selected,a=e.onChange,r=e.error,n=Pa();return Object(N.jsxs)(Ut.a,{container:!0,children:[Object(N.jsx)(Ut.a,{item:!0,children:Object(N.jsx)(Gt.a,{className:n.timerSelectRoot,select:!0,value:t.getHours(),onChange:function(e){a(new Date(t.getFullYear(),t.getMonth(),t.getDate(),Number(e.target.value),t.getMinutes()))},inputProps:{className:n.timerSelect},error:r,children:Aa.map((function(e,t){return Object(N.jsx)(Me.a,{value:e.value,children:("00"+Number(e.label)).slice(-2)},"hour-".concat(t))}))})}),Object(N.jsx)(Ut.a,{item:!0,className:n.colon,children:":"}),Object(N.jsx)(Ut.a,{item:!0,children:Object(N.jsx)(Gt.a,{className:n.timerSelectRoot,select:!0,value:t.getMinutes(),onChange:function(e){a(new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),Number(e.target.value)))},inputProps:{className:n.timerSelect},error:r,children:Wa.map((function(e,t){return Object(N.jsx)(Me.a,{value:e.value,children:("00"+Number(e.label)).slice(-2)},"minute-".concat(t))}))})})]})},qa=a(646);function za(e){var t=e.open,a=e.onClose,r=e.title,n=e.message,i=e.color;return Object(N.jsx)("div",{children:Object(N.jsxs)(wa.a,{open:t,onClose:function(){a(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[!!r&&Object(N.jsx)(Ta.a,{id:"alert-dialog-title",children:r}),Object(N.jsx)(Da.a,{children:Object(N.jsx)(qa.a,{id:"alert-dialog-description",children:n})}),Object(N.jsxs)(Ca.a,{children:[Object(N.jsx)(C.a,{onClick:function(){a(!0)},color:i,children:"OK"}),Object(N.jsx)(C.a,{onClick:function(){a(!1)},color:i,autoFocus:!0,children:"CANCEL"})]})]})})}var Ya=a(301),Ja=a(370),Ka=a(649),Ua=Object(I.a)({roomComment:{whiteSpace:"pre-line",fontSize:"0.75rem",lineHeight:"1rem",padding:"0 5px 5px 5px"}});function Ga(e){var t=e.control,a=e.setValue,n=e.getValues,i=e.clearErrors,c=e.rooms,o=e.roomsLoading,s=e.roomId,l=e.disabledVisitor,d=e.disabledRoom,u=e.errors,j=Object(x.a)().t,b=Ua(),m=Object(r.useState)(!1),p=Object(v.a)(m,2),O=p[0],f=p[1],h=Object(Kt.f)({control:t,name:"resourcies.".concat(s,".roomForEdit")});Object(r.useEffect)((function(){if("upd"!==n("mode"))if(h&&c){var e=c.some((function(e){return e.id===h&&e.teaSupply[n("usageRange")]}));e||a("resourcies.".concat(s,".teaSupply"),!1,{shouldDirty:!0}),f(!e)}else a("resourcies.".concat(s,".teaSupply"),!1,{shouldDirty:!0}),f(!0)}),[n,s,h,c,a]);var g=Object(r.useState)(!1),y=Object(v.a)(g,2),k=y[0],C=y[1],T=Object(Kt.f)({control:t,name:"resourcies.".concat(s,".teaSupply")});Object(r.useEffect)((function(){T||(i(["resourcies.".concat(s,".numberOfTeaSupply"),"resourcies.".concat(s,".teaDetails")]),a("resourcies.".concat(s,".numberOfTeaSupply"),0,{shouldDirty:!0}),a("resourcies.".concat(s,".teaDetails"),"",{shouldDirty:!0})),C(!T)}),[T,a,s,i]);var S=Object(r.useState)(""),M=Object(v.a)(S,2),I=M[0],R=M[1];Object(r.useEffect)((function(){if(h&&c){var e=c.filter((function(e){return e.id===h&&!!e.comment}))[0],t=e?e.comment:"";R(t)}else R("")}),[h,c]);var F=function(e){return Object(ta.get)(u,"resourcies.".concat(s,".").concat(e))};return o?Object(N.jsx)(D.a,{px:2,children:Object(N.jsx)(Gt.a,{label:j("visittable.header.room-name"),value:j("visitdialog.notes.loading-rooms"),disabled:!0,InputProps:{endAdornment:Object(N.jsx)(Ya.a,{position:"end",children:Object(N.jsx)(E.a,{color:"inherit",style:{padding:10}})})}})}):o||0!==(null===c||void 0===c?void 0:c.length)?Object(N.jsxs)(D.a,{px:2,children:[Object(N.jsx)(Kt.a,{name:"resourcies.".concat(s,".roomForEdit"),control:t,rules:{required:j("common.form.required"),validate:function(e){return c.some((function(t){return t.id===e}))?void 0:j("visitdialog.form.error.room-not-covered")}},render:function(e){var t=e.field;return Object(N.jsx)(Gt.a,Object(ne.a)(Object(ne.a)({},t),{},{select:!0,disabled:d,label:j("visittable.header.event-room"),error:!!F("roomForEdit"),helperText:!!F("roomForEdit")&&F("roomForEdit").message,children:c.map((function(e){return Object(N.jsx)(Me.a,{value:e.id,children:e.name},e.id)}))}))}}),Object(N.jsx)(w.a,{component:"div",className:b.roomComment,children:I}),Object(N.jsxs)(Ut.a,{container:!0,spacing:1,style:O?{display:"none"}:void 0,children:[Object(N.jsx)(Ut.a,{item:!0,xs:5,sm:4,children:Object(N.jsx)(Ja.a,{control:Object(N.jsx)(Kt.a,{name:"resourcies.".concat(s,".teaSupply"),control:t,render:function(e){var t=e.field;return Object(N.jsx)(Ka.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary",disabled:O})}}),label:j("visittable.header.tea-supply")})}),Object(N.jsx)(Ut.a,{item:!0,xs:2,sm:4,style:l?{opacity:0}:void 0}),Object(N.jsx)(Ut.a,{item:!0,xs:5,sm:4,children:Object(N.jsx)(Kt.a,{name:"resourcies.".concat(s,".numberOfTeaSupply"),control:t,rules:{required:j("common.form.required"),validate:function(){return n("resourcies.".concat(s,".teaSupply"))&&n("resourcies.".concat(s,".numberOfTeaSupply"))>0||!n("resourcies.".concat(s,".teaSupply"))&&0===n("resourcies.".concat(s,".numberOfTeaSupply"))||j("visitdialog.form.error.number-of-tea-supply")}},render:function(e){var t=e.field;return Object(N.jsx)(Gt.a,Object(ne.a)(Object(ne.a)({type:"number",inputProps:{min:0,style:{textAlign:"right"}}},t),{},{disabled:k,label:j("visittable.header.number-of-tea-supply"),error:!!F("numberOfTeaSupply"),helperText:!!F("numberOfTeaSupply")&&F("numberOfTeaSupply").message}))}})}),Object(N.jsx)(Kt.a,{name:"resourcies.".concat(s,".teaDetails"),control:t,render:function(e){var t=e.field;return Object(N.jsx)(Gt.a,Object(ne.a)(Object(ne.a)({style:k?{display:"none"}:void 0,multiline:!0},t),{},{disabled:k,label:j("visittable.header.tea-details"),error:!!F("teaDetails"),helperText:!!F("teaDetails")&&F("teaDetails").message}))}})]})]}):Object(N.jsx)(D.a,{px:2,style:{textAlign:"center",color:"red"},children:j("visitdialog.notes.no-relevant-rooms")})}var _a=Yt(),$a=function(e){switch(e){case"accepted":return"visitdialog.view.resource-status-accepted";case"declined":return"visitdialog.view.resource-status-declined";default:return""}};function Za(e){var t=e.data,a=e.hiddenTeaSupply,r=Object(x.a)().t,n=_a();return Object(N.jsx)(D.a,{px:2,pt:2,children:Object(N.jsxs)(xe.a,{disablePadding:!0,children:[Object(N.jsxs)("li",{className:n.list,children:[Object(N.jsx)("div",{className:n.title,children:r("visittable.header.room-name")}),Object(N.jsx)("div",{className:n.field,children:t.roomName})]},"room-name"),Object(N.jsxs)("li",{className:n.list,children:[Object(N.jsx)("div",{className:n.title,children:r("visittable.header.resource-status")}),Object(N.jsx)("div",{className:n.field,children:r($a(t.roomStatus))})]},"resource-status"),!a&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("li",{className:n.list,children:[Object(N.jsx)("div",{className:n.title,children:r("visittable.header.tea-supply")}),Object(N.jsx)("div",{className:n.field,style:{flexBasis:"25%",borderRight:"none"},children:t.teaSupply?r("visitdialog.form.tea-supply-yes"):r("visitdialog.form.tea-supply-no")}),Object(N.jsx)("div",{className:n.title,style:{flexBasis:"25%",borderLeft:"none"},children:r("visittable.header.number-of-tea-supply")}),Object(N.jsx)("div",{className:n.field,style:{flexBasis:"25%"},children:t.numberOfTeaSupply})]},"tea-supply"),t.teaSupply&&Object(N.jsxs)("li",{className:n.list,children:[Object(N.jsx)("div",{className:n.title,children:r("visittable.header.tea-details")}),Object(N.jsx)("div",{className:n.field,children:t.teaDetails})]},"tea-details")]})]})})}var Xa=a(282);function Qa(e){var t=e.name,a=e.control,r=e.getValues,n=e.label,i=e.handleDateTimeChange,c=e.errors,o=Object(x.a)().t;return Object(N.jsx)(Kt.a,{name:t,control:a,rules:{required:o("common.form.required"),validate:function(){return r("startTime").getTime()<r("endTime").getTime()||o("visitdialog.form.error.event-time")}},render:function(e){var a=e.field;return Object(N.jsx)(Xa.a,Object(ne.a)(Object(ne.a)({},a),{},{onChange:function(e){a.onChange(e),i()},ampm:!1,format:"yyyy/MM/dd HH:mm",disablePast:!0,minutesStep:5,label:n,error:!!c[t],helperText:c[t]&&c[t].message,ref:null}))}})}var er=a(431),tr=a.n(er);var ar=function(e){var t=e.name,a=e.status,r=Object(x.a)().t;return Object(N.jsxs)(N.Fragment,{children:[t,"declined"===a&&Object(N.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",flexWrap:"wrap",color:"red",verticalAlign:"bottom",marginLeft:15,fontSize:"0.95em"},children:[Object(N.jsx)(tr.a,{fontSize:"small",style:{marginRight:3}}),r("visitdialog.notes.reservation-status-declined")]})]})},rr=a(33),nr=a(108),ir=function(e){var t=e.datetime,a=Object(r.useContext)(rr.b);return Object(N.jsx)(N.Fragment,{children:Object(nr.default)(t,"yyyy/MM/dd HH:mm:ss",{locale:null===a||void 0===a?void 0:a.locale})})},cr=a(179),or=a(417),sr=a(432),lr=a(299),dr=a(398),ur=a(300),jr=a(310),br=a.n(jr),mr=["daily","weekly","absoluteMonthly","relativeMonthly","absoluteYearly","relativeYearly"],pr=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Or=["first","second","third","fourth","last"],fr=["endDate","numbered"],hr=a(281),gr=Object(I.a)({keyboardDatePicker:{"& .MuiOutlinedInput-adornedEnd":{paddingRight:0},width:"fit-content"},helperText:{marginLeft:0,marginRight:0,textAlign:"center"}});var vr=function(e){var t=e.label,a=e.date,r=e.onChange,n=e.disablePast,i=e.error,c=Object(x.a)().t,o=gr();return Object(N.jsx)(hr.b,{margin:"normal",id:"date-picker-dialog",label:t,format:"yyyy/MM/dd",showTodayButton:!0,disablePast:n,value:a,onChange:r,KeyboardButtonProps:{"aria-label":"change date"},size:"small",className:o.keyboardDatePicker,inputProps:{style:{width:90},autoComplete:"off"},error:i,invalidDateMessage:Object(N.jsx)(ur.a,{className:o.helperText,error:!0,children:c("common.error.Invalid-date")}),minDateMessage:Object(N.jsx)(ur.a,{className:o.helperText,error:!0,children:c("common.error.Invalid-min-date")}),maxDateMessage:Object(N.jsx)(ur.a,{className:o.helperText,error:!0,children:c("common.error.Invalid-max-date")})})},xr=Object(I.a)({datePicker:{width:"fit-content",marginRight:20},helperText:{marginLeft:0,marginRight:0,textAlign:"center"}});var yr=function(e){var t=e.label,a=e.date,r=e.onChange,n=e.disablePast,i=e.error,c=Object(x.a)().t,o=xr();return Object(N.jsx)(hr.a,{margin:"normal",id:"date-picker-dialog",label:t,format:"yyyy/MM/dd",showTodayButton:!0,disablePast:n,value:a,onChange:r,size:"small",className:o.datePicker,error:i,invalidDateMessage:Object(N.jsx)(ur.a,{className:o.helperText,error:!0,children:c("common.error.Invalid-date")}),minDateMessage:Object(N.jsx)(ur.a,{className:o.helperText,error:!0,children:c("common.error.Invalid-min-date")}),maxDateMessage:Object(N.jsx)(ur.a,{className:o.helperText,error:!0,children:c("common.error.Invalid-max-date")})})},kr=Object(I.a)({time:{marginTop:"auto",marginBottom:"auto"},timeBetween:{margin:"auto"},error:{marginTop:-5}});function wr(e){var t=e.label,a=e.start,r=e.end,n=e.onDateChange,i=e.onStartChange,c=e.onEndChange,o=e.disablePast,s=e.errMsg,l=kr();return Object(N.jsxs)(Ut.a,{container:!0,children:[Object(N.jsxs)(Ut.a,{item:!0,container:!0,children:[Object(N.jsx)(Ut.a,{item:!0,xs:12,sm:5,children:Object(N.jsx)(yr,{label:t,date:a,disablePast:o,onChange:function(e){e&&n(e)},error:!!s})}),Object(N.jsxs)(Ut.a,{container:!0,item:!0,xs:12,sm:7,children:[Object(N.jsx)(Ut.a,{item:!0,className:l.time,children:Object(N.jsx)(Ha,{selected:a,onChange:i,error:!!s})}),Object(N.jsx)(Ut.a,{item:!0,className:l.timeBetween,children:"-"}),Object(N.jsx)(Ut.a,{item:!0,className:l.time,children:Object(N.jsx)(Ha,{selected:r,onChange:c,error:!!s})})]})]}),!!s&&Object(N.jsx)(Ut.a,{item:!0,xs:12,children:Object(N.jsx)(ur.a,{className:l.error,error:!0,children:s})})]})}var Cr=function(e){var t,a,r=e.recurrence,n=e.start,i=e.end,c=Object(x.a)().t,o=null===(t=r.pattern.daysOfWeek)||void 0===t?void 0:t.map((function(e){return c("recurrence-dialog.pattern.day-of-week.".concat(e))})).join(", "),s=(null===(a=r.pattern.dayOfMonth)||void 0===a?void 0:a.toString())+c("recurrence-info.pattern.day-of-month"),l=c("recurrence-dialog.pattern.index.".concat(r.pattern.index)),d=c("recurrence-dialog.pattern.month.".concat(r.pattern.month)),u="",j="";switch(r.pattern.type){case"daily":u="day";break;case"weekly":u="week",j=" "+o;break;case"absoluteMonthly":u="month",j=" "+s;break;case"relativeMonthly":u="month",j=" "+l+o;break;case"absoluteYearly":u="year",j=" "+d+s;break;case"relativeYearly":u="year",j=" "+d+l+o}var b=1===r.pattern.interval?"":r.pattern.interval.toString(),m=1===r.pattern.interval?"every-":"",p=b+c("recurrence-info.pattern.interval.".concat(m+u))+j,O=Object(nr.default)(n,"HH:mm")+"-"+Object(nr.default)(i,"HH:mm"),f=r.range.startDate+c("recurrence-info.range.to")+r.range.endDate+c("recurrence-info.range.valid-from");return Object(N.jsx)(N.Fragment,{children:p+" "+O+"  "+f})},Dr=a(652),Tr=Object(I.a)((function(e){return Object(fe.a)({root:{margin:0,padding:e.spacing(1.5),paddingLeft:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(.75),top:e.spacing(.75),color:e.palette.grey[500]},inputInterval:{width:70},inputDayOfMonth:{width:70},datePicker:{margin:"auto 0"},error:{margin:"-2px 10px",lineHeight:"1.4em"}})})),Sr=pr.reduce((function(e,t){return e[t]=!1,e}),{}),Nr=function(e,t){var a=aa.a.cloneDeep(Sr);return a[pr[(new Date).getDay()]]=!0,{startTime:e,endTime:t,pattern:{type:mr[0],interval:1,daysOfWeek:a,dayOfMonth:1,index:Or[0],month:1},range:{type:fr[0],endDate:Object(cr.a)(Object(Fa.a)(e),1),numberOfOccurrences:1}}},Mr={pattern:{type:void 0,interval:void 0,daysOfWeek:void 0,dayOfMonth:void 0,index:void 0,month:void 0},range:{type:void 0,endDate:void 0,numberOfOccurrences:void 0}};function Ir(e){var t=e.activeRoomSelect,a=e.activeSearchButton,n=e.getValues,i=e.setValue,c=e.clearErrors,o=e.errors,s=Object(x.a)().t,l=Object(r.useContext)(rr.b),d=Tr(),u=Object(r.useState)(!1),j=Object(v.a)(u,2),b=j[0],m=j[1],p=Object(r.useState)(!1),O=Object(v.a)(p,2),f=O[0],y=O[1],k=Object(r.useState)(aa.a.cloneDeep(Nr(n("startTime"),n("endTime")))),T=Object(v.a)(k,2),S=T[0],M=T[1],I=Object(r.useState)(aa.a.cloneDeep(Mr)),R=Object(v.a)(I,2),E=R[0],F=R[1];Object(r.useEffect)((function(){var e=Object(ne.a)({},Nr(n("startTime"),n("endTime")));b&&n("recurrence")?M({startTime:n("startTime"),endTime:n("endTime"),pattern:{type:n("recurrence").pattern.type,interval:n("recurrence").pattern.interval,daysOfWeek:n("recurrence").pattern.daysOfWeek&&n("recurrence").pattern.daysOfWeek.length>0?pr.reduce((function(e,t){return e[t]=n("recurrence").pattern.daysOfWeek.filter((function(e){return e===t})).length>0,e}),{}):e.pattern.daysOfWeek,dayOfMonth:n("recurrence").pattern.dayOfMonth?n("recurrence").pattern.dayOfMonth:e.pattern.dayOfMonth,index:n("recurrence").pattern.index?n("recurrence").pattern.index:e.pattern.index,month:n("recurrence").pattern.month?n("recurrence").pattern.month:e.pattern.month},range:{type:n("recurrence").range.type,endDate:n("recurrence").range.endDate?new Date(n("recurrence").range.endDate):e.range.endDate,numberOfOccurrences:n("recurrence").range.numberOfOccurrences?n("recurrence").range.numberOfOccurrences:e.range.numberOfOccurrences}}):M(aa.a.cloneDeep(e)),F(aa.a.cloneDeep(Mr))}),[n,b]);var P=function(){m(!0)},L=function(){var e=Object(g.a)(h.a.mark((function e(){var t,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=n("iCalUId"))){e.next=10;break}return e.next=5,W("/event/checkinstances/".concat(t));case 5:if(a=e.sent,!(null===(r=a.parsedBody)||void 0===r?void 0:r.isIncludesException)){e.next=10;break}return y(!0),e.abrupt("return");case 10:B(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=!1,a=aa.a.cloneDeep(Mr),r=Object(Fa.a)(S.startTime),n=Object(or.a)(r,5);if(S.startTime.getTime()>S.endTime.getTime()&&(a.startTime=["".concat(s("recurrence-dialog.error.event-time"))],e=!0),r.getTime()>S.range.endDate.getTime()?(a.range.endDate=["".concat(s("recurrence-dialog.error.range.end-date"))],e=!0):n.getTime()<S.range.endDate.getTime()&&(a.range.endDate=["".concat(s("recurrence-dialog.error.range.end-date.max"))],e=!0),F(a),!e){var o=Object.keys(S.pattern.daysOfWeek).filter((function(e){return S.pattern.daysOfWeek[e]}));0===o.length&&o.push(pr[(new Date).getDay()]);var l={type:S.pattern.type,interval:S.pattern.interval};switch(S.pattern.type){default:break;case"weekly":l.daysOfWeek=o;break;case"absoluteMonthly":l.dayOfMonth=S.pattern.dayOfMonth;break;case"relativeMonthly":l.daysOfWeek=o,l.index=S.pattern.index;break;case"absoluteYearly":l.dayOfMonth=S.pattern.dayOfMonth,l.month=S.pattern.month;break;case"relativeYearly":l.daysOfWeek=o,l.index=S.pattern.index,l.month=S.pattern.month}var d={type:S.range.type,startDate:A(r)};switch(S.range.type){case"endDate":d.endDate=A(S.range.endDate);break;case"numbered":d.numberOfOccurrences=S.range.numberOfOccurrences}c(["recurrence","startTime","endTime"]),i("recurrence",{pattern:l,range:d},{shouldDirty:!0}),i("startTime",S.startTime,{shouldDirty:!0}),i("endTime",S.endTime,{shouldDirty:!0}),t(),m(!1)}},V=function(){m(!1)},A=function(e){return Object(nr.default)(e,"yyyy-MM-dd",{locale:null===l||void 0===l?void 0:l.locale})},H=mr.map((function(e){return{label:s("recurrence-dialog.pattern.type.".concat(e)),value:e}})),q=pr.map((function(e){return{label:s("recurrence-dialog.pattern.day-of-week.".concat(e)),value:e}})),z=Or.map((function(e){return{label:s("recurrence-dialog.pattern.index.".concat(e)),value:e}})),Y=Object(Ra.a)(Array(12)).map((function(e,t){return t+1})).map((function(e){return{label:s("recurrence-dialog.pattern.month.".concat(e)),value:e}})),J=Object(r.useMemo)((function(){return Object(N.jsx)(lr.a,{row:!0,children:pr.map((function(e,t){return Object(N.jsx)(Ja.a,{control:Object(N.jsx)(dr.a,{checked:S.pattern.daysOfWeek[e],onChange:function(e){M((function(t){return Object(ne.a)(Object(ne.a)({},t),{},{pattern:Object(ne.a)(Object(ne.a)({},t.pattern),{},{daysOfWeek:Object(ne.a)(Object(ne.a)({},t.pattern.daysOfWeek),{},Object(Jt.a)({},e.target.name,e.target.checked))})})}))},name:e,color:"primary"}),label:s("recurrence-dialog.pattern.day-of-week.".concat(e))},t)}))})}),[S,s]),K=Object(r.useMemo)((function(){return Object(N.jsx)(Gt.a,{label:s("recurrence-dialog.header.pattern.days-of-week"),select:!0,value:Object.keys(S.pattern.daysOfWeek).filter((function(e){return S.pattern.daysOfWeek[e]})).length>0?Object.keys(S.pattern.daysOfWeek).filter((function(e){return S.pattern.daysOfWeek[e]})):pr[0],onChange:function(e){var t=aa.a.cloneDeep(Sr);t[e.target.value]=!0,M((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{pattern:Object(ne.a)(Object(ne.a)({},e.pattern),{},{daysOfWeek:aa.a.cloneDeep(t)})})}))},error:!!E.pattern.daysOfWeek,helperText:E.pattern.daysOfWeek,children:q.map((function(e,t){return Object(N.jsx)(Me.a,{value:e.value,children:e.label},t)}))})}),[q,E.pattern.daysOfWeek,S,s]),U=Object(r.useMemo)((function(){return Object(N.jsx)(Gt.a,{label:s("recurrence-dialog.header.pattern.index"),select:!0,value:S.pattern.index,onChange:function(e){M((function(t){return Object(ne.a)(Object(ne.a)({},t),{},{pattern:Object(ne.a)(Object(ne.a)({},t.pattern),{},{index:e.target.value})})}))},error:!!E.pattern.index,helperText:E.pattern.index,children:z.map((function(e,t){return Object(N.jsx)(Me.a,{value:e.value,children:e.label},t)}))})}),[E.pattern.index,S,s,z]),G=Object(r.useMemo)((function(){return Object(N.jsx)(Gt.a,{className:d.inputDayOfMonth,label:s("recurrence-dialog.header.pattern.day-of-month"),type:"number",inputProps:{min:1,max:31,style:{textAlign:"right"}},value:S.pattern.dayOfMonth,onChange:function(e){var t=Number(e.target.value);t<1&&(t=1),t>31&&(t=31),M((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{pattern:Object(ne.a)(Object(ne.a)({},e.pattern),{},{dayOfMonth:t})})}))},error:!!E.pattern.dayOfMonth,helperText:E.pattern.dayOfMonth})}),[d.inputDayOfMonth,E.pattern.dayOfMonth,S,s]),_=Object(r.useMemo)((function(){return Object(N.jsx)(Gt.a,{label:s("recurrence-dialog.header.pattern.month"),select:!0,value:S.pattern.month,onChange:function(e){M((function(t){return Object(ne.a)(Object(ne.a)({},t),{},{pattern:Object(ne.a)(Object(ne.a)({},t.pattern),{},{month:Number(e.target.value)})})}))},error:!!E.pattern.month,helperText:E.pattern.month,children:Y.map((function(e,t){return Object(N.jsx)(Me.a,{value:e.value,children:e.label},t)}))})}),[E.pattern.month,S,s,Y]);return Object(N.jsxs)(N.Fragment,{children:[!n("recurrence")&&Object(N.jsx)(C.a,{size:"small",color:"primary",startIcon:Object(N.jsx)(br.a,{}),onClick:P,children:s("visitdialog.button.set-recurrence")}),!!n("recurrence")&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Gt.a,{label:s("visitdialog.notes.recurrence-info"),value:Object(sr.renderToString)(Object(N.jsx)(Cr,{recurrence:n("recurrence"),start:n("startTime"),end:n("endTime")})),multiline:!0,disabled:!0,inputProps:{minRows:1},error:!!o.recurrence}),!!o.recurrence&&Object(N.jsx)(ur.a,{error:!0,className:d.error,children:o.recurrence.message}),Object(N.jsx)(C.a,{size:"small",color:"primary",startIcon:Object(N.jsx)(br.a,{}),onClick:P,children:s("visitdialog.button.edit-recurrence")})]}),Object(N.jsxs)(wa.a,{open:b,onClose:function(e,t){t&&"backdropClick"===t||V()},fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title",children:[Object(N.jsxs)(Ta.a,{className:d.root,children:[s("recurrence-dialog.title"),Object(N.jsx)(Ce.a,{className:d.closeButton,onClick:V,children:Object(N.jsx)(Oa.a,{})})]}),Object(N.jsxs)(Da.a,{dividers:!0,children:[Object(N.jsx)(D.a,{px:2,py:1,children:Object(N.jsx)(Ut.a,{container:!0,children:Object(N.jsx)(Ut.a,{item:!0,xs:12,sm:10,children:Object(N.jsx)(wr,{label:s("recurrence-dialog.header.appt-date-time"),start:S.startTime,end:S.endTime,onDateChange:function(e){M((function(t){return Object(ne.a)(Object(ne.a)({},t),{},{startTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.startTime.getHours(),t.startTime.getMinutes()),endTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.endTime.getHours(),t.endTime.getMinutes())})}))},onStartChange:function(e){M((function(t){var a=new Date(t.startTime.getFullYear(),t.startTime.getMonth(),t.startTime.getDate(),e.getHours(),e.getMinutes()),r=Va(a);return Object(ne.a)(Object(ne.a)({},t),{},{startTime:a,endTime:r})}))},onEndChange:function(e){M((function(t){return Object(ne.a)(Object(ne.a)({},t),{},{endTime:new Date(t.endTime.getFullYear(),t.endTime.getMonth(),t.endTime.getDate(),e.getHours(),e.getMinutes())})}))},disablePast:"ins"===n("mode"),errMsg:E.startTime?E.startTime:void 0})})})}),Object(N.jsx)(ye.a,{}),Object(N.jsxs)(D.a,{px:2,py:1,children:[Object(N.jsx)(Gt.a,{label:s("recurrence-dialog.header.pattern.type"),select:!0,value:S.pattern.type,onChange:function(e){var t=Object(ne.a)({},Nr(n("startTime"),n("endTime")));t.pattern.type=e.target.value,M((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{pattern:Object(ne.a)({},t.pattern)})}))},error:!!E.pattern.type,helperText:E.pattern.type,children:H.map((function(e,t){return Object(N.jsx)(Me.a,{value:e.value,children:e.label},t)}))}),Object(N.jsxs)(Ut.a,{container:!0,children:[Object(N.jsxs)(Ut.a,{item:!0,xs:12,md:4,container:!0,spacing:1,alignItems:"center",children:[Object(N.jsx)(Ut.a,{item:!0,children:Object(N.jsx)(Gt.a,{className:d.inputInterval,label:s("recurrence-dialog.header.pattern.interval"),type:"number",inputProps:{min:1,style:{textAlign:"right"}},value:S.pattern.interval,onChange:function(e){var t=Number(e.target.value)>0?Number(e.target.value):1;M((function(e){return Object(ne.a)(Object(ne.a)({},e),{},{pattern:Object(ne.a)(Object(ne.a)({},e.pattern),{},{interval:t})})}))},error:!!E.pattern.interval,helperText:E.pattern.interval})}),Object(N.jsx)(Ut.a,{item:!0,children:Object(N.jsx)(w.a,{children:s("recurrence-dialog.label.pattern.interval.".concat(S.pattern.type))})})]}),Object(N.jsx)(Ut.a,{item:!0,style:"weekly"===S.pattern.type?void 0:{display:"none"},children:Object(N.jsxs)($e.a,{error:!!E.pattern.daysOfWeek,children:[J,!!E.pattern.daysOfWeek&&Object(N.jsx)(ur.a,{error:!0,children:E.pattern.daysOfWeek})]})}),Object(N.jsx)(Ut.a,{item:!0,style:"absoluteMonthly"===S.pattern.type?void 0:{display:"none"},children:Object(N.jsxs)(Ut.a,{item:!0,container:!0,spacing:1,alignItems:"center",children:[Object(N.jsx)(Ut.a,{item:!0,children:G}),Object(N.jsx)(Ut.a,{item:!0,children:Object(N.jsx)(w.a,{children:s("recurrence-dialog.label.pattern.day-of-month.absolute")})})]})}),Object(N.jsx)(Ut.a,{item:!0,style:"relativeMonthly"===S.pattern.type?void 0:{display:"none"},children:Object(N.jsxs)(Ut.a,{item:!0,container:!0,spacing:1,alignItems:"center",children:[Object(N.jsx)(Ut.a,{item:!0,children:U}),Object(N.jsx)(Ut.a,{item:!0,children:K}),Object(N.jsx)(Ut.a,{item:!0,children:Object(N.jsx)(w.a,{children:s("recurrence-dialog.label.pattern.day-of-month.relative")})})]})}),Object(N.jsx)(Ut.a,{item:!0,style:"absoluteYearly"===S.pattern.type?void 0:{display:"none"},children:Object(N.jsxs)(Ut.a,{item:!0,container:!0,spacing:1,alignItems:"center",children:[Object(N.jsx)(Ut.a,{item:!0,children:_}),Object(N.jsx)(Ut.a,{item:!0,children:G}),Object(N.jsx)(Ut.a,{item:!0,children:Object(N.jsx)(w.a,{children:s("recurrence-dialog.label.pattern.day-of-month.absolute")})})]})}),Object(N.jsx)(Ut.a,{item:!0,style:"relativeYearly"===S.pattern.type?void 0:{display:"none"},children:Object(N.jsxs)(Ut.a,{item:!0,container:!0,spacing:1,alignItems:"center",children:[Object(N.jsx)(Ut.a,{item:!0,children:_}),Object(N.jsx)(Ut.a,{item:!0,children:U}),Object(N.jsx)(Ut.a,{item:!0,children:K}),Object(N.jsx)(Ut.a,{item:!0,children:Object(N.jsx)(w.a,{children:s("recurrence-dialog.label.pattern.day-of-month.relative")})})]})})]})]}),Object(N.jsx)(ye.a,{}),Object(N.jsxs)(D.a,{px:2,py:1,children:[Object(N.jsx)(Ut.a,{container:!0,spacing:2,children:Object(N.jsx)(Ut.a,{item:!0,className:d.datePicker,children:Object(N.jsx)(vr,{label:s("recurrence-dialog.header.range.end-date"),date:S.range.endDate,disablePast:"ins"===n("mode"),onChange:function(e){e&&M((function(t){return Object(ne.a)(Object(ne.a)({},t),{},{range:Object(ne.a)(Object(ne.a)({},t.range),{},{endDate:e})})}))},error:!!E.range.endDate})})}),!!E.range.endDate&&Object(N.jsx)(ur.a,{error:!0,children:E.range.endDate})]}),Object(N.jsx)(D.a,{p:2,children:Object(N.jsxs)(Ut.a,{container:!0,justifyContent:"space-between",spacing:2,children:[Object(N.jsx)(Ut.a,{item:!0,xs:4,children:Object(N.jsx)(C.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:L,children:s("common.button.ok")})}),Object(N.jsx)(Ut.a,{item:!0,xs:4,children:Object(N.jsx)(C.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:V,children:s("common.button.cancel")})}),Object(N.jsx)(Ut.a,{item:!0,xs:4,children:Object(N.jsx)(C.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){c("recurrence"),i("recurrence",void 0,{shouldDirty:!0}),a(),m(!1)},disabled:void 0===n("recurrence"),children:s("recurrence-dialog.button.release-recurrence")})})]})})]})]}),Object(N.jsx)(za,{open:f,onClose:function(e){y(!1),e&&B()},message:Object(N.jsxs)(ce.a,{severity:"warning",variant:"outlined",children:[Object(N.jsx)(Dr.a,{children:"Warning"}),s("recurrence-dialog.confirm-message-1"),Object(N.jsx)("br",{}),s("recurrence-dialog.confirm-message-2")]})})]})}function Rr(e){var t=e.control,a=e.index,r=e.remove,n=e.disabledVisitor,i=e.errors,c=Object(x.a)().t;return Object(N.jsxs)(Ut.a,{container:!0,spacing:1,children:[Object(N.jsx)(Ut.a,{item:!0,xs:6,children:Object(N.jsx)(Kt.a,{name:"visitCompany.".concat(a,".name"),control:t,rules:{required:!n&&c("common.form.required")},render:function(e){var t,r,o,s,l,d,u,j=e.field;return Object(N.jsx)(Gt.a,Object(ne.a)(Object(ne.a)({},j),{},{label:c("visittable.header.visit-company-name"),disabled:n,error:!!(null===i||void 0===i||null===(t=i.visitCompany)||void 0===t||null===(r=t[a])||void 0===r?void 0:r.name),helperText:(null===i||void 0===i||null===(o=i.visitCompany)||void 0===o||null===(s=o[a])||void 0===s?void 0:s.name)&&(null===i||void 0===i||null===(l=i.visitCompany)||void 0===l||null===(d=l[a])||void 0===d||null===(u=d.name)||void 0===u?void 0:u.message)}))}})}),Object(N.jsx)(Ut.a,{item:!0,xs:5,children:Object(N.jsx)(Kt.a,{name:"visitCompany.".concat(a,".rep"),control:t,render:function(e){var t,r,o,s,l,d,u,j=e.field;return Object(N.jsx)(Gt.a,Object(ne.a)(Object(ne.a)({},j),{},{label:c("visittable.header.visit-company-rep"),disabled:n,error:!!(null===i||void 0===i||null===(t=i.visitCompany)||void 0===t||null===(r=t[a])||void 0===r?void 0:r.rep),helperText:(null===i||void 0===i||null===(o=i.visitCompany)||void 0===o||null===(s=o[a])||void 0===s?void 0:s.rep)&&(null===i||void 0===i||null===(l=i.visitCompany)||void 0===l||null===(d=l[a])||void 0===d||null===(u=d.rep)||void 0===u?void 0:u.message)}))}})}),Object(N.jsx)(Ut.a,{item:!0,xs:1,style:{margin:"auto",marginLeft:"-7px"},children:Object(N.jsx)(Ce.a,{onClick:function(){return r(a)},color:"primary","aria-label":c("common.button.delete"),component:"span",disabled:0===a,children:Object(N.jsx)($t.a,{})})})]})}var Er=Yt(),Fr=Object(I.a)((function(e){return Object(fe.a)({formAction:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},note:{color:"red",fontSize:"0.9em",marginTop:0},usageGuide:{marginTop:"5px"}})})),Pr=Object(l.b)({palette:{primary:{main:j.main},secondary:{main:qt.a[300]}},props:{MuiTextField:{variant:"outlined",margin:"dense",fullWidth:!0,minRows:2}},overrides:{MuiOutlinedInput:{adornedEnd:{paddingRight:0}}}}),Lr="add-room-01",Br="FETCH_INPUT_DIALOG_ROOMS_SELECT",Vr=function(e,t,a,r){var n=t||new Date,i=a||"",c=r||"outside",o=e.contactAddr?e.contactAddr:"";return{mode:"ins",iCalUId:"",subject:"",visitorId:"",visitCompany:"outside"===c?[{name:"",rep:""}]:[],numberOfVisitor:0,numberOfEmployee:0,mailto:{authors:[],required:[],optional:[]},usageRange:c,resourcies:Object(Jt.a)({},Lr,{roomForEdit:i,teaSupply:!1,numberOfTeaSupply:0,teaDetails:""}),comment:"",contactAddr:o,startTime:Ba(n),endTime:Va(n),seriesMasterId:void 0,recurrence:void 0,reservationInfo:void 0}},Ar=function e(t){var a=aa.a.transform(t,(function(t,a,r){!1!==a&&(t[r]=aa.a.isObject(a)?e(a):a)}));return aa.a.transform(a,(function(t,a,r){!0!==a&&aa.a.isEmpty(a)||(t[r]=aa.a.isObject(a)?e(a):a)}))};function Wr(e){var t,a,n=e.open,i=e.onClose,c=e.data,o=e.reload,l=e.addDefault,d=Object(x.a)().t,u=Object(ne.a)(Object(ne.a)({},Er()),Fr()),j=Object(r.useContext)(de),b=Object(r.useContext)(tt),m=Object(O.h)(),p=Object(r.useState)(!1),f=Object(v.a)(p,2),y=f[0],k=f[1],T=Object(r.useMemo)((function(){return Vr(b.userStorage)}),[b.userStorage]),S=Object(Kt.d)({defaultValues:T,reValidateMode:"onSubmit"}),M=S.control,I=S.getValues,R=S.handleSubmit,E=S.reset,F=S.setValue,L=S.trigger,B=S.setError,V=S.clearErrors,A=S.formState,W=A.errors,H=A.isDirty,q=A.isSubmitting,z=A.dirtyFields;Object(r.useEffect)((function(){E(n&&c?{mode:"upd",iCalUId:c.iCalUId,subject:c.subject,visitorId:c.visitorId,visitCompany:c.visitCompany,numberOfVisitor:c.numberOfVisitor,numberOfEmployee:c.numberOfEmployee,mailto:c.mailto,usageRange:c.usageRange,resourcies:Object.keys(c.resourcies).reduce((function(e,t){return e[t]={roomForEdit:t,teaSupply:c.resourcies[t].teaSupply,numberOfTeaSupply:c.resourcies[t].numberOfTeaSupply,teaDetails:c.resourcies[t].teaDetails},e}),{}),comment:c.comment,contactAddr:c.contactAddr,startTime:new Date(c.startDateTime),endTime:new Date(c.endDateTime),seriesMasterId:c.seriesMasterId,recurrence:c.recurrence?{pattern:{type:c.recurrence.pattern.type,interval:c.recurrence.pattern.interval,daysOfWeek:c.recurrence.pattern.daysOfWeek,dayOfMonth:c.recurrence.pattern.dayOfMonth,index:c.recurrence.pattern.index,month:c.recurrence.pattern.month},range:{type:c.recurrence.range.type,startDate:c.recurrence.range.startDate,endDate:c.recurrence.range.endDate}}:void 0,reservationInfo:c.reservationInfo}:aa.a.cloneDeep(Vr(b.userStorage,null===l||void 0===l?void 0:l.start,null===l||void 0===l?void 0:l.roomId,null===l||void 0===l?void 0:l.usageRange)))}),[c,n,E,l,b.userStorage]);var J=Object(r.useState)(!1),K=Object(v.a)(J,2),U=K[0],G=K[1],_=Object(Kt.f)({control:M,name:"usageRange"}),$="/room/choices?location=".concat(m.params.location),Z=Xe("",[],Br),X=Object(v.a)(Z,3),Q=X[0],ee=Q.data,te=Q.isLoading,ae=X[2],re=Object(r.useCallback)((function(){"upd"===I("mode")?ae($):I("recurrence")?ae($+"&usagerange=".concat(I("usageRange"))):ae($+"&start=".concat(I("startTime").getTime(),"&end=").concat(I("endTime").getTime())+"&usagerange=".concat(I("usageRange")))}),[$,I,ae]);Object(r.useEffect)((function(){return n&&re(),function(){Y(Br,"OPTIONAL_REASON")}}),[re,n,_]),Object(r.useEffect)((function(){n||G(!1)}),[n]);var ie=Object(r.useState)(!1),ce=Object(v.a)(ie,2),oe=ce[0],se=ce[1];Object(r.useEffect)((function(){"inside"===_?(V(["visitCompany","numberOfVisitor"]),F("visitCompany",[],{shouldDirty:!0}),F("numberOfVisitor",0,{shouldDirty:!0}),se(!0)):(V("visitCompany"),F("visitCompany",[{name:"",rep:""}],{shouldDirty:!0}),se(!1))}),[V,F,_]);var le=Object(Kt.f)({control:M,name:"startTime"}),ue=Object(Kt.f)({control:M,name:"endTime"}),je=Object(Kt.c)({control:M,name:"visitCompany"}),be=je.fields,me=je.append,pe=je.remove,Oe=Object(Kt.f)({control:M,name:"visitCompany"}),fe=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,r,n,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a="",e.t0=t.mode,e.next="ins"===e.t0?5:"upd"===e.t0?7:"del"===e.t0?9:11;break;case 5:return a="/event/create",e.abrupt("break",11);case 7:return a="/event/update",e.abrupt("break",11);case 9:return a="/event/delete",e.abrupt("break",11);case 11:return e.next=13,ca(a,{inputs:t,dirtyFields:Ar(z)});case 13:if(!(r=e.sent).success){e.next=24;break}if("del"!==t.mode){e.next=18;break}return e.next=18,new Promise((function(e){return setTimeout(e,1e3)}));case 18:return e.next=20,o();case 20:i(),j.dispatch({type:"success",message:d("common.msg.update-success")}),e.next=25;break;case 24:if(r.errors)for(c in n=r.errors)B(s=c,{message:d(n[s][0])});case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(0),j.dispatch({type:"error",message:e.t1.message});case 30:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(["startTime","endTime"]);case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:re(),G(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){"upd"!==I("mode")&&(U||G(!0))},ve=function(){var e=Va(I("startTime"));F("endTime",e,{shouldDirty:!0}),ge()},ye=function(){ge()},ke=function(e){pe(e)};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(P,{open:q}),Object(N.jsx)(Na,{open:n,onClose:i,title:d("visitdialog.title"),children:Object(N.jsxs)(s.a,{theme:Pr,children:[!!c&&Object(N.jsx)(D.a,{px:2,children:Object(N.jsxs)(xe.a,{disablePadding:!0,children:[c.isMSMultipleLocations?Object(N.jsx)("li",{className:u.bottomLine,children:Object(N.jsx)("p",{className:u.note,children:d("visitdialog.notes.multiple-locations")})}):Object(N.jsxs)("li",{className:u.list,children:[Object(N.jsx)("div",{className:u.title,children:d("visittable.header.resource-status")}),Object(N.jsx)("div",{className:u.field,children:d($a(c.roomStatus))})]},"resource-status"),Object(N.jsxs)("li",{className:u.list,children:[Object(N.jsx)("div",{className:u.title,children:d("visittable.header.reservation-name")}),Object(N.jsx)("div",{className:u.field,children:Object(N.jsx)(ar,{name:c.reservationName,status:c.reservationStatus})})]},"reservation-name")]})}),Object(N.jsxs)("form",{children:[Object(N.jsxs)(D.a,{p:2,pb:0,children:[Object(N.jsx)(sa,{name:"subject",control:M,label:d("visittable.header.event-subject"),required:!0,errors:W}),!!c&&Object(N.jsxs)(w.a,{variant:"caption",display:"block",className:u.usageGuide,children:[d("visitdialog.notes.reply-status"),Object(N.jsx)(Ia,{})]}),Object(N.jsx)(ka,{name:"mailto.authors",control:M,label:d("visittable.header.event-mailto-authors"),errors:W,disabled:!0,style:{display:"none"}}),Object(N.jsx)(ka,{name:"mailto.required",control:M,label:d("visittable.header.event-mailto-required"),errors:W,disabled:null===c||void 0===c?void 0:c.isMSMultipleLocations}),Object(N.jsx)(ka,{name:"mailto.optional",control:M,label:d("visittable.header.event-mailto-optional"),errors:W,disabled:null===c||void 0===c?void 0:c.isMSMultipleLocations}),Object(N.jsx)(D.a,{py:1,style:c?{display:"none"}:void 0,children:Object(N.jsx)(sa,{name:"usageRange",control:M,label:d("visittable.header.usage-range"),required:!0,selectList:na.map((function(e){return{label:d("visitdialog.view.usage-range.".concat(e)),value:e}})),disabled:!!c,errors:W})}),Object(N.jsxs)(Ut.a,{container:!0,spacing:1,style:I("recurrence")?{display:"none"}:void 0,children:[Object(N.jsx)(Ut.a,{item:!0,xs:5,style:{display:"none"},children:Object(N.jsx)(Qa,{name:"startTime",control:M,getValues:I,label:d("visittable.header.event-start-time"),handleDateTimeChange:ve,errors:W})}),Object(N.jsx)(Ut.a,{item:!0,xs:5,style:{display:"none"},children:Object(N.jsx)(Qa,{name:"endTime",control:M,getValues:I,label:d("visittable.header.event-end-time"),handleDateTimeChange:ye,errors:W})}),Object(N.jsx)(Ut.a,{item:!0,xs:12,sm:10,children:Object(N.jsx)(wr,{label:d("visittable.header.appt-date-time"),start:le,end:ue,onDateChange:function(e){F("startTime",new Date(e.getFullYear(),e.getMonth(),e.getDate(),I("startTime").getHours(),I("startTime").getMinutes()),{shouldDirty:!0}),ve()},onStartChange:function(e){F("startTime",e,{shouldDirty:!0}),ve()},onEndChange:function(e){F("endTime",e,{shouldDirty:!0}),ye()},disablePast:!c,errMsg:(null===(t=W.startTime)||void 0===t?void 0:t.message)?[null===(a=W.startTime)||void 0===a?void 0:a.message]:void 0})}),Object(N.jsx)(Ut.a,{item:!0,xs:12,sm:2,style:{margin:"auto"},children:Object(N.jsx)(C.a,{onClick:he,variant:"contained",color:"primary",fullWidth:!0,disabled:(null===c||void 0===c?void 0:c.isMSMultipleLocations)||!U,style:"upd"===I("mode")?{display:"none"}:void 0,children:d("common.button.search")})})]}),!(null===c||void 0===c?void 0:c.seriesMasterId)&&b.userStorage.isFront&&Object(N.jsx)(Ut.a,{children:Object(N.jsx)(Ir,{activeRoomSelect:function(){"upd"!==I("mode")&&(G(!1),re())},activeSearchButton:ge,getValues:I,setValue:F,clearErrors:V,errors:W})})]}),c?Object(N.jsx)(N.Fragment,{children:c.isMSMultipleLocations?Object(N.jsx)(s.a,{theme:zt,children:Object.keys(c.resourcies).map((function(e){return Object(N.jsx)(Za,{data:c.resourcies[e]},e)}))}):!U&&Object(N.jsx)(Ga,{control:M,setValue:F,getValues:I,clearErrors:V,rooms:ee,roomsLoading:te,roomId:Object.keys(c.resourcies)[0],disabledRoom:!0,disabledVisitor:"inside"===c.usageRange,errors:W})}):!U&&Object(N.jsx)(Ga,{control:M,setValue:F,getValues:I,clearErrors:V,rooms:ee,roomsLoading:te,roomId:Lr,disabledVisitor:oe,errors:W}),Object(N.jsx)(D.a,{px:2,pt:1,style:oe?{display:"none"}:void 0,children:be.map((function(e,t){return Object(N.jsx)(Rr,{control:M,index:t,remove:ke,disabledVisitor:oe,errors:W},e.id)}))}),Object(N.jsx)(D.a,{px:2,children:Object(N.jsxs)(Ut.a,{container:!0,spacing:1,children:[Object(N.jsx)(Ut.a,{item:!0,xs:12,sm:4,style:oe?{opacity:0}:{margin:"auto"},children:Object(N.jsx)(C.a,{onClick:function(){me({name:"",rep:""})},startIcon:Object(N.jsx)(ea.a,{}),variant:"contained",color:"primary",fullWidth:!0,disabled:Oe.length>2,children:d("visitdialog.button.add-visitor")})}),Object(N.jsx)(Ut.a,{item:!0,xs:6,sm:4,style:oe?{opacity:0}:void 0,children:Object(N.jsx)(Kt.a,{name:"numberOfVisitor",control:M,rules:{required:d("common.form.required"),validate:function(){return"outside"===I("usageRange")&&I("numberOfVisitor")>0||"inside"===I("usageRange")&&0===I("numberOfVisitor")||d("visitdialog.form.error.number-of-visitor")}},render:function(e){var t=e.field;return Object(N.jsx)(Gt.a,Object(ne.a)(Object(ne.a)({type:"number",inputProps:{min:0,style:{textAlign:"right"}}},t),{},{disabled:oe,label:d("visittable.header.number-of-visitor"),error:!!W.numberOfVisitor,helperText:!!W.numberOfVisitor&&W.numberOfVisitor.message}))}})}),Object(N.jsx)(Ut.a,{item:!0,xs:6,sm:4,children:Object(N.jsx)(Kt.a,{name:"numberOfEmployee",control:M,rules:{required:d("common.form.required"),validate:function(){return I("numberOfEmployee")>0||d("visitdialog.form.error.number-of-employee")}},render:function(e){var t=e.field;return Object(N.jsx)(Gt.a,Object(ne.a)(Object(ne.a)({type:"number",inputProps:{min:0,style:{textAlign:"right"}}},t),{},{label:d("visittable.header.number-of-employee"),error:!!W.numberOfEmployee,helperText:!!W.numberOfEmployee&&W.numberOfEmployee.message}))}})})]})}),Object(N.jsxs)(D.a,{p:2,children:[Object(N.jsx)(sa,{name:"comment",control:M,label:d("visittable.header.comment"),multiline:!0,errors:W}),Object(N.jsx)(sa,{name:"contactAddr",control:M,label:d("visittable.header.contact-addr"),required:!0,errors:W})]}),!!c&&Object(N.jsx)(D.a,{px:2,children:Object(N.jsxs)(xe.a,{disablePadding:!0,children:[Object(N.jsxs)("li",{className:u.list,children:[Object(N.jsx)("div",{className:u.title,children:d("visitdialog.header.last-updated")}),Object(N.jsx)("div",{className:u.field,children:Object(N.jsx)(ir,{datetime:c.lastUpdated})})]},"datetime"),Object(N.jsxs)("li",{className:u.list,style:{display:"none"},children:[Object(N.jsx)("div",{className:u.title,children:"reservationInfo"}),Object(N.jsx)("div",{className:u.field,children:JSON.stringify(c.reservationInfo)})]},"info")]})}),Object(N.jsx)(D.a,{px:2,children:Object(N.jsxs)(Ut.a,{container:!0,justifyContent:"space-between",spacing:2,className:u.formAction,children:[Object(N.jsx)(Ut.a,{item:!0,xs:c?6:12,children:Object(N.jsx)(C.a,{onClick:function(){R(fe)()},variant:"contained",color:"primary",disabled:!H||U||te,startIcon:Object(N.jsx)(Xt.a,{}),fullWidth:!0,children:d("visitdialog.button.save")})}),Object(N.jsx)(Ut.a,{item:!0,xs:6,style:c?void 0:{display:"none"},children:Object(N.jsx)(C.a,{onClick:function(){k(!0)},variant:"contained",color:"primary",startIcon:Object(N.jsx)($t.a,{}),fullWidth:!0,children:d("visitdialog.button.delete")})})]})})]})]})}),Object(N.jsx)(za,{open:y,onClose:function(e){k(!1),e&&(F("mode","del"),R(fe)())},message:"seriesMaster"===(null===c||void 0===c?void 0:c.eventType)?d("visitorinfoform.delete-confirm-message.series-master"):d("visitorinfoform.delete-confirm-message"),color:"secondary"})]})}var Hr=Object(I.a)((function(e){return Object(fe.a)({root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}}})}));function qr(e){var t=e.propsKey,a=e.data,r=Hr();return Object(N.jsx)("div",{className:r.root,children:a.map((function(e,a){return Object(N.jsx)(ya,{option:e},"".concat(t,"-").concat(a))}))})}var zr=Yt();function Yr(e){var t=e.open,a=e.onClose,r=e.data,n=Object(x.a)().t,i=zr();return r.isAttendees?Object(N.jsxs)(Na,{open:t,onClose:a,title:n("visitdialog.title"),children:[Object(N.jsx)(D.a,{px:2,pt:2,children:Object(N.jsxs)(xe.a,{disablePadding:!0,children:[Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visittable.header.event-subject")}),Object(N.jsx)("div",{className:i.field,children:r.subject})]},"event-subject"),!(null===r||void 0===r?void 0:r.recurrence)&&Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visittable.header.appt-time")}),Object(N.jsx)("div",{className:i.field,children:r.apptTime})]},"app-time"),!!(null===r||void 0===r?void 0:r.recurrence)&&Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visitdialog.notes.recurrence-info")}),Object(N.jsx)("div",{className:i.field,children:Object(N.jsx)(Cr,{recurrence:null===r||void 0===r?void 0:r.recurrence,start:new Date(null===r||void 0===r?void 0:r.startDateTime),end:new Date(null===r||void 0===r?void 0:r.endDateTime)})})]},"app-time"),Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visittable.header.reservation-name")}),Object(N.jsx)("div",{className:i.field,children:Object(N.jsx)(ar,{name:r.reservationName,status:r.reservationStatus})})]},"reservation-name")]})}),Object(N.jsxs)(D.a,{px:2,pt:2,children:[Object(N.jsxs)(w.a,{variant:"caption",display:"block",gutterBottom:!0,children:[n("visitdialog.notes.reply-status"),Object(N.jsx)(Ia,{})]}),Object(N.jsxs)(xe.a,{disablePadding:!0,children:[Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visittable.header.event-mailto-required")}),Object(N.jsx)("div",{className:i.fieldSlim,children:Object(N.jsx)(qr,{propsKey:"mailto-required",data:r.mailto.required})})]},"mailto-required"),Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visittable.header.event-mailto-optional")}),Object(N.jsx)("div",{className:i.fieldSlim,children:Object(N.jsx)(qr,{propsKey:"mailto-optional",data:r.mailto.optional})})]},"mailto-optional")]})]}),Object.keys(r.resourcies).map((function(e){return Object(N.jsx)(Za,{data:r.resourcies[e]},e)})),Object(N.jsx)(D.a,{px:2,pt:2,style:"inside"===r.usageRange?{display:"none"}:void 0,children:Object(N.jsxs)(xe.a,{disablePadding:!0,children:[Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsxs)("div",{className:i.title,children:[n("visittable.header.visit-company-name")," /",Object(N.jsx)("br",{}),n("visittable.header.visit-company-rep")]}),Object(N.jsx)("div",{className:i.field,children:r.visitCompany.map((function(e,t){return Object(N.jsxs)(N.Fragment,{children:[!!t&&Object(N.jsx)("br",{}),Object(N.jsx)("span",{children:"".concat(e.name," / ").concat(e.rep)})]})}))})]},"visit-company"),Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visittable.header.number-of-visitor")}),Object(N.jsx)("div",{className:i.field,style:{flexBasis:"25%",borderRight:"none"},children:r.numberOfVisitor}),Object(N.jsx)("div",{className:i.title,style:{flexBasis:"25%",borderLeft:"none"},children:n("visittable.header.number-of-employee")}),Object(N.jsx)("div",{className:i.field,style:{flexBasis:"25%"},children:r.numberOfEmployee})]},"number-of-visitor")]})}),Object(N.jsx)(D.a,{p:2,pt:2,children:Object(N.jsxs)(xe.a,{disablePadding:!0,children:[Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visittable.header.comment")}),Object(N.jsx)("div",{className:i.field,children:r.comment})]},"comment"),Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visittable.header.contact-addr")}),Object(N.jsx)("div",{className:i.field,children:r.contactAddr})]},"contact-addr")]})}),Object(N.jsx)(D.a,{px:2,pb:2,children:Object(N.jsx)(xe.a,{disablePadding:!0,children:Object(N.jsxs)("li",{className:i.list,children:[Object(N.jsx)("div",{className:i.title,children:n("visitdialog.header.last-updated")}),Object(N.jsx)("div",{className:i.field,children:Object(N.jsx)(ir,{datetime:r.lastUpdated})})]},"datetime")})})]}):Object(N.jsx)(Na,{open:t,onClose:a,title:n("visitdialog.title"),children:n("common.msg.authority-error")})}var Jr=a(372),Kr=a(658);function Ur(e){var t=e.open,a=e.seriesMasterId,n=e.onClose,i=Object(x.a)().t,c=Object(r.useState)("instances"),o=Object(v.a)(c,2),s=o[0],l=o[1],d=function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("master"!==s){e.next=7;break}return e.next=3,W("/event/visitInfo/".concat(a));case 3:t=e.sent,n(!1,t.parsedBody),e.next=8;break;case 7:n(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){n(!0)};return Object(N.jsx)("div",{children:Object(N.jsxs)(wa.a,{open:t,onClose:u,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(N.jsxs)(Da.a,{children:[Object(N.jsx)(qa.a,{id:"alert-dialog-description",children:i("visitorinfoform.recurrence-confirm-message")}),Object(N.jsx)(D.a,{children:Object(N.jsxs)(Jr.a,{"aria-label":"gender",name:"gender1",value:s,onChange:function(e){l(e.target.value)},children:[Object(N.jsx)(Ja.a,{value:"instances",control:Object(N.jsx)(Kr.a,{}),label:i("visitorinfoform.recurrence-radio-instances")}),Object(N.jsx)(Ja.a,{value:"master",control:Object(N.jsx)(Kr.a,{}),label:i("visitorinfoform.recurrence-radio-master")})]})})]}),Object(N.jsxs)(Ca.a,{children:[Object(N.jsx)(C.a,{onClick:d,color:"secondary",children:"OK"}),Object(N.jsx)(C.a,{onClick:u,color:"secondary",autoFocus:!0,children:"CANCEL"})]})]})})}var Gr=function(e,t){switch(t.type){case"inputOpen":return{mode:"rowData",inputOpen:!0,readOpen:!1};case"addDataOpen":return{mode:"addData",inputOpen:!0,readOpen:!1,addDefault:t.addDefault};case"inputClose":return Object(ne.a)(Object(ne.a)({},e),{},{inputOpen:!1});case"readOpen":return{mode:"rowData",inputOpen:!1,readOpen:!0};case"readClose":return Object(ne.a)(Object(ne.a)({},e),{},{readOpen:!1});case"recConfOpen":return Object(ne.a)(Object(ne.a)({},e),{},{recConfOpen:!0});case"recConfClose":return Object(ne.a)(Object(ne.a)({},e),{},{recConfOpen:!1});case"recConfCancel":return Object(ne.a)(Object(ne.a)({},e),{},{recConfOpen:!1,inputOpen:!1,readOpen:!1});default:return e}};function _r(e){var t=e.dataDialogHook,a=e.isLoading,r=e.reload,n=e.currentRow,i=e.children,c=e.onRecConfClose,o=function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch({type:"inputClose"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch({type:"readClose"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)(s.a,{theme:zt,children:[Object(N.jsx)(P,{open:a}),i,Object(N.jsx)(Wr,{open:t.state.inputOpen&&!t.state.recConfOpen,onClose:o,data:"addData"===t.state.mode?null:n,reload:r,addDefault:t.state.addDefault}),!!n&&Object(N.jsx)(Yr,{open:t.state.readOpen&&!t.state.recConfOpen,onClose:l,data:n}),!!n&&!!n.seriesMasterId&&!!c&&Object(N.jsx)(Ur,{open:!!t.state.recConfOpen,seriesMasterId:n.seriesMasterId,onClose:c})]})}var $r=a(434),Zr=a.n($r),Xr=a(435),Qr=a.n(Xr),en={fontSize:"1.2em",marginLeft:"3px",marginRight:"3px",verticalAlign:"text-bottom",color:"gray"},tn=function(e){switch(e.type){case"occurrence":return Object(N.jsx)(Zr.a,{style:en});case"exception":return Object(N.jsx)(Qr.a,{style:en});default:return Object(N.jsx)(N.Fragment,{})}},an=Wt(!1),rn=function(e){return e.visitCompany.map((function(e){return"".concat(e.name)})).join(", ")};function nn(e){var t=e.currentDate,a=e.dataDialogHook,n=Object(x.a)().t,i=an(),c=Object(O.h)(),o=Xe("",[]),s=Object(v.a)(o,3),l=s[0],d=l.data,u=l.isLoading,j=l.isError,b=s[1],m=s[2];Object(r.useEffect)((function(){m("/event/visitlist?timestamp=".concat(t.getTime(),"&location=").concat(c.params.location))}),[t,c.params.location,m]);var p=Bt({dataDialogHook:a}),f=Object(v.a)(p,4),h=f[0].currentRow,g=f[2],y=f[3],k=[{title:n("visittable.header.appt-time"),field:"apptTime",render:function(e){return Object(N.jsxs)(N.Fragment,{children:[e.apptTime,Object(N.jsx)(tn,{type:e.eventType})]})}},{title:n("visittable.header.room-name"),field:"roomName"},{title:n("visittable.header.event-subject"),field:"subject"},{title:n("visittable.header.visit-company-name"),field:"visitCompany",render:function(e){return rn(e)},customSort:function(e,t){return rn(e)<rn(t)?-1:1}},{title:n("visittable.header.reservation-name"),field:"reservationName"}];return j?Object(N.jsx)("div",{children:n("common.msg.fetch-failed")}):Object(N.jsx)(_r,{currentRow:h,dataDialogHook:a,isLoading:u,reload:b,onRecConfClose:y,children:Object(N.jsx)(ct.a,{columns:k,components:{Cell:function(e){return Object(N.jsx)(it.MTableCell,Object(ne.a)(Object(ne.a)({},e),{},{className:Ht(e.columnDef.field,e.rowData,i)}))}},data:d,onRowClick:function(e,t){return!!t&&g(t)},options:Object(ne.a)({showTitle:!1,toolbar:!1,search:!1,headerStyle:{backgroundColor:zt.palette.primary.light},tableLayout:"fixed"},Lt),icons:Pt})})}var cn=a(246),on=a.n(cn),sn=a(436),ln=a.n(sn),dn=a(437),un=a.n(dn),jn=Object(I.a)((function(){return{arrowLeft:{paddingTop:7,marginRight:-5},arrowRight:{paddingTop:7,marginLeft:-5},arrowIcon:{margin:0,padding:0},datePicker:{margin:"auto 0"},title:{margin:"auto 0.25em"}}}));function bn(e){var t=e.subtitle,a=e.date,r=e.onDateChange,n=e.onDatePrev,i=e.onDateNext,c=e.dispatch,o=e.actionButtons,s=Object(x.a)().t,l=jn();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(Ut.a,{container:!0,alignItems:"stretch",justifyContent:"space-between",children:[Object(N.jsxs)(Ut.a,{container:!0,alignItems:"center",item:!0,xs:12,sm:o?6:9,children:[Object(N.jsx)(Ut.a,{item:!0,className:l.arrowLeft,children:Object(N.jsx)(Ce.a,{className:l.arrowIcon,onClick:n,children:Object(N.jsx)(ln.a,{fontSize:"large"})})}),Object(N.jsx)(Ut.a,{item:!0,className:l.datePicker,children:Object(N.jsx)(vr,{label:s("main.header.picker-label"),date:a,onChange:r})}),Object(N.jsx)(Ut.a,{item:!0,className:l.arrowRight,onClick:i,children:Object(N.jsx)(Ce.a,{className:l.arrowIcon,children:Object(N.jsx)(un.a,{fontSize:"large"})})})]}),Object(N.jsxs)(Ut.a,{container:!0,item:!0,justifyContent:"flex-end",alignItems:"center",spacing:2,xs:12,sm:o?6:3,children:[!!o&&o.map((function(e,t){return Object(N.jsx)(Ut.a,{item:!0,children:e},"actionButtons-".concat(t))})),Object(N.jsx)(Ut.a,{item:!0,children:Object(N.jsx)(C.a,{variant:"contained",color:"secondary",startIcon:Object(N.jsx)(on.a,{}),onClick:function(e){c({type:"addDataOpen"})},children:s("main.header.add-event")})})]}),Object(N.jsx)(D.a,{pt:1,children:t})]})})}function mn(){var e=Object(x.a)().t,t=Object(r.useState)(!1),a=Object(v.a)(t,2),n=a[0],i=a[1];Object(r.useEffect)((function(){i(!1)}),[]);var c=nt(),o=Object(v.a)(c,5),s=o[0],l=o[1],d=o[2],u=o[3],j=o[4],b=Object(r.useReducer)(Gr,{mode:"addData",inputOpen:!1,readOpen:!1}),m=Object(v.a)(b,2),p=m[0],O=m[1];return Object(r.useEffect)((function(){Q()&&(l(new Date(Number(Z("selectedDate")))),ee())}),[]),Object(N.jsx)(at,{children:Object(N.jsxs)(pe.a,{square:!0,children:[Object(N.jsx)(D.a,{p:2,children:Object(N.jsx)(bn,{title:e("main.visitlist.title"),subtitle:e("main.visitlist.subtitle".concat(n?".created-only":"")),date:s,onDateChange:d,onDatePrev:u,onDateNext:j,dispatch:O})}),Object(N.jsx)(D.a,{px:2,pb:2,children:Object(N.jsx)(nn,{currentDate:s,dataDialogHook:{state:p,dispatch:O}})})]})})}var pn=a(6),On=a(659),fn=a(416),hn=a(306),gn=a(154),vn=a(251),xn={width:120,halfWidth:60,scale:2,transform:{x:-960,y:0}},yn={width:60,halfWidth:30,scale:1,transform:{x:0,y:0}},kn=30,wn=function(e,t){var a=Object(Fa.a)(e);return Object(On.a)(e,a)*t.scale},Cn=function(e,t,a){var r=new Date(e.start),n=new Date(e.end),i=wn(r,t),c=wn(n,t);if(!Object(fn.a)(r,n)){var o=Object(Fa.a)(a),s=Object(hn.a)(a);Object(gn.a)(s,n)&&(c=wn(s,t)),Object(vn.a)(o,r)&&(i=wn(o,t))}return{x:i,width:c-i,className:e.status}},Dn=function(e,t){return(e+1)*t+1},Tn=function(e){return"translate(".concat(e.transform.x,",").concat(e.transform.y,")")},Sn=Object(pn.a)((function(e){return{tooltip:{backgroundColor:e.palette.grey[100],color:e.palette.text.primary,maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid ".concat(e.palette.grey[300])}}}))(Ie.a),Nn=Object(I.a)((function(e){return Object(fe.a)({container:{display:"flex",flexDirection:"column",marginBottom:"0.5rem","& svg":{fontSize:"1.5rem","& line":{strokeWidth:2},"& line.hour-line":{stroke:e.palette.grey[400]},"& line.hour-half-line":{stroke:e.palette.grey[300]},"& text":{fill:e.palette.grey[400]},"& text.subject":{fill:"#fff",fontSize:"1.2rem",dominantBaseline:"central",cursor:"pointer"},"& rect":{strokeWidth:1,fillOpacity:.5},"& rect.new-event-bar":{fillOpacity:0},"& rect.event":{stroke:e.palette.success.main,fill:e.palette.success.light,fillOpacity:.9,cursor:"pointer"},"& rect.myOwn":{stroke:e.palette.info.main,fill:e.palette.info.light},"& rect.wait":{stroke:e.palette.warning.light,fill:e.palette.warning.main},"& rect.busy":{stroke:e.palette.error.light,fill:e.palette.error.main}}},title:{fontSize:"1rem",paddingBottom:0}})}));function Mn(e){var t=e.rangeToggle,a=e.dataDialogHook,n=e.schedule,i=e.events,c=e.onClickCallback,o=e.keyLabel,s=e.keyValue,l=e.onTitleClick,d=Nn(),u=Object(r.useState)(xn),j=Object(v.a)(u,2),b=j[0],m=j[1],p=Object(r.useState)(Tn(b)),O=Object(v.a)(p,2),f=O[0],h=O[1];Object(r.useEffect)((function(){m("short"===t?xn:yn)}),[t]),Object(r.useEffect)((function(){h(Tn(b))}),[b,i]);var g=31,x=39,y="free"===n.type?70+x*(n.scheduleItems.length-1)+x:70,k=Object(r.useCallback)((function(e,t,a,r){var n=Cn(e,b,new Date(a));return Object(N.jsx)("rect",{className:n.className,x:n.x,y:g+x*r,width:n.width,height:x,rx:3,ry:5},"".concat(s,"-sc-").concat(t))}),[b,s,g,x]),D=Object(r.useCallback)((function(e,t,a,r){var n={status:"event",start:e.startDateTime,end:e.endDateTime+e.cleaningTime},i=Cn(n,b,new Date(a)),o=i.x,l=g+x*r,d=i.width,u=e.isAttendees?"myOwn":"";return Object(N.jsx)(Sn,{title:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(w.a,{variant:"body2",children:e.subject}),Object(N.jsx)("em",{children:e.apptTime})," ",Object(N.jsx)("b",{children:e.reservationName})]}),onClick:function(){c(e)},children:Object(N.jsx)("svg",{x:o,y:l,width:d,height:39,viewBox:"0 0 ".concat(d," ").concat(39),children:Object(N.jsxs)("g",{children:[Object(N.jsx)("rect",{className:Object(Oe.a)(i.className,u),x:0,y:0,width:d,height:39,rx:3,ry:5}),Object(N.jsx)("text",{className:"subject",x:3,y:"50%",children:e.subject})]})})},"".concat(s,"-ev-").concat(t))}),[b,g,x,s,c]),T=Object(r.useMemo)((function(){return Object(N.jsx)(N.Fragment,{children:n.scheduleItems.map((function(e,t){return e.map((function(e,a){return k(e,a,n.date,t)}))}))})}),[k,n]),S=Object(r.useMemo)((function(){return Object(N.jsx)(N.Fragment,{children:i.map((function(e,t){return e.map((function(e,a){return D(e,a,n.date,t)}))}))})}),[D,i,n]);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(C.a,{color:"secondary",className:d.title,size:"small",onClick:function(){return l(n.date,n.categoryId,n.roomId)},children:o}),Object(N.jsx)("div",{className:d.container,children:Object(N.jsx)("svg",{viewBox:"0 0 ".concat(1442," ").concat(y),preserveAspectRatio:"none",children:Object(N.jsxs)("g",{transform:f,children:[Object(N.jsx)("line",{className:"hour-line",x1:0,y1:0,x2:0,y2:y}),Object(N.jsx)("line",{className:"hour-half-line",x1:b.halfWidth,y1:kn,x2:b.halfWidth,y2:y}),aa.a.range(0,24).map((function(e){var t=Dn(e,b.width),a=t+b.halfWidth,n=e*b.width+5;return Object(N.jsxs)(r.Fragment,{children:[Object(N.jsx)("line",{className:"hour-line",x1:t,y1:0,x2:t,y2:y},"hour-line-".concat(e)),Object(N.jsx)("line",{className:"hour-half-line",x1:a,y1:kn,x2:a,y2:y},"hour-half-line-".concat(e)),Object(N.jsx)("text",{x:n,y:25,children:e},"hour-text-".concat(e))]},"fragment-".concat(e))})),Object(N.jsx)("rect",{className:"new-event-bar",x:0,y:g,width:Dn(24,b.width),height:y-g,onClick:function(e){return function(e,t,r,n){var i=e.currentTarget.closest("svg");if(i){var c=i.createSVGPoint();c.x=e.clientX,c.y=e.clientY;var o=i.getScreenCTM();if(o){var s=function(e,t){return(e+0)/t.scale*60*1e3}(c.matrixTransform(o.inverse()).x-b.transform.x+1,b),l=1e3*Math.floor(s/1e3/60/30)*60*30,d=new Date(Object(Fa.a)(t).getTime()+l);a.dispatch({type:"addDataOpen",addDefault:{start:d,roomId:r,usageRange:n}})}}}(e,n.date,n.roomId,n.usageRange)}}),T,S]})})})]})}var In=a(252),Rn=a.n(In),En=a(665),Fn=a(653),Pn=Object(pn.a)((function(){return{root:{}}}))(En.a),Ln=Object(pn.a)((function(){return{root:{fontSize:"1.1em",padding:"2px 10px","&$selected":{backgroundColor:Rn.a[300],color:Rn.a[600],"&:hover":{backgroundColor:Rn.a[100]}}},selected:{}}}))(Fn.a);function Bn(e){var t=e.rangeToggle,a=e.onChangeRangeToggle;return Object(N.jsx)(Ut.a,{container:!0,justify:"flex-end",children:Object(N.jsx)(Ut.a,{item:!0,xs:12,style:{textAlign:"right"},children:Object(N.jsxs)(Pn,{size:"small",value:t,exclusive:!0,onChange:function(e,t){t&&a(t)},children:[Object(N.jsx)(Ln,{value:"short",children:Object(N.jsx)(N.Fragment,{children:"8-20"})}),Object(N.jsx)(Ln,{value:"long",children:Object(N.jsx)(N.Fragment,{children:"1Day"})})]})})})}function Vn(e){var t=e.currentDate,a=e.dataDialogHook,n=e.tabKey,i=e.rangeToggle,c=e.onChangeRangeToggle,o=e.onTitleClick,s=Object(x.a)().t,l=Object(O.h)(),d=Xe("",void 0),u=Object(v.a)(d,3),j=u[0],b=j.data,m=j.isLoading,p=j.isError,f=u[1],h=u[2];Object(r.useEffect)((function(){h("/event/byroom?timestamp=".concat(t.getTime(),"&location=").concat(l.params.location,"&category=").concat(n))}),[t,l.params.location,h,n]);var g=Bt({dataDialogHook:a}),y=Object(v.a)(g,4),k=y[0].currentRow,w=y[2],C=y[3],D=Object(r.useMemo)((function(){return b?Object(N.jsx)(N.Fragment,{children:b.schedules.map((function(e,t){return Object(N.jsx)(Mn,{rangeToggle:i,dataDialogHook:a,schedule:e,events:e.eventsIndex.map((function(e){return e.map((function(e){return b.events[e]}))})),onClickCallback:w,keyLabel:e.roomName,keyValue:e.roomEmail,onTitleClick:o},t)}))}):Object(N.jsx)(N.Fragment,{})}),[b,a,w,o,i]);return p?Object(N.jsx)("div",{children:s("common.msg.fetch-failed")}):Object(N.jsxs)(_r,{currentRow:k,dataDialogHook:a,isLoading:m,reload:f,onRecConfClose:C,children:[Object(N.jsx)(Bn,{rangeToggle:i,onChangeRangeToggle:c}),D]})}function An(e){var t=e.currentDate,a=e.dataDialogHook,n=e.tabKey,i=e.rangeToggle,c=e.onChangeRangeToggle,o=e.onTitleClick,s=Object(x.a)().t,l=Object(O.h)(),d=Object(r.useContext)(rr.b),u=Xe("",void 0),j=Object(v.a)(u,3),b=j[0],m=b.data,p=b.isLoading,f=b.isError,h=j[1],g=j[2];Object(r.useEffect)((function(){g("/event/byroom/weekly?timestamp=".concat(t.getTime(),"&location=").concat(l.params.location,"&room=").concat(n))}),[t,l.params.location,g,n]);var y=Bt({dataDialogHook:a}),k=Object(v.a)(y,4),w=k[0].currentRow,C=k[2],D=k[3],T=Object(r.useMemo)((function(){return m?Object(N.jsx)(N.Fragment,{children:m.schedules.map((function(e,t){return Object(N.jsx)(Mn,{rangeToggle:i,dataDialogHook:a,schedule:e,events:e.eventsIndex.map((function(e){return e.map((function(e){return m.events[e]}))})),onClickCallback:C,keyLabel:Object(nr.default)(e.date,"yyyy/MM/dd (E)",{locale:null===d||void 0===d?void 0:d.locale}),keyValue:e.date.toString(),onTitleClick:o},t)}))}):Object(N.jsx)(N.Fragment,{})}),[m,a,C,null===d||void 0===d?void 0:d.locale,o,i]);return f?Object(N.jsx)("div",{children:s("common.msg.fetch-failed")}):Object(N.jsxs)(_r,{currentRow:w,dataDialogHook:a,isLoading:p,reload:h,onRecConfClose:D,children:[Object(N.jsx)(Bn,{rangeToggle:i,onChangeRangeToggle:c}),T]})}var Wn=a(455),Hn=a(654),qn=a(655),zn=a(157);function Yn(e){var t=e.data,a=e.tabPanelContent,n=e.selected,i=Object(r.useState)(!1),c=Object(v.a)(i,2),o=c[0],s=c[1];Object(r.useEffect)((function(){return s(!0)}),[]);var l=Object(r.useState)(""),d=Object(v.a)(l,2),u=d[0],j=d[1];Object(r.useEffect)((function(){j(n||t[0].id)}),[t,n]),Object(r.useEffect)((function(){Q()||$("tabValue",u)}),[u]);var b=function(e,t){j(t)},m=Object(r.useMemo)((function(){return Object(N.jsx)(Hn.a,{indicatorColor:"primary",textColor:"primary",variant:"scrollable",onChange:b,"aria-label":"view tabs",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(N.jsx)(Wn.a,{label:e.name,value:"".concat(e.id)},"tab-".concat(t))}))})}),[t]),p=Object(r.useMemo)((function(){return Object(N.jsx)(N.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(N.jsx)(qn.a,{value:"".concat(e.id),children:Object(r.cloneElement)(a,{tabKey:e.id})},"tab-panel-".concat(t))}))})}),[t,a]);return o?Object(N.jsxs)(zn.a,{value:u,children:[Object(N.jsx)(ge.a,{position:"static",color:"default",children:m}),p]}):Object(N.jsx)(N.Fragment,{})}function Jn(e){var t=e.tabPanelContent,a=e.selected,n=Object(O.h)(),i=Xe("",[]),c=Object(v.a)(i,3),o=c[0],s=o.data,l=o.isLoading,d=c[2];return Object(r.useEffect)((function(){d("/category/choices?location=".concat(n.params.location,"&tab=byroom"))}),[n.params.location,d]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(P,{open:l}),!!(null===s||void 0===s?void 0:s.length)&&Object(N.jsx)(Yn,{data:s,tabPanelContent:t,selected:a})]})}function Kn(e){var t=e.tabPanelContent,a=e.selected,n=Object(O.h)(),i=Xe("",[]),c=Object(v.a)(i,3),o=c[0],s=o.data,l=o.isLoading,d=c[2];return Object(r.useEffect)((function(){d("/room/choices?location=".concat(n.params.location,"&samecategory=").concat(a))}),[n.params.location,a,d]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(P,{open:l}),!!(null===s||void 0===s?void 0:s.length)&&Object(N.jsx)(Yn,{data:s,tabPanelContent:t,selected:a})]})}var Un=function(e,t){switch(t.type){case"default":return{weekly:!1,changeTab:t.changeTab,titleLabel:"main.byroom.title",subtitleLabel:"main.byroom.subtitle"};case"weekly":return{weekly:!0,changeTab:t.changeTab,titleLabel:"main.byroom-weekly.title",subtitleLabel:"main.byroom-weekly.subtitle"};default:return e}};function Gn(){var e=Object(x.a)().t,t=nt(),a=Object(v.a)(t,6),n=a[0],i=a[1],c=a[2],o=a[3],s=a[4],l=a[5],d=Object(r.useReducer)(Gr,{mode:"addData",inputOpen:!1,readOpen:!1}),u=Object(v.a)(d,2),j=u[0],b=u[1],m=Object(r.useReducer)(Un,{weekly:!1,changeTab:void 0,titleLabel:"main.byroom.title",subtitleLabel:"main.byroom.subtitle"}),p=Object(v.a)(m,2),O=p[0],f=p[1],h=Object(r.useState)("short"),g=Object(v.a)(h,2),y=g[0],k=g[1];Object(r.useEffect)((function(){Q()&&(i(new Date(Number(Z("selectedDate")))),f({type:Z("weekly")?"weekly":"default",changeTab:Z("tabValue")}),ee())}),[]),Object(r.useEffect)((function(){Q()||$("weekly",O.weekly?"1":"")}),[O.weekly]);var w=function(e){k(e)};return Object(N.jsx)(at,{children:Object(N.jsxs)(pe.a,{square:!0,children:[Object(N.jsx)(D.a,{p:2,children:Object(N.jsx)(bn,{title:e(O.titleLabel),subtitle:e(O.subtitleLabel),date:n,onDateChange:c,onDatePrev:o,onDateNext:s,dispatch:b})}),!O.weekly&&Object(N.jsx)(Jn,{tabPanelContent:Object(N.jsx)(Vn,{currentDate:n,dataDialogHook:{state:j,dispatch:b},tabKey:"dummyId",rangeToggle:y,onChangeRangeToggle:w,onTitleClick:function(e,t,a){i(new Date(e)),l(!0),f({type:"weekly",changeTab:a})}}),selected:O.changeTab}),O.weekly&&Object(N.jsx)(Kn,{tabPanelContent:Object(N.jsx)(An,{currentDate:n,dataDialogHook:{state:j,dispatch:b},tabKey:"dummyId",rangeToggle:y,onChangeRangeToggle:w,onTitleClick:function(e,t,a){i(new Date(e)),l(!1),f({type:"default",changeTab:t})}}),selected:O.changeTab})]})})}var _n=a(441),$n=a.n(_n),Zn=a(438),Xn=a.n(Zn),Qn=Yt(),ei=Object(I.a)({checkAction:{textAlign:"center",marginBottom:"10px","& Button":{margin:"0 5%",width:"40%"}}});function ti(e){var t=e.open,a=e.onClose,n=e.data,i=e.reload,c=Object(x.a)().t,o=Qn(),s=ei(),l=Object(r.useContext)(rr.b),d=Object(r.useContext)(de),u=Object(Kt.d)({reValidateMode:"onSubmit"}),j=u.register,b=u.handleSubmit,m=u.setValue,p=u.reset,O=u.formState,f=O.errors,v=O.isSubmitting,y=O.dirtyFields;Object(r.useEffect)((function(){t?p({id:n.visitorId,iCalUId:n.iCalUId,seriesMasterId:n.seriesMasterId,checkIn:n.checkIn,checkOut:n.checkOut,visitorCardNumber:n.visitorCardNumber}):p()}),[n,t,p]);var k=function(){return Object(nr.default)(new Date,"yyyy/MM/dd HH:mm:ss",{locale:null===l||void 0===l?void 0:l.locale})},w=function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ca("/front/".concat(t.mode),{inputs:t,dirtyFields:y});case 3:if(!e.sent.success){e.next=11;break}return e.next=7,i();case 7:a(),d.dispatch({type:"success",message:c("common.msg.update-success")}),e.next=12;break;case 11:d.dispatch({type:"error",message:c("common.msg.update-failed")});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),d.dispatch({type:"error",message:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(P,{open:v}),Object(N.jsxs)(Na,{open:t,onClose:a,title:c("visitdialog.title"),children:[Object(N.jsx)(D.a,{p:2,children:Object(N.jsxs)("form",{children:[Object(N.jsxs)("div",{className:s.checkAction,children:[Object(N.jsx)(C.a,{onClick:function(){m("mode","checkin"),m("checkIn",k(),{shouldDirty:!0}),b(w)()},variant:"contained",color:"secondary",disabled:!!n.checkOut,children:c("visitdialog.button.check-in")}),Object(N.jsx)(C.a,{onClick:function(){m("mode","checkout"),m("checkOut",k(),{shouldDirty:!0}),b(w)()},variant:"contained",color:"secondary",disabled:!n.checkIn,children:c("visitdialog.button.check-out")})]}),Object(N.jsx)("div",{children:Object(N.jsx)(Gt.a,Object(ne.a)(Object(ne.a)({margin:"normal",fullWidth:!0,autoComplete:"off",color:"secondary",id:"visitorCardNumber",label:c("visitdialog.form.visitor-card-number"),autoFocus:!0},j("visitorCardNumber",{})),{},{error:!!f.visitorCardNumber,helperText:f.visitorCardNumber&&f.visitorCardNumber.message}))})]})}),Object(N.jsx)(D.a,{px:2,pt:2,children:Object(N.jsxs)(xe.a,{disablePadding:!0,children:[Object(N.jsxs)("li",{className:o.list,children:[Object(N.jsx)("div",{className:o.title,children:c("visittable.header.appt-time")}),Object(N.jsx)("div",{className:o.field,children:n.apptTime})]},"app-time"),Object(N.jsxs)("li",{className:o.list,children:[Object(N.jsx)("div",{className:o.title,children:c("visittable.header.check-in")}),Object(N.jsx)("div",{className:o.field,children:n.checkIn})]},"check-in"),Object(N.jsxs)("li",{className:o.list,children:[Object(N.jsx)("div",{className:o.title,children:c("visittable.header.check-out")}),Object(N.jsx)("div",{className:o.field,children:n.checkOut})]},"check-out"),Object(N.jsxs)("li",{className:o.list,children:[Object(N.jsxs)("div",{className:o.title,children:[c("visittable.header.visit-company-name")," /",Object(N.jsx)("br",{}),c("visittable.header.visit-company-rep")]}),Object(N.jsx)("div",{className:o.field,children:n.visitCompany.map((function(e,t){return Object(N.jsxs)(N.Fragment,{children:[!!t&&Object(N.jsx)("br",{}),Object(N.jsx)("span",{children:"".concat(e.name," / ").concat(e.rep)})]})}))})]},"visit-company"),Object(N.jsxs)("li",{className:o.list,children:[Object(N.jsx)("div",{className:o.title,children:c("visittable.header.number-of-visitor")}),Object(N.jsx)("div",{className:o.field,style:{flexBasis:"25%",borderRight:"none"},children:n.numberOfVisitor}),Object(N.jsx)("div",{className:o.title,style:{flexBasis:"25%",borderLeft:"none"},children:c("visittable.header.number-of-employee")}),Object(N.jsx)("div",{className:o.field,style:{flexBasis:"25%"},children:n.numberOfEmployee})]},"number-of-visitor")]})}),Object(N.jsx)(D.a,{px:2,pt:2,children:Object(N.jsx)(xe.a,{disablePadding:!0,children:Object(N.jsxs)("li",{className:o.list,children:[Object(N.jsx)("div",{className:o.title,children:c("visittable.header.comment")}),Object(N.jsx)("div",{className:o.field,children:n.comment})]},"comment")})}),Object.keys(n.resourcies).map((function(e){return Object(N.jsx)(Za,{data:n.resourcies[e]},e)})),Object(N.jsx)(D.a,{px:2,pt:2,children:Object(N.jsxs)(xe.a,{disablePadding:!0,children:[Object(N.jsxs)("li",{className:o.list,children:[Object(N.jsx)("div",{className:o.title,children:c("visittable.header.reservation-name")}),Object(N.jsx)("div",{className:o.field,children:n.reservationName})]},"reservation-name"),Object(N.jsxs)("li",{className:o.list,children:[Object(N.jsx)("div",{className:o.title,children:c("visittable.header.contact-addr")}),Object(N.jsx)("div",{className:o.field,children:n.contactAddr})]},"contact-addr")]})}),Object(N.jsx)(D.a,{p:2,children:Object(N.jsx)(xe.a,{disablePadding:!0,children:Object(N.jsxs)("li",{className:o.list,children:[Object(N.jsx)("div",{className:o.title,children:c("visitdialog.header.last-updated")}),Object(N.jsx)("div",{className:o.field,children:Object(N.jsx)(ir,{datetime:n.lastUpdated})})]},"datetime")})})]})]})}var ai=Wt(!0),ri=function(e){return e.visitCompany.map((function(e){return"".concat(e.name," / ").concat(e.rep)})).join(", ")};function ni(e){var t=e.currentDate,a=e.dataDialogHook,n=Object(x.a)().t,i=ai(),c=Object(O.h)(),o=Xe("",[]),s=Object(v.a)(o,3),l=s[0],d=l.data,u=l.isLoading,j=l.isError,b=s[1],m=s[2];Object(r.useEffect)((function(){m("/front/visitlist?timestamp=".concat(t.getTime(),"&location=").concat(c.params.location))}),[t,c.params.location,m]);var p=Object(r.useState)(!1),f=Object(v.a)(p,2),y=f[0],k=f[1],w=Bt({dataDialogHook:a}),C=Object(v.a)(w,4),D=C[0].currentRow,T=C[2],S=C[3],M=Object(r.useState)(null),I=Object(v.a)(M,2),R=I[0],E=I[1],F=function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=[{title:n("visittable.header.appt-time"),field:"apptTime",render:function(e){return e.apptTime.split(" ")[1]},width:"95px"},{title:n("visittable.header.room-name"),field:"roomName"},{title:n("visittable.header.number-of-people"),field:"teaSupply",render:function(e){var t=Object.keys(e.resourcies)[0],a="".concat(n("visitdialog.view.tea-supply.number-of-tea-supply"),":").concat(e.resourcies[t].numberOfTeaSupply),r="".concat(n("visitdialog.view.tea-supply.number-of-visitor"),":").concat(e.numberOfVisitor),i="".concat(n("visitdialog.view.tea-supply.number-of-employee"),":").concat(e.numberOfEmployee);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{style:e.resourcies[t].teaSupply?{color:"red"}:void 0,children:a}),Object(N.jsx)("br",{}),r,Object(N.jsx)("br",{}),i]})},customSort:function(e,t){var a=Object.keys(e.resourcies)[0],r=Object.keys(t.resourcies)[0];return e.resourcies[a].numberOfTeaSupply-t.resourcies[r].numberOfTeaSupply},width:"70px"},{title:"".concat(n("visittable.header.visit-company-name")," / ").concat(n("visittable.header.visit-company-rep")),field:"visitCompany",render:function(e){return e.visitCompany.map((function(e,t){return Object(N.jsxs)(N.Fragment,{children:[!!t&&Object(N.jsx)("br",{}),Object(N.jsx)("span",{children:"".concat(e.name," / ").concat(e.rep)})]})}))},customSort:function(e,t){return ri(e)<ri(t)?-1:1}},{title:n("visittable.header.check-in"),field:"checkIn",render:function(e){return e.checkIn?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{children:"\u2713"}),Object(N.jsx)("br",{}),Object(N.jsx)("span",{children:e.visitorCardNumber})]}):Object(N.jsx)("span",{})},width:"70px"},{title:n("visittable.header.check-out"),field:"checkOut",render:function(e){return e.checkOut?Object(N.jsx)("span",{children:"\u2713"}):Object(N.jsx)("span",{})},width:"50px"},{title:"".concat(n("visittable.header.reservation-name")," / ").concat(n("visittable.header.contact-addr")),field:"reservationName",render:function(e){return Object(N.jsxs)(N.Fragment,{children:[e.reservationName,Object(N.jsx)("br",{}),e.contactAddr]})}},{title:"".concat(n("visittable.header.tea-details")," / ").concat(n("visittable.header.comment")),field:"comment",render:function(e){var t=Object.keys(e.resourcies)[0],a=e.resourcies[t].teaDetails?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{style:{color:"red"},children:e.resourcies[t].teaDetails}),Object(N.jsx)("br",{})]}):void 0;return Object(N.jsxs)(N.Fragment,{children:[a,e.comment]})},width:"70%"}];return j?Object(N.jsx)("div",{children:n("common.msg.fetch-failed")}):Object(N.jsxs)(_r,{currentRow:D,dataDialogHook:a,isLoading:u,reload:b,onRecConfClose:S,children:[Object(N.jsx)(ct.a,{columns:P,components:{Cell:function(e){return Object(N.jsx)(it.MTableCell,Object(ne.a)(Object(ne.a)({},e),{},{className:Ht(e.columnDef.field,e.rowData,i)}))}},data:d,onRowClick:function(e,t){return!!t&&function(e){k(!0),E(e)}(t)},actions:[{icon:function(){return Object(N.jsx)(Xn.a,{})},tooltip:n("visittable.header.edit-action"),onClick:function(e,t){return!!t&&T(t)}}],localization:{header:{actions:""}},options:Object(ne.a)({showTitle:!1,toolbar:!1,search:!1,headerStyle:{backgroundColor:zt.palette.primary.light,padding:At},tableLayout:"fixed"},Lt),icons:Pt}),R&&Object(N.jsx)(ti,{open:y,onClose:F,data:R,reload:b})]})}var ii=a(656),ci=a(439),oi=a(440),si=a.n(oi),li=Object(I.a)({keyboardDatePicker:{"& .MuiOutlinedInput-adornedEnd":{paddingRight:0}},between:{textAlign:"center"}}),di=["apptDate","apptStartTime","apptEndTime","roomName","teaSupply","numberOfTeaSupply","teaDetails","numberOfVisitor","numberOfEmployee","visitCompany","reservationName","reservationDepEn","reservationDepJa","contactAddr","subject","comment"];function ui(e){var t=e.open,a=e.onClose,n=Object(x.a)().t,i=li(),c=Object(O.h)(),o=Object(r.useContext)(de),s=Object(r.useContext)(rr.b),l=Object(r.useRef)(null),d=Object(r.useState)([]),u=Object(v.a)(d,2),j=u[0],b=u[1],m=Object(r.useState)(""),p=Object(v.a)(m,2),f=p[0],y=p[1],k=Object(r.useMemo)((function(){return{location:c.params.location,startDate:new Date,endDate:Object(ii.a)(new Date,1)}}),[c.params.location]),w=Object(Kt.d)({defaultValues:k,reValidateMode:"onSubmit"}),T=w.control,S=w.getValues,M=w.handleSubmit,I=w.reset,R=w.setValue,E=w.formState,F=E.errors,L=E.isSubmitting,B=E.dirtyFields;Object(r.useEffect)((function(){t&&I(k)}),[k,t,I]);var V=function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(W)();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=di.map((function(e){return{label:n("export-csv.file.header.".concat(aa.a.kebabCase(e))),key:e}})),W=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ca("/front/export",{inputs:t,dirtyFields:B});case 3:(a=e.sent).success?a.value&&(y("visitor-".concat(Object(nr.default)(t.startDate,"yyyyMMdd"),"-").concat(Object(nr.default)(t.endDate,"yyyyMMdd"),".csv")),i=a.value.map((function(e){var t=Object.keys(e.resourcies)[0];return{apptDate:Object(nr.default)(e.startDateTime,"yyyy/MM/dd",{locale:null===s||void 0===s?void 0:s.locale}),apptStartTime:Object(nr.default)(e.startDateTime,"HH:mm",{locale:null===s||void 0===s?void 0:s.locale}),apptEndTime:Object(nr.default)(e.endDateTime,"HH:mm",{locale:null===s||void 0===s?void 0:s.locale}),roomName:e.roomName,teaSupply:e.resourcies[t].teaSupply?n("export-csv.file.tea-supply-yes"):n("export-csv.file.tea-supply-no"),numberOfTeaSupply:e.resourcies[t].numberOfTeaSupply.toString(),teaDetails:e.resourcies[t].teaDetails,numberOfVisitor:e.numberOfVisitor.toString(),numberOfEmployee:e.numberOfEmployee.toString(),visitCompany:e.visitCompany.map((function(e){return"".concat(e.name," / ").concat(e.rep)})).join(", "),reservationName:e.reservationName,reservationDepEn:e.reservationInfo?e.reservationInfo.department:"",reservationDepJa:e.reservationInfo?e.reservationInfo.officeLocation:"",contactAddr:e.contactAddr,subject:e.subject,comment:e.comment}})),b(i),null===l||void 0===l||null===(r=l.current)||void 0===r||r.link.click(),o.dispatch({type:"success",message:n("export-csv.msg.export-success")})):o.dispatch({type:"error",message:n("export-csv.msg.export-failed")}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o.dispatch({type:"error",message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),H=function(e){return Object(N.jsx)(Kt.a,{name:"".concat(e,"Date"),control:T,rules:{required:n("common.form.required"),validate:function(){return Object(Fa.a)(S("startDate")).getTime()<=Object(Fa.a)(S("endDate")).getTime()||n("export-csv.form.error.event-time")}},render:function(t){var a=t.field;return Object(N.jsx)(hr.b,Object(ne.a)(Object(ne.a)({},a),{},{onChange:function(t){a.onChange(t),"start"===e&&function(){var e=Object(ii.a)(S("startDate"),1);R("endDate",e,{shouldDirty:!0})}()},format:"yyyy/MM/dd",label:n("export-csv.".concat(e,"-date")),showTodayButton:!0,KeyboardButtonProps:{"aria-label":"change date"},size:"small",className:i.keyboardDatePicker,inputProps:{autoComplete:"off"},error:!!F["".concat(e,"Date")],helperText:F["".concat(e,"Date")]&&F["".concat(e,"Date")].message}))}})};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(P,{open:L}),Object(N.jsxs)(Na,{open:t,onClose:a,title:n("export-csv.title"),children:[Object(N.jsxs)("form",{children:[Object(N.jsx)(D.a,{px:2,pt:2,children:Object(N.jsxs)(Ut.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object(N.jsx)(Ut.a,{container:!0,item:!0,xs:12,sm:4,children:H("start")}),Object(N.jsx)(Ut.a,{item:!0,xs:12,sm:4,className:i.between,children:Object(N.jsx)(si.a,{})}),Object(N.jsx)(Ut.a,{container:!0,item:!0,xs:12,sm:4,children:H("end")})]})}),Object(N.jsx)(D.a,{p:2,children:Object(N.jsx)(C.a,{onClick:V,variant:"contained",color:"primary",fullWidth:!0,children:n("export-csv.button.export-csv")})})]}),Object(N.jsx)(ci.CSVLink,{style:{display:"none"},data:j,headers:A,filename:f,ref:l,children:"Export Trigger"})]})]})}function ji(){var e=Object(x.a)().t,t=nt(),a=Object(v.a)(t,5),n=a[0],i=a[1],c=a[2],o=a[3],s=a[4],l=Object(r.useReducer)(Gr,{mode:"addData",inputOpen:!1,readOpen:!1}),d=Object(v.a)(l,2),u=d[0],j=d[1],b=Object(r.useState)(!1),m=Object(v.a)(b,2),p=m[0],O=m[1];Object(r.useEffect)((function(){Q()&&(i(new Date(Number(Z("selectedDate")))),ee())}),[]);var f=Object(N.jsx)(C.a,{variant:"contained",startIcon:Object(N.jsx)($n.a,{}),onClick:function(){O(!0)},children:e("main.header.export-csv")});return Object(N.jsxs)(at,{frontMode:!0,children:[Object(N.jsxs)(pe.a,{square:!0,children:[Object(N.jsx)(D.a,{p:2,children:Object(N.jsx)(bn,{title:e("main.front.title"),subtitle:e("main.front.subtitle"),date:n,onDateChange:c,onDatePrev:o,onDateNext:s,dispatch:j,actionButtons:[f]})}),Object(N.jsx)(D.a,{px:2,pb:2,children:Object(N.jsx)(ni,{currentDate:n,dataDialogHook:{state:u,dispatch:j}})})]}),Object(N.jsx)(ui,{open:p,onClose:function(){O(!1)}})]})}var bi=Object(I.a)((function(e){return Object(fe.a)({formAction:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},note:{color:"red",fontSize:"0.9em",margin:0}})})),mi=Object(l.b)({palette:{primary:{main:j.main},secondary:{main:qt.a[300]}},props:{MuiTextField:{variant:"outlined",margin:"dense",fullWidth:!0,minRows:4}}});function pi(e){var t=e.inputFields,a=e.open,n=e.onClose,i=e.data,c=e.reload,o=Object(x.a)().t,l=bi(),d=Object(r.useContext)(de),u=Object(r.useState)(!1),j=Object(v.a)(u,2),b=j[0],m=j[1],p=Object(Kt.d)({defaultValues:Object(ne.a)({},t.defaultValues),reValidateMode:"onSubmit"}),O=p.handleSubmit,f=p.reset,y=p.setValue,k=p.setError,w=p.formState,T=w.isDirty,S=w.isSubmitting,M=w.dirtyFields;Object(r.useEffect)((function(){if(a&&i){var e=Object.keys(t.defaultValues).reduce((function(e,t){return"mode"===t?e.mode="upd":e[t]=i[t],e}),{});f(aa.a.cloneDeep(e))}else f(aa.a.cloneDeep(t.defaultValues))}),[i,t,a,f]);var I=function(){var e=Object(g.a)(h.a.mark((function e(a){var r,i,s,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r="",e.t0=a.mode,e.next="ins"===e.t0?5:"upd"===e.t0?7:"del"===e.t0?9:11;break;case 5:return r="/".concat(t.type,"/create"),e.abrupt("break",11);case 7:return r="/".concat(t.type,"/update"),e.abrupt("break",11);case 9:return r="/".concat(t.type,"/delete"),e.abrupt("break",11);case 11:return e.next=13,ca(r,{inputs:a,dirtyFields:M});case 13:if(!(i=e.sent).success){e.next=27;break}if("del"!==a.mode){e.next=18;break}return e.next=18,new Promise((function(e){return setTimeout(e,1e3)}));case 18:return e.next=20,c();case 20:if(n(),d.dispatch({type:"success",message:o("common.msg.update-success")}),"role"!==t.type&&"location"!==t.type){e.next=25;break}return e.next=25,new Promise((function(){return setTimeout((function(){d.dispatch({type:"warning",message:o("common.msg.prompt-logout")})}),1500)}));case 25:e.next=28;break;case 27:if(i.errors)for(l in s=i.errors)k(u=l,{message:o(s[u][0])});case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(0),d.dispatch({type:"error",message:e.t1.message});case 33:case"end":return e.stop()}}),e,null,[[0,30]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(P,{open:S}),Object(N.jsx)(Na,{open:a,onClose:n,title:o("settings.title.".concat(t.type)),children:Object(N.jsx)(s.a,{theme:mi,children:Object(N.jsx)(Kt.b,Object(ne.a)(Object(ne.a)({},p),{},{children:Object(N.jsxs)("form",{children:[Object(N.jsx)(D.a,{p:2,children:t.item}),Object(N.jsx)(D.a,{px:2,children:Object(N.jsxs)(Ut.a,{container:!0,justifyContent:"space-between",spacing:2,className:l.formAction,children:[Object(N.jsx)(Ut.a,{item:!0,xs:i?6:12,children:Object(N.jsx)(C.a,{onClick:function(){O(I)()},variant:"contained",color:"primary",disabled:!T,startIcon:Object(N.jsx)(Xt.a,{}),fullWidth:!0,children:o("common.button.save")})}),Object(N.jsx)(Ut.a,{item:!0,xs:6,style:i?void 0:{display:"none"},children:Object(N.jsx)(C.a,{onClick:function(){m(!0)},variant:"contained",color:"primary",startIcon:Object(N.jsx)($t.a,{}),fullWidth:!0,children:o("common.button.delete")})})]})})]})}))})}),Object(N.jsx)(za,{open:b,onClose:function(e){m(!1),e&&(y("mode","del"),O(I)())},message:o("common.msg.delete-confirm"),color:"secondary"})]})}var Oi=function(e,t){switch(t.type){case"inputOpen":return{mode:"rowData",inputOpen:!0};case"addDataOpen":return{mode:"addData",inputOpen:!0};case"inputClose":return Object(ne.a)(Object(ne.a)({},e),{},{inputOpen:!1});default:return e}};function fi(e){var t=e.inputFields,a=e.dataDialogHook,r=e.isLoading,n=e.reload,i=e.currentRow,c=e.children,o=function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.dispatch({type:"inputClose"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)(s.a,{theme:zt,children:[Object(N.jsx)(P,{open:r}),c,Object(N.jsx)(pi,{inputFields:t,open:a.state.inputOpen,onClose:o,data:"addData"===a.state.mode?null:i,reload:n})]})}function hi(e){var t=e.inputFields,a=e.columns,n=e.dataDialogHook,i=Object(x.a)().t,c=Xe("",[]),o=Object(v.a)(c,3),s=o[0],l=s.data,d=s.isLoading,u=s.isError,j=o[1],b=o[2];Object(r.useEffect)((function(){b("/".concat(t.type,"/list"))}),[t.type,b]);var m=Object(r.useState)(null),p=Object(v.a)(m,2),O=p[0],f=p[1],h=Object(r.useCallback)((function(e){n.dispatch({type:"inputOpen"}),f(e)}),[n]);return u?Object(N.jsx)("div",{children:i("common.msg.fetch-failed")}):Object(N.jsx)(fi,{inputFields:t,currentRow:O,dataDialogHook:n,isLoading:d,reload:j,children:Object(N.jsx)(ct.a,{columns:a,data:l,onRowClick:function(e,t){return!!t&&h(t)},options:Object(ne.a)({showTitle:!1,toolbar:!1,search:!1,headerStyle:{backgroundColor:zt.palette.primary.light},tableLayout:"fixed"},Lt),icons:Pt})})}var gi=Object(I.a)((function(){return{actionButtonArea:{textAlign:"right",margin:"auto"}}}));function vi(e){var t=e.master,a=e.dispatch,r=Object(x.a)().t,n=gi();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(Ut.a,{container:!0,alignItems:"stretch",justifyContent:"space-between",children:[Object(N.jsx)(Ut.a,{container:!0,item:!0,xs:12,sm:9,children:Object(N.jsx)(w.a,{component:"h1",variant:"h6",children:r("settings.title.".concat(t))})}),Object(N.jsx)(Ut.a,{item:!0,xs:12,sm:3,className:n.actionButtonArea,children:Object(N.jsx)(C.a,{variant:"contained",color:"secondary",startIcon:Object(N.jsx)(on.a,{}),onClick:function(e){a({type:"addDataOpen"})},children:r("settings.add-master")})})]})})}var xi=["admin","front"];function yi(){var e=Object(Kt.e)(),t=e.control,a=e.formState.errors,r=Object(x.a)().t;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(sa,{name:"name",control:t,label:r("settings.header.role.name"),required:!0,selectList:xi.map((function(e){return{label:r("settings.view.role.name.".concat(e)),value:e}})),errors:a}),Object(N.jsx)(ka,{name:"members",control:t,label:r("settings.header.role.members"),errors:a})]})}function ki(){var e=Object(x.a)().t,t=Object(r.useReducer)(Oi,{mode:"addData",inputOpen:!1}),a=Object(v.a)(t,2),n=a[0],i=a[1],c=[{title:e("settings.header.role.name"),field:"name",render:function(t){return e("settings.view.role.name.".concat(t.name))}}];return Object(N.jsx)(at,{adminMode:!0,menuOpen:!0,children:Object(N.jsxs)(pe.a,{square:!0,children:[Object(N.jsx)(D.a,{p:2,children:Object(N.jsx)(vi,{master:"role",dispatch:i})}),Object(N.jsx)(D.a,{p:2,children:Object(N.jsx)(hi,{inputFields:{type:"role",item:Object(N.jsx)(yi,{}),defaultValues:{mode:"ins",id:"",name:"admin",members:[]}},columns:c,dataDialogHook:{state:n,dispatch:i}})})]})})}function wi(){var e=Object(Kt.e)(),t=e.control,a=e.formState.errors,r=Object(x.a)().t;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(sa,{name:"name",control:t,label:r("settings.header.location.name"),required:!0,errors:a}),Object(N.jsx)(sa,{name:"url",control:t,label:r("settings.header.location.url"),required:!0,validation:{pattern:{value:/^[a-z0-9]+$/,message:r("settings.form.location.error.url.pattern")}},errors:a}),Object(N.jsx)(sa,{name:"sort",control:t,label:r("settings.header.location.sort"),errors:a})]})}function Ci(){var e=Object(x.a)().t,t=Object(r.useReducer)(Oi,{mode:"addData",inputOpen:!1}),a=Object(v.a)(t,2),n=a[0],i=a[1],c=[{title:e("settings.header.location.name"),field:"name"},{title:e("settings.header.location.url"),field:"url"},{title:e("settings.header.location.sort"),field:"sort"}];return Object(N.jsx)(at,{adminMode:!0,menuOpen:!0,children:Object(N.jsxs)(pe.a,{square:!0,children:[Object(N.jsx)(D.a,{p:2,children:Object(N.jsx)(vi,{master:"location",dispatch:i})}),Object(N.jsx)(D.a,{p:2,children:Object(N.jsx)(hi,{inputFields:{type:"location",item:Object(N.jsx)(wi,{}),defaultValues:{mode:"ins",id:"",name:"",url:"",sort:""}},columns:c,dataDialogHook:{state:n,dispatch:i}})})]})})}function Di(){var e=Object(Kt.e)(),t=e.control,a=e.setValue,n=e.formState.errors,i=Object(x.a)().t,c=Object(Kt.f)({control:t,name:"limitedPublic"}),o=Object(r.useState)(!1),s=Object(v.a)(o,2),l=s[0],d=s[1];return Object(r.useEffect)((function(){d(c),c||a("members",[],{shouldDirty:!0})}),[c,a]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(sa,{name:"name",control:t,label:i("settings.header.category.name"),required:!0,errors:n}),Object(N.jsx)(sa,{name:"sort",control:t,label:i("settings.header.category.sort"),errors:n}),Object(N.jsx)(Ja.a,{control:Object(N.jsx)(Kt.a,{name:"limitedPublic",control:t,render:function(e){var t=e.field;return Object(N.jsx)(Ka.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary"})}}),label:i("settings.header.category.limited-public")}),Object(N.jsx)(ka,{name:"members",control:t,label:i("settings.header.category.members"),errors:n,style:l?void 0:{display:"none"}}),Object(N.jsx)(Ja.a,{control:Object(N.jsx)(Kt.a,{name:"disabledByRoom",control:t,render:function(e){var t=e.field;return Object(N.jsx)(Ka.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary"})}}),label:i("settings.header.category.disabled-by-room")})]})}function Ti(){var e=Object(x.a)().t,t=Object(r.useReducer)(Oi,{mode:"addData",inputOpen:!1}),a=Object(v.a)(t,2),n=a[0],i=a[1],c=[{title:e("settings.header.category.name"),field:"name"},{title:e("settings.header.category.sort"),field:"sort"},{title:e("settings.header.category.limited-public"),field:"limitedPublic",type:"boolean"},{title:e("settings.header.category.disabled-by-room"),field:"disabledByRoom",type:"boolean"}];return Object(N.jsx)(at,{adminMode:!0,menuOpen:!0,children:Object(N.jsxs)(pe.a,{square:!0,children:[Object(N.jsx)(D.a,{p:2,children:Object(N.jsx)(vi,{master:"category",dispatch:i})}),Object(N.jsx)(D.a,{p:2,children:Object(N.jsx)(hi,{inputFields:{type:"category",item:Object(N.jsx)(Di,{}),defaultValues:{mode:"ins",id:"",name:"",sort:"",limitedPublic:!1,members:[],disabledByRoom:!1}},columns:c,dataDialogHook:{state:n,dispatch:i}})})]})})}function Si(e){var t=e.locations,a=e.categories,n=Object(Kt.e)(),i=n.control,c=n.setValue,o=n.formState.errors,s=Object(x.a)().t,l=Object(r.useState)(!1),d=Object(v.a)(l,2),u=d[0],j=d[1],b=Object(Kt.f)({control:i,name:"type"});Object(r.useEffect)((function(){"free"===b?(c("teaSupply",{outside:!1,inside:!1},{shouldDirty:!0}),j(!0)):j(!1)}),[c,b]);var m=Object(Kt.f)({control:i,name:"usageRange"});return Object(r.useEffect)((function(){switch(m){case"outside":c("teaSupply.inside",!1,{shouldDirty:!0});break;case"inside":c("teaSupply.outside",!1,{shouldDirty:!0})}}),[c,m]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(sa,{name:"name",control:i,label:s("settings.header.room.name"),required:!0,errors:o}),Object(N.jsx)(sa,{name:"email",control:i,label:s("settings.header.room.email"),required:!0,validation:{pattern:{value:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:s("settings.form.room.error.email.pattern")}},errors:o}),Object(N.jsx)(sa,{name:"sort",control:i,label:s("settings.header.room.sort"),errors:o}),Object(N.jsx)(sa,{name:"usageRange",control:i,label:s("settings.header.room.usage-range"),required:!0,selectList:ia.map((function(e){return{label:s("settings.view.room.usage-range.".concat(e)),value:e}})),errors:o}),Object(N.jsx)(sa,{name:"type",control:i,label:s("settings.header.room.type"),required:!0,selectList:ra.map((function(e){return{label:s("settings.view.room.type.".concat(e)),value:e}})),errors:o}),Object(N.jsxs)(Ut.a,{container:!0,style:u?{display:"none"}:void 0,children:[Object(N.jsx)(Ut.a,{item:!0,children:Object(N.jsx)(Ja.a,{control:Object(N.jsx)(Kt.a,{name:"teaSupply.outside",control:i,render:function(e){var t=e.field;return Object(N.jsx)(Ka.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary",disabled:u})}}),label:s("settings.header.room.tea-supply.outside"),style:"inside"===m?{display:"none"}:void 0})}),Object(N.jsx)(Ut.a,{item:!0,children:Object(N.jsx)(Ja.a,{control:Object(N.jsx)(Kt.a,{name:"teaSupply.inside",control:i,render:function(e){var t=e.field;return Object(N.jsx)(Ka.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary",disabled:u})}}),label:s("settings.header.room.tea-supply.inside"),style:"outside"===m?{display:"none"}:void 0})})]}),Object(N.jsx)(sa,{name:"location",control:i,label:s("settings.header.room.location"),required:!0,selectList:null===t||void 0===t?void 0:t.map((function(e){return{label:e.name,value:e.id}})),errors:o}),Object(N.jsx)(sa,{name:"category",control:i,label:s("settings.header.room.category"),required:!0,selectList:null===a||void 0===a?void 0:a.map((function(e){return{label:e.name,value:e.id}})),errors:o}),Object(N.jsx)(sa,{name:"comment",control:i,label:s("settings.header.room.comment"),multiline:!0,errors:o}),Object(N.jsx)(Ja.a,{control:Object(N.jsx)(Kt.a,{name:"cleaningOption",control:i,render:function(e){var t=e.field;return Object(N.jsx)(Ka.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary"})}}),label:s("settings.header.room.cleaning-option")}),Object(N.jsx)(Ut.a,{container:!0,children:Object(N.jsx)(Ut.a,{item:!0,sm:4,children:Object(N.jsx)(Kt.a,{name:"reservationPeriod",control:i,rules:{required:s("common.form.required")},render:function(e){var t=e.field;return Object(N.jsx)(Gt.a,Object(ne.a)(Object(ne.a)({type:"number",inputProps:{min:0,style:{textAlign:"right"}}},t),{},{label:s("settings.header.room.reservation-periode"),error:!!o.reservationPeriod,helperText:!!o.reservationPeriod&&o.reservationPeriod.message}))}})})})]})}function Ni(){var e=Object(x.a)().t,t=Object(r.useReducer)(Oi,{mode:"addData",inputOpen:!1}),a=Object(v.a)(t,2),n=a[0],i=a[1],c=Xe("/location/choices",[]),o=Object(v.a)(c,1)[0].data,s=Xe("/category/choices",[]),l=Object(v.a)(s,1)[0].data,d=function(t){return e(t?"settings.view.room.tea-supply-true":"settings.view.room.tea-supply-false")},u=[{title:e("settings.header.room.name"),field:"name"},{title:e("settings.header.room.sort"),field:"sort"},{title:e("settings.header.room.usage-range"),field:"usageRange",render:function(t){return e("settings.view.room.usage-range.".concat(t.usageRange))}},{title:e("settings.header.room.type"),field:"type",render:function(t){return e("settings.view.room.type.".concat(t.type))}},{title:e("settings.header.room.tea-supply"),field:"teaSupply",type:"boolean",sorting:!1,render:function(t){return"none"===t.usageRange?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("span",{children:[e("settings.view.room.tea-supply.outside"),d(t.teaSupply.outside)]}),Object(N.jsx)("br",{}),Object(N.jsxs)("span",{children:[e("settings.view.room.tea-supply.inside"),d(t.teaSupply.inside)]})]}):Object(N.jsx)("span",{children:d(t.teaSupply[t.usageRange])})}},{title:e("settings.header.room.location"),field:"location",render:function(e){var t=null===o||void 0===o?void 0:o.find((function(t){return t.id===e.location}));return null===t||void 0===t?void 0:t.name}},{title:e("settings.header.room.category"),field:"category",render:function(e){var t=null===l||void 0===l?void 0:l.find((function(t){return t.id===e.category}));return null===t||void 0===t?void 0:t.name}},{title:e("settings.header.room.cleaning-option"),field:"cleaningOption",type:"boolean"},{title:e("settings.header.room.reservation-periode"),field:"reservationPeriod",render:function(e){return e.reservationPeriod?e.reservationPeriod:""}}];return Object(N.jsx)(at,{adminMode:!0,menuOpen:!0,children:Object(N.jsxs)(pe.a,{square:!0,children:[Object(N.jsx)(D.a,{p:2,children:Object(N.jsx)(vi,{master:"room",dispatch:i})}),Object(N.jsx)(D.a,{p:2,children:Object(N.jsx)(hi,{inputFields:{type:"room",item:Object(N.jsx)(Si,{locations:o,categories:l}),defaultValues:{mode:"ins",id:"",name:"",email:"",usageRange:"none",type:"rooms",sort:"",teaSupply:{outside:!1,inside:!1},comment:"",cleaningOption:!1,reservationPeriod:0,location:"",category:""}},columns:u,dataDialogHook:{state:n,dispatch:i}})})]})})}function Mi(){return Object(N.jsx)(p.a,{children:Object(N.jsxs)(O.d,{children:[Object(N.jsx)(O.b,{exact:!0,path:"/:location?/login",component:re}),Object(N.jsx)(O.b,{exact:!0,path:"/oauth/redirect",component:be}),Object(N.jsx)(O.b,{exact:!0,path:"/:location/main",component:mn}),Object(N.jsx)(O.b,{exact:!0,path:"/:location/main/byroom",component:Gn}),Object(N.jsx)(O.b,{exact:!0,path:"/:location/front",component:ji}),Object(N.jsx)(O.b,{exact:!0,path:"/:location?/settings/role",component:ki}),Object(N.jsx)(O.b,{exact:!0,path:"/:location?/settings/location",component:Ci}),Object(N.jsx)(O.b,{exact:!0,path:"/:location?/settings/category",component:Ti}),Object(N.jsx)(O.b,{exact:!0,path:"/:location?/settings/room",component:Ni}),Object(N.jsx)(O.a,{from:"/:location?/",to:"/:location?/login"})]})})}var Ii=a(442),Ri=a(443),Ei=a(447),Fi=a(446),Pi=a(220),Li=a(180),Bi=function(e){Object(Ei.a)(a,e);var t=Object(Fi.a)(a);function a(){return Object(Ii.a)(this,a),t.apply(this,arguments)}return Object(Ri.a)(a,[{key:"getCalendarHeaderText",value:function(e){return Object(nr.default)(e,"Yo MMM",{locale:Li.a})}},{key:"getDatePickerHeaderText",value:function(e){return Object(nr.default)(e,"MMMd\u65e5",{locale:Li.a})}}]),a}(Pi.default);var Vi=function(){return Object(N.jsxs)(s.a,{theme:b,children:[Object(N.jsx)(m.a,{}),Object(N.jsx)(rr.a,{utils:Bi,locale:Li.a,children:Object(N.jsx)(Mi,{})})]})},Ai=a(444),Wi=a(445),Hi=a(183),qi={en:{translation:Ai},ja:{translation:Wi}};Vt.a.use(Hi.e).init({lng:"ja",fallbackLng:"ja",interpolation:{escapeValue:!1},react:{useSuspense:!1},resources:qi});Vt.a;c.a.render(Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsxs)(o.b,{children:[Object(N.jsx)(o.a,{children:Object(N.jsx)("title",{children:"Visitors"})}),Object(N.jsx)(Vi,{})]})}),document.getElementById("root"))}},[[605,1,2]]]);
//# sourceMappingURL=main.dab6c093.chunk.js.map