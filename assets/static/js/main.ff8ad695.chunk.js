(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{415:function(e){e.exports=JSON.parse('{"login.form.email":"Email Address","login.form.password":"Password","login.form.submit":"Log In","login.form.required":"Required","login.form.invalid-pattern":"Invalid pattern"}')},416:function(e){e.exports=JSON.parse('{"common.form.required":"\u5fc5\u9808\u5165\u529b\u3067\u3059\u3002","common.button.ok":"OK","common.button.cancel":"\u30ad\u30e3\u30f3\u30bb\u30eb","common.button.search":"\u691c\u7d22","common.button.save":"\u4fdd\u5b58\u3059\u308b","common.button.delete":"\u524a\u9664\u3059\u308b","common.msg.login-success":"\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f\u3002\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u3002","common.msg.login-failed":"\u30ed\u30b0\u30a4\u30f3\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","common.msg.no-data":"\u8a72\u5f53\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093\u3002","common.msg.fetch-failed":"\u901a\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","common.msg.update-success":"\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002","common.msg.update-failed":"\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","common.msg.authority-error":"\u6a29\u9650\u304c\u3042\u308a\u307e\u305b\u3093\u3002","common.msg.prompt-logout":"\u53cd\u6620\u3059\u308b\u305f\u3081\u306b\u306f\u30ed\u30b0\u30a2\u30a6\u30c8\u304c\u5fc5\u8981\u3067\u3059\u3002","common.msg.delete-confirm":"\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","login.form.email":"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9","login.form.password":"\u30d1\u30b9\u30ef\u30fc\u30c9","login.form.submit":"\u30ed\u30b0\u30a4\u30f3","login.form.invalid-pattern":"\u7121\u52b9\u306a\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002","login.msal.login":"Office365\u3067\u30ed\u30b0\u30a4\u30f3","visitlist.title":"\u6765\u8a2a\u4e00\u89a7","visittable.header.appt-time":"\u4e88\u7d04\u6642\u9593","visittable.header.room-name":"\u4f1a\u8b70\u5ba4\u540d","visittable.header.visit-company":"\u6765\u8a2a\u793e\u540d","visittable.header.visitor-name":"\u6765\u8a2a\u8005\u540d","visittable.header.tea-supply":"\u7d66\u8336","visittable.header.number-of-visitor":"\u6765\u8a2a\u8005\u6570","visittable.header.number-of-employee":"\u5f93\u696d\u54e1\u6570","visittable.header.usage-range":"\u5229\u7528\u7bc4\u56f2","visittable.header.comment":"\u30b3\u30e1\u30f3\u30c8","visittable.header.reservation-name":"\u4e88\u7d04\u8005","visittable.header.contact-addr":"\u9023\u7d61\u5148","visittable.header.check-in":"\u30a4\u30f3","visittable.header.check-out":"\u30a2\u30a6\u30c8","visittable.header.resource-status":"\u4f1a\u8b70\u5ba4\u72b6\u614b","visittable.header.event-subject":"\u4ef6\u540d","visittable.header.event-mailto-authors":"\u4e88\u7d04\u8005\u304a\u3088\u3073\u7ba1\u7406\u8005","visittable.header.event-mailto-required":"\u5fc5\u9808\u53c2\u52a0\u8005","visittable.header.event-mailto-optional":"\u4efb\u610f\u53c2\u52a0\u8005","visittable.header.event-room":"\u4f1a\u8b70\u5ba4","visittable.header.event-start-time":"\u958b\u59cb\u6642\u523b","visittable.header.event-end-time":"\u7d42\u4e86\u6642\u523b","visittable.header.visitor-card-number":"\u30ab\u30fc\u30c9\u756a\u53f7","visittable.header.edit-action":"\u7de8\u96c6","visitdialog.view.resource-status-accepted":"\u627f\u8afe","visitdialog.view.resource-status-declined":"\u8f9e\u9000","visitdialog.view.usage-range.inside":"\u793e\u5185\u4f1a\u8b70","visitdialog.view.usage-range.outside":"\u793e\u5916\u4f1a\u8b70","visitdialog.title":"\u4e88\u7d04\u60c5\u5831","visitdialog.notes.multiple-locations":"\u203b\u8907\u6570\u306e\u5834\u6240(\u4f1a\u8b70\u5ba4\u4ee5\u5916\u542b\u3080)\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u4e00\u90e8\u6a5f\u80fd\u306f\u7de8\u96c6\u3067\u304d\u307e\u305b\u3093","visitdialog.notes.no-relevant-rooms":"\u4e88\u7d04\u53ef\u80fd\u306a\u4f1a\u8b70\u5ba4\u304c\u3042\u308a\u307e\u305b\u3093","visitdialog.button.check-in":"\u30c1\u30a7\u30c3\u30af\u30a4\u30f3","visitdialog.button.check-out":"\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8","visitdialog.form.tea-supply-yes":"\u3042\u308a","visitdialog.form.tea-supply-no":"\u306a\u3057","visitdialog.form.visitor-card-number":"\u30ab\u30fc\u30c9\u756a\u53f7","visitdialog.form.visitor-card-number-placeholder":"\u30ab\u30fc\u30c9\u756a\u53f7\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","visitdialog.form.error.event-time":"\u65e5\u4ed8\u306e\u95a2\u4fc2\u6027\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059","visitdialog.form.error.available-time":"\u4f1a\u8b70\u5ba4\u304c\u7a7a\u3044\u3066\u3044\u307e\u305b\u3093","visitdialog.form.error.room-not-covered":"\u4f1a\u8b70\u5ba4\u3092\u9078\u629e\u3057\u306a\u304a\u3057\u3066\u304f\u3060\u3055\u3044","auto-complete.no-options-text":"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u307e\u305f\u306f\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","visitorinfoform.title":"\u6765\u8a2a\u60c5\u5831","visitorinfoform.delete-confirm-title":"\u6765\u8a2a\u60c5\u5831\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","visitorinfoform.delete-confirm-message":"\u4e88\u7d04\u60c5\u5831\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","visitorinfolist.title":"\u6765\u8a2a\u4e00\u89a7","main.menu.created-visit-info":"\u81ea\u5206\u306e\u4f1a\u8b70\u4e88\u7d04","main.menu.by-meeting-room":"\u4f1a\u8b70\u5ba4\u5225","main.menu.front":"\u53d7\u4ed8","main.menu.settings":"\u8a2d\u5b9a","main.menu.settings.role":"\u30ed\u30fc\u30eb","main.menu.settings.location":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3","main.menu.settings.category":"\u30ab\u30c6\u30b4\u30ea","main.menu.settings.room":"\u4f1a\u8b70\u5ba4","main.menu.refresh":"refresh","main.menu.logout":"\u30ed\u30b0\u30a2\u30a6\u30c8","main.header.picker-label":"\u9078\u629e\u65e5","main.header.add-event":"\u65b0\u898f\u4f5c\u6210","main.visitlist.title":"\u304b\u3089\uff11\u304b\u6708\u9593\u306e\u6765\u8a2a\u60c5\u5831","main.visitlist.subtitle":"\u81ea\u5206\u304c\u4f5c\u6210\u3057\u305f\u4e88\u7d04\u3092\u8868\u793a\u3057\u307e\u3059\u3002","main.byroom.title":"\u306e\u6765\u8a2a\u60c5\u5831","main.byroom.subtitle":"\u203b\u30d5\u30ea\u30fc\u30b9\u30da\u30fc\u30b9\u306f\u8868\u793a\u3055\u308c\u307e\u305b\u3093\u3002","main.front.title":"\u306e\u53d7\u4ed8\u60c5\u5831","settings.title.role":"\u30ed\u30fc\u30eb\u8a2d\u5b9a","settings.title.location":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u8a2d\u5b9a","settings.title.category":"\u30ab\u30c6\u30b4\u30ea\u8a2d\u5b9a","settings.title.room":"\u4f1a\u8b70\u5ba4\u8a2d\u5b9a","settings.add-master":"\u65b0\u898f\u4f5c\u6210","settings.header.role.name":"\u30ed\u30fc\u30eb\u540d","settings.header.role.members":"\u30e1\u30f3\u30d0\u30fc","settings.header.location.name":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u540d","settings.header.location.url":"url\u30d1\u30b9\u540d","settings.header.location.sort":"\u8868\u793a\u9806","settings.header.category.name":"\u30ab\u30c6\u30b4\u30ea\u540d","settings.header.category.sort":"\u8868\u793a\u9806","settings.header.category.limited-public":"\u9650\u5b9a\u516c\u958b","settings.header.category.members":"\u30e1\u30f3\u30d0\u30fc","settings.header.room.name":"\u4f1a\u8b70\u5ba4\u540d","settings.header.room.email":"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9","settings.header.room.type":"\u7a2e\u5225","settings.header.room.usage-range":"\u5229\u7528\u7bc4\u56f2","settings.header.room.sort":"\u8868\u793a\u9806","settings.header.room.tea-supply":"\u7d66\u8336","settings.header.room.members":"\u30e1\u30f3\u30d0\u30fc","settings.header.room.location":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3","settings.header.room.category":"\u30ab\u30c6\u30b4\u30ea","settings.view.role.name.admin":"\u7ba1\u7406\u8005","settings.view.role.name.front":"\u30d5\u30ed\u30f3\u30c8","settings.view.room.type.rooms":"\u4f1a\u8b70\u5ba4","settings.view.room.type.free":"\u30d5\u30ea\u30fc\u30b9\u30da\u30fc\u30b9","settings.view.room.usage-range.none":"\u5236\u9650\u306a\u3057","settings.view.room.usage-range.inside":"\u793e\u5185\u7528","settings.view.room.usage-range.outside":"\u793e\u5916\u7528","settings.form.common.error.association":"\u4ed6\u306e\u8a2d\u5b9a\u3067\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u524a\u9664\u3067\u304d\u307e\u305b\u3093\u3002","settings.form.role.error.name.unique":"\u3053\u306e\u30ed\u30fc\u30eb\u306f\u65e2\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002","settings.form.location.error.url.unique":"\u3053\u306eurl\u306f\u65e2\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002","settings.form.location.error.url.pattern":"\u534a\u89d2\u306e\u5c0f\u6587\u5b57\u82f1\u6570\u5b57\u306e\u307f\u5165\u529b\u3067\u304d\u307e\u3059\u3002","settings.form.room.error.email.unique":"\u3053\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u65e2\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002","settings.form.room.error.email.pattern":"\u7121\u52b9\u306a\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002"}')},572:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(23),c=a.n(i),s=a(611),o=a(116),l=a(388),d=a.n(l),u=a(389),j=a.n(u),b=Object(o.b)({palette:{primary:d.a,secondary:j.a},props:{MuiTextField:{variant:"outlined"}},mixins:{toolbar:{minHeight:50}},overrides:{MuiTooltip:{tooltip:{fontSize:"1em"}}}}),m=a(612),O=a(58),p=a(45),h=a(13),f=a.n(h),x=a(21),v=a(12),g=a(627),y=a(601),k=a(624),w=a(59),C=a(120),N=a(288),S=a(602),D=a(600),T=a(1);function R(){return Object(T.jsxs)(w.a,{variant:"body2",color:"textSecondary",align:"center",children:["Version. 1.0.0-beta.1 - Copyright \xa9 ",Object(T.jsx)(D.a,{color:"inherit",href:"https://www.liveness.co.jp/",children:"liveness, Inc."})," ",(new Date).getFullYear(),"."]})}var F=a(60),I=a(421),E=a(352),M=Object(F.a)((function(e){return{root:{zIndex:e.zIndex.tooltip+1,color:"#fff"}}}));function B(e){var t=M();return Object(T.jsx)(I.a,{className:t.root,open:e.open,children:Object(T.jsx)(E.a,{color:"inherit"})})}var A=function(){return Object(F.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))};function P(e){return q.apply(this,arguments)}function q(){return(q=Object(x.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.prev=3,e.next=6,a.json();case 6:a.parsedBody=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:if(a.ok){e.next=14;break}throw console.error("Server Error: ",null===(n=a.parsedBody)||void 0===n?void 0:n.body),new Error(a.statusText);case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function V(e){return L.apply(this,arguments)}function L(){return L=Object(x.a)(f.a.mark((function e(t){var a,n=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:{method:"get"},e.next=3,P(new Request(t,a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function H(e,t){return z.apply(this,arguments)}function z(){return z=Object(x.a)(f.a.mark((function e(t,a){var n,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>2&&void 0!==r[2]?r[2]:{method:"post",body:JSON.stringify(a)},e.next=3,P(new Request(t,n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}var W="liveness-visitor-temp",J="liveness-visitor-user",K=function(e){sessionStorage.setItem(J,e)},U=function(){sessionStorage.removeItem(J)},G=A();function Y(){var e=Object(g.a)().t,t=G(),a=Object(p.h)(),r=Object(n.useState)(!1),i=Object(v.a)(r,2),c=i[0],s=i[1],o=function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),n=a.params.location,sessionStorage.setItem(W,n),e.next=5,V("/oauth/signin");case 5:(t=e.sent).parsedBody&&(window.location.href=t.parsedBody.url),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}var n}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(y.a,{component:"main",maxWidth:"xs",children:[Object(T.jsx)(B,{open:c}),Object(T.jsxs)("div",{className:t.paper,children:[Object(T.jsx)(k.a,{className:t.avatar,children:Object(T.jsx)(S.a,{})}),Object(T.jsx)(w.a,{component:"h1",variant:"h5",children:"Visitors for Microsoft"}),Object(T.jsx)(C.a,{onClick:o,fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:e("login.msal.login")})]}),Object(T.jsx)(N.a,{mt:8,children:Object(T.jsx)(R,{})})]})}var Z=a(7),$=a(603),X=a(621);function _(e){return Object(T.jsx)(X.a,Object(Z.a)({elevation:6,variant:"filled"},e))}var Q=function(e,t){switch(t.type){case"hide":return Object(Z.a)(Object(Z.a)({},e),{},{open:!1});case"success":case"info":case"warning":case"error":return Object(Z.a)(Object(Z.a)({},e),{},{open:!0,severity:t.type,message:t.message});default:return e}};function ee(e){var t=e.severity,a=e.message,n=e.open,r=e.onClose;return Object(T.jsx)($.a,{open:n,autoHideDuration:1500,onClose:r,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(T.jsx)(_,{onClose:r,severity:t,children:a})})}var te=Object(n.createContext)({});function ae(e){var t=e.children,a=Object(n.useReducer)(Q,{severity:"info",message:"",open:!1}),r=Object(v.a)(a,2),i=r[0],c=r[1];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(ee,Object(Z.a)(Object(Z.a)({},i),{},{onClose:function(e,t){"clickaway"!==t&&c({type:"hide"})}})),Object(T.jsx)(te.Provider,{value:{state:i,dispatch:c},children:t})]})}var ne=A();function re(){return Object(T.jsx)(ae,{children:Object(T.jsx)(ie,{})})}function ie(){var e=ne(),t=Object(g.a)().t,a=Object(n.useContext)(te),r=Object(n.useState)(!0),i=Object(v.a)(r,2),c=i[0],s=i[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(f.a.mark((function e(){var n,r,i,c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=window.location.search,e.next=4,V("/oauth/callback"+n);case 4:if(!(r=e.sent).parsedBody){e.next=18;break}if(s(!1),r.parsedBody.ok?a.dispatch({type:"success",message:t("common.msg.login-success")}):a.dispatch({type:"error",message:t("common.msg.login-failed")}),i=sessionStorage.getItem(W),sessionStorage.removeItem(W),i&&"undefined"!==i){e.next=15;break}return e.next=13,V("/location/first");case 13:(c=e.sent).parsedBody&&(i=c.parsedBody.url);case 15:o="/".concat(i,"/main"),"undefined"===i&&(o="/settings/location"),setTimeout((function(){window.location.replace(o)}),1500);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(T.jsxs)(y.a,{component:"main",maxWidth:"xs",children:[Object(T.jsx)(B,{open:c}),Object(T.jsxs)("div",{className:e.paper,children:[Object(T.jsx)(k.a,{className:e.avatar,children:Object(T.jsx)(S.a,{})}),Object(T.jsx)(w.a,{component:"h1",variant:"h5",children:"Visitors for Microsoft"})]}),Object(T.jsx)(N.a,{mt:8,children:Object(T.jsx)(R,{})})]})}var ce=a(151),se=a(3),oe=a(148),le=a(76),de=a(605),ue=a(290),je=a(580),be=a(607),me=a(224),Oe=a.n(me),pe=a(168),he=a(581),fe=a(608),xe=a(610),ve=a(209),ge=a(355),ye=a(356),ke=a(609),we=a(606),Ce=a(392),Ne=a.n(Ce),Se=a(225),De=a.n(Se),Te=a(394),Re=a.n(Te),Fe=a(395),Ie=a.n(Fe),Ee=a(396),Me=a.n(Ee),Be=a(397),Ae=a.n(Be),Pe=a(398),qe=a.n(Pe),Ve=a(399),Le=a.n(Ve),He=a(289),ze=a(293);function We(e,t){var a=Object(n.useState)(t),r=Object(v.a)(a,2),i=r[0],c=r[1],s=Object(n.useState)(!1),o=Object(v.a)(s,2),l=o[0],d=o[1],u=Object(n.useState)(!1),j=Object(v.a)(u,2),b=j[0],m=j[1],O=Object(n.useCallback)(Object(x.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!1),d(!0),t.prev=2,t.next=5,V(e);case 5:a=t.sent,console.log(e),console.log(a.parsedBody),a.parsedBody&&c(a.parsedBody),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),m(!0),console.log(t.t0);case 15:d(!1);case 16:case"end":return t.stop()}}),t,null,[[2,11]])}))),[e]),p=Object(n.useCallback)(Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O());case 1:case"end":return e.stop()}}),e)}))),[O]);return Object(n.useEffect)((function(){O()}),[O]),[{data:i,isLoading:l,isError:b},p]}function Je(){var e=We("/location/choices",[]),t=Object(v.a)(e,1)[0].data,a=Object(p.g)(),r=Object(p.h)(),i=Object(n.useState)(r.params.location),c=Object(v.a)(i,2),s=c[0],o=c[1];return t&&0!==t.length?Object(T.jsx)(He.a,{color:"primary",margin:"dense",size:"small",children:Object(T.jsx)(ze.a,{style:{color:"white"},value:s,onChange:function(e){o(e.target.value);var t=r.path.replace(/:location/i,e.target.value);a.push(t)},children:t.map((function(e){return Object(T.jsx)(ge.a,{value:e.url,children:e.name},e.url)}))})}):Object(T.jsx)(T.Fragment,{})}var Ke=Object(F.a)((function(e){return Object(oe.a)({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:230,width:"calc(100% - ".concat(230,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},toolbar:{paddingRight:24},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},location:{color:"white"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:230,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},drawerCloseIcon:Object(Z.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),calendarHidden:{display:"none"},pageTitle:{marginBottom:e.spacing(1)},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},link:{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},nested:{paddingLeft:e.spacing(10)}})})),Ue=function(e){var t=e.children,a=e.adminMode,i=e.frontMode,c=e.menuOpen,s=Object(g.a)().t,o=Ke(),l=Object(p.h)(),d=Object(n.useState)(!!c),u=Object(v.a)(d,2),j=u[0],b=u[1],m=Object(n.useState)(!0),h=Object(v.a)(m,2),k=h[0],C=h[1];Object(n.useEffect)((function(){j||C(!1)}),[j]);var S=r.a.useState(null),D=Object(v.a)(S,2),F=D[0],I=D[1],E=Boolean(F),M=function(){I(null)},B=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V("/oauth/signout");case 3:e.sent.ok&&(U(),window.location.href="/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),A={signedIn:!1,email:"",name:"",isAdmin:!1,isFront:!1},P=Object(n.useReducer)((function(e,t){switch(t.type){case"signedIn":return{signedIn:!0,email:t.user.email,name:t.user.name,isAdmin:t.user.isAdmin,isFront:t.user.isFront};case"signedOut":return A;default:return e}}),A),q=Object(v.a)(P,2),L=q[0],H=q[1],z=Object(n.useCallback)(Object(x.a)(f.a.mark((function e(){var t,a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=sessionStorage.getItem(J))){e.next=7;break}a=JSON.parse(t),H({type:"signedIn",user:a}),e.next=11;break;case 7:return e.next=9,V("/user/me");case 9:(n=e.sent).parsedBody?(r=n.parsedBody,K(JSON.stringify(r)),H({type:"signedIn",user:r})):(U(),H({type:"signedOut"}),console.log("Failed to retrieve email"));case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),U(),window.location.href="/login";case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),[]);Object(n.useEffect)((function(){z()}),[z]);var W=t,G=Object(T.jsx)(T.Fragment,{children:s("common.msg.authority-error")});return a&&!L.isAdmin&&(W=G),i&&!L.isFront&&(W=G),L.signedIn?Object(T.jsx)(ae,{children:Object(T.jsxs)("div",{className:o.root,children:[Object(T.jsx)(de.a,{position:"absolute",className:Object(se.a)(o.appBar,j&&o.appBarShift),children:Object(T.jsxs)(ue.a,{className:o.toolbar,children:[Object(T.jsx)(pe.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){b(!0)},className:Object(se.a)(o.menuButton,j&&o.menuButtonHidden),children:Object(T.jsx)(Ne.a,{})}),Object(T.jsx)(w.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:o.title,children:"Visitors for Microsoft"}),Object(T.jsx)("div",{children:Object(T.jsx)(Je,{})}),Object(T.jsxs)("div",{children:[Object(T.jsx)(pe.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){I(e.currentTarget)},color:"inherit",children:Object(T.jsx)(we.a,{})}),Object(T.jsxs)(ve.a,{id:"menu-appbar",anchorEl:F,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:E,onClose:M,children:[Object(T.jsx)(ge.a,{onClick:M,children:L.email}),Object(T.jsx)(ge.a,{onClick:B,children:s("main.menu.logout")})]})]})]})}),Object(T.jsxs)(le.a,{variant:"permanent",classes:{paper:Object(se.a)(o.drawerPaper,!j&&o.drawerPaperClose)},open:j,children:[Object(T.jsx)("div",{className:o.drawerCloseIcon,children:Object(T.jsx)(pe.a,{onClick:function(){b(!1)},children:Object(T.jsx)(Oe.a,{})})}),Object(T.jsx)(be.a,{}),Object(T.jsxs)(je.a,{children:[Object(T.jsx)(O.b,{to:"/".concat(l.params.location,"/main"),className:o.link,children:Object(T.jsxs)(he.a,{button:!0,children:[Object(T.jsx)(ye.a,{title:s("main.menu.created-visit-info"),children:Object(T.jsx)(fe.a,{children:Object(T.jsx)(De.a,{})})}),Object(T.jsx)(ke.a,{primary:s("main.menu.created-visit-info")})]})}),Object(T.jsx)(O.b,{to:"/".concat(l.params.location,"/main/byroom"),className:o.link,children:Object(T.jsxs)(he.a,{button:!0,children:[Object(T.jsx)(ye.a,{title:s("main.menu.by-meeting-room"),children:Object(T.jsx)(fe.a,{children:Object(T.jsx)(Re.a,{})})}),Object(T.jsx)(ke.a,{primary:s("main.menu.by-meeting-room")})]})}),L.isFront&&Object(T.jsx)(O.b,{to:"/".concat(l.params.location,"/front"),className:o.link,children:Object(T.jsxs)(he.a,{button:!0,children:[Object(T.jsx)(ye.a,{title:s("main.menu.front"),children:Object(T.jsx)(fe.a,{children:Object(T.jsx)(Ie.a,{})})}),Object(T.jsx)(ke.a,{primary:s("main.menu.front")})]})}),L.isAdmin&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(he.a,{button:!0,onClick:function(){j||b(!0),C(!k)},children:[Object(T.jsx)(fe.a,{children:Object(T.jsx)(Me.a,{})}),Object(T.jsx)(ke.a,{primary:s("main.menu.settings")}),k?Object(T.jsx)(Ae.a,{}):Object(T.jsx)(qe.a,{})]}),Object(T.jsxs)(xe.a,{in:k,timeout:"auto",unmountOnExit:!0,children:[Object(T.jsx)(O.b,{to:"/".concat(l.params.location,"/settings/role"),className:o.link,children:Object(T.jsx)(he.a,{button:!0,className:o.nested,children:Object(T.jsx)(ke.a,{primary:s("main.menu.settings.role")})})}),Object(T.jsx)(O.b,{to:"/".concat(l.params.location,"/settings/location"),className:o.link,children:Object(T.jsx)(he.a,{button:!0,className:o.nested,children:Object(T.jsx)(ke.a,{primary:s("main.menu.settings.location")})})}),Object(T.jsx)(O.b,{to:"/".concat(l.params.location,"/settings/category"),className:o.link,children:Object(T.jsx)(he.a,{button:!0,className:o.nested,children:Object(T.jsx)(ke.a,{primary:s("main.menu.settings.category")})})}),Object(T.jsx)(O.b,{to:"/".concat(l.params.location,"/settings/room"),className:o.link,children:Object(T.jsx)(he.a,{button:!0,className:o.nested,children:Object(T.jsx)(ke.a,{primary:s("main.menu.settings.room")})})})]})]}),Object(T.jsxs)(he.a,{button:!0,onClick:function(){window.location.reload()},children:[Object(T.jsx)(ye.a,{title:s("main.menu.refresh"),children:Object(T.jsx)(fe.a,{children:Object(T.jsx)(Le.a,{})})}),Object(T.jsx)(ke.a,{primary:s("main.menu.refresh")})]})]})]}),Object(T.jsxs)("main",{className:o.content,children:[Object(T.jsx)("div",{className:o.appBarSpacer}),Object(T.jsxs)(y.a,{maxWidth:"lg",className:o.container,children:[W,Object(T.jsx)(N.a,{pt:4,children:Object(T.jsx)(R,{})})]})]})]})}):Object(T.jsx)(T.Fragment,{})},Ge=a(106),Ye=a.n(Ge),Ze=a(401),$e=a.n(Ze),Xe=a(409),_e=a.n(Xe),Qe=a(402),et=a.n(Qe),tt=a(297),at=a.n(tt),nt=a(296),rt=a.n(nt),it=a(403),ct=a.n(it),st=a(405),ot=a.n(st),lt=a(406),dt=a.n(lt),ut=a(407),jt=a.n(ut),bt=a(410),mt=a.n(bt),Ot=a(404),pt=a.n(Ot),ht=a(408),ft=a.n(ht),xt=a(411),vt=a.n(xt),gt={Add:Object(n.forwardRef)((function(e,t){return Object(T.jsx)($e.a,Object(Z.a)(Object(Z.a)({},e),{},{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(et.a,Object(Z.a)(Object(Z.a)({},e),{},{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(rt.a,Object(Z.a)(Object(Z.a)({},e),{},{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(ct.a,Object(Z.a)(Object(Z.a)({},e),{},{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(at.a,Object(Z.a)(Object(Z.a)({},e),{},{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(De.a,Object(Z.a)(Object(Z.a)({},e),{},{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(pt.a,Object(Z.a)(Object(Z.a)({},e),{},{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(ot.a,Object(Z.a)(Object(Z.a)({},e),{},{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(dt.a,Object(Z.a)(Object(Z.a)({},e),{},{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(jt.a,Object(Z.a)(Object(Z.a)({},e),{},{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(at.a,Object(Z.a)(Object(Z.a)({},e),{},{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(Oe.a,Object(Z.a)(Object(Z.a)({},e),{},{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(rt.a,Object(Z.a)(Object(Z.a)({},e),{},{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(ft.a,Object(Z.a)(Object(Z.a)({},e),{},{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(_e.a,Object(Z.a)(Object(Z.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(mt.a,Object(Z.a)(Object(Z.a)({},e),{},{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(vt.a,Object(Z.a)(Object(Z.a)({},e),{},{ref:t}))}))},yt={paging:!0,pageSize:10,pageSizeOptions:[5,10,20,50]},kt=a(173),wt=function(){return Object(F.a)((function(){return{cellApptTime:{},cellRoomName:{},cellRoomStatus:{},cellReservationName:{},cellVisitCompany:{},cellSubject:{},cellContactAddr:{},cellCheckIn:{},cellCheckOut:{},declinedApptTime:{textDecoration:"line-through 2px solid red"},declinedRoomName:{"&::after":{wordBreak:"keep-all",marginLeft:5,padding:"1px 5px",color:"red",border:"1px solid red",content:'"'.concat(kt.a.t("visitdialog.view.resource-status-declined"),'"')}}}}))},Ct=function(e,t,a){var n=e.charAt(0).toUpperCase()+e.slice(1);return Object(se.a)(a["cell".concat(n)],"declined"===t.roomStatus&&a["declined".concat(n)])},Nt=a(133),St=a(357),Dt=Object(o.b)({palette:{primary:{main:Nt.a[300]},secondary:{main:St.a[500]}},props:{MuiTableRow:{}},overrides:{MuiTable:{root:{borderCollapse:"separate"}}}}),Tt=function(){var e="thin solid rgba(0, 0, 0, 0.12)";return Object(F.a)((function(t){return{list:{display:"flex","&:first-child > div":{borderTop:e}},title:{boxSizing:"border-box",flexBasis:"25%",padding:"0.7em",backgroundColor:t.palette.primary.light,borderLeft:e,borderBottom:e},field:{boxSizing:"border-box",flexBasis:"75%",padding:"0.7em",borderRight:e,borderBottom:e,whiteSpace:"pre-wrap"},fieldSlim:{boxSizing:"border-box",flexBasis:"75%",padding:"0.2em",borderRight:e,borderBottom:e,whiteSpace:"pre-wrap"}}}))},Rt=a(97),Ft=a(28),It=a(244),Et=a(236),Mt=a.n(Et),Bt=a(235),At=a.n(Bt),Pt=a(618),qt=a(105),Vt=a.n(qt),Lt=["rooms","free"],Ht=["inside","outside"],zt=["none"].concat(Ht);function Wt(e,t){return Jt.apply(this,arguments)}function Jt(){return(Jt=Object(x.a)(f.a.mark((function e(t,a){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("formData",a),e.next=4,H(t,a);case 4:if(n=e.sent,console.log("response",n),!(r=n.parsedBody)){e.next=11;break}return e.abrupt("return",Promise.resolve(r));case 11:return e.abrupt("return",Promise.reject(new Error("No Result Error")));case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Promise.reject(e.t0));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}var Kt=a(227);function Ut(e){var t=e.name,a=e.control,n=e.label,r=e.required,i=e.selectList,c=e.multiline,s=e.disabled,o=e.validation,l=e.errors,d=Object(g.a)().t,u=Object(Z.a)({required:!!r&&d("common.form.required")},o);return Object(T.jsx)(Ft.a,{name:t,control:a,rules:u,render:function(e){var a=e.field;return Object(T.jsx)(Kt.a,Object(Z.a)(Object(Z.a)({},a),{},{label:n,disabled:s,multiline:c,select:!!i,error:!!l[t],helperText:l[t]&&l[t].message,children:!!i&&i.map((function(e,a){return Object(T.jsx)("option",{value:e.value,children:e.label},"".concat(t,"-").concat(a))}))}))}})}var Gt=a(622),Yt=a(386);function Zt(e){var t=e.name,a=e.control,r=e.label,i=e.errors,c=e.disabled,s=e.style,o=Object(g.a)().t,l=Object(n.useState)(""),d=Object(v.a)(l,2),u=d[0],j=d[1],b=We("/user/addressbook?filter=".concat(u),[]),m=Object(v.a)(b,1)[0],O=m.data,p=m.isLoading,h=Object(n.useState)(!1),y=Object(v.a)(h,2),k=y[0],w=y[1];Object(n.useEffect)((function(){k||j("")}),[k]);var C=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)(Ft.a,{name:t,control:a,render:function(e){var a=e.field;return Object(T.jsx)(Gt.a,Object(Z.a)(Object(Z.a)({},a),{},{disabled:c,style:s,multiple:!0,limitTags:c?void 0:2,size:"small",open:k,onOpen:function(){w(!0)},onClose:function(){w(!1)},options:O&&u?O:[],noOptionsText:o("auto-complete.no-options-text"),loading:p,getOptionLabel:function(e){return"".concat(e.name," <").concat(e.address,">")},renderTags:function(e,t){return e.map((function(e,a){return Object(T.jsx)(Yt.a,Object(Z.a)({label:e.name,title:e.address},t({index:a})))}))},filterSelectedOptions:!0,getOptionSelected:function(e,t){return e.address===t.address},renderInput:function(e){return Object(T.jsx)(Kt.a,Object(Z.a)(Object(Z.a)({},e),{},{label:r,error:!!i[t],helperText:i[t]&&i[t].message,InputProps:Object(Z.a)(Object(Z.a)({},e.InputProps),{},{endAdornment:Object(T.jsxs)(T.Fragment,{children:[p?Object(T.jsx)(E.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}),onChange:function(e){""===e.target.value&&null===e.target.value||C(e.target.value)}}))},onChange:function(e,t){return a.onChange(t)}}))}})}var $t=a(584),Xt=a(585),_t=a(586),Qt=a(614);function ea(e){var t=e.open,a=e.onClose,n=e.title,r=e.children,i=Object(g.a)().t;return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)($t.a,{open:t,onClose:a,fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title",children:[Object(T.jsx)(Qt.a,{id:"form-dialog-title",children:n}),Object(T.jsx)(_t.a,{dividers:!0,children:r}),Object(T.jsx)(Xt.a,{children:Object(T.jsx)(C.a,{onClick:function(){a()},children:i("common.button.cancel")})})]})})}var ta=a(613);function aa(e){var t=e.open,a=e.onClose,n=Object(g.a)().t;return Object(T.jsx)("div",{children:Object(T.jsxs)($t.a,{open:t,onClose:function(){a(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(T.jsx)(_t.a,{children:Object(T.jsx)(ta.a,{id:"alert-dialog-description",children:n("visitorinfoform.delete-confirm-message")})}),Object(T.jsxs)(Xt.a,{children:[Object(T.jsx)(C.a,{onClick:function(){a(!0)},color:"secondary",children:"OK"}),Object(T.jsx)(C.a,{onClick:function(){a(!1)},color:"secondary",autoFocus:!0,children:"CANCEL"})]})]})})}var na=a(358),ra=a(616);function ia(e){var t=e.control,a=e.setValue,r=e.rooms,i=e.roomId,c=e.disabledVisitor,s=e.disabledRoom,o=e.errors,l=Object(g.a)().t,d=Object(n.useState)(!1),u=Object(v.a)(d,2),j=u[0],b=u[1],m=Object(Ft.e)({control:t,name:"resourcies.".concat(i,".roomForEdit")});Object(n.useEffect)((function(){if(m&&r){var e=r.some((function(e){return e.id===m&&e.teaSupply}));e||a("resourcies.".concat(i,".teaSupply"),!1),b(!e)}else a("resourcies.".concat(i,".teaSupply"),!1),b(!0)}),[i,m,r,a]);var O=Object(n.useState)(!1),p=Object(v.a)(O,2),h=p[0],f=p[1],x=Object(Ft.e)({control:t,name:"resourcies.".concat(i,".teaSupply")});Object(n.useEffect)((function(){x||(a("resourcies.".concat(i,".numberOfVisitor"),0),a("resourcies.".concat(i,".numberOfEmployee"),0)),f(!x)}),[x,a,i]),Object(n.useEffect)((function(){c&&a("resourcies.".concat(i,".numberOfVisitor"),0)}),[a,c,i]);var y=function(e){return Object(qt.get)(o,"resourcies.".concat(i,".").concat(e))};return 0===(null===r||void 0===r?void 0:r.length)?Object(T.jsx)(N.a,{px:2,style:{textAlign:"center",color:"red"},children:l("visitdialog.notes.no-relevant-rooms")}):Object(T.jsxs)(N.a,{px:2,children:[Object(T.jsx)(Ft.a,{name:"resourcies.".concat(i,".roomForEdit"),control:t,rules:{required:l("common.form.required"),validate:function(e){return r.some((function(t){return t.id===e}))?void 0:l("visitdialog.form.error.room-not-covered")}},render:function(e){var t=e.field;return Object(T.jsx)(Kt.a,Object(Z.a)(Object(Z.a)({},t),{},{select:!0,disabled:s,label:l("visittable.header.event-room"),error:!!y("roomForEdit"),helperText:!!y("roomForEdit")&&y("roomForEdit").message,children:r.map((function(e){return Object(T.jsxs)("option",{value:e.id,children:[e.name," ","<",e.email,">"]},e.id)}))}))}}),Object(T.jsxs)(It.a,{container:!0,spacing:1,style:j?{display:"none"}:void 0,children:[Object(T.jsx)(It.a,{item:!0,xs:4,children:Object(T.jsx)(na.a,{control:Object(T.jsx)(Ft.a,{name:"resourcies.".concat(i,".teaSupply"),control:t,render:function(e){var t=e.field;return Object(T.jsx)(ra.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary",disabled:j})}}),label:l("visittable.header.tea-supply")})}),Object(T.jsx)(It.a,{item:!0,xs:4,style:c?{opacity:0}:void 0,children:Object(T.jsx)(Ft.a,{name:"resourcies.".concat(i,".numberOfVisitor"),control:t,rules:{required:l("common.form.required")},render:function(e){var t=e.field;return Object(T.jsx)(Kt.a,Object(Z.a)(Object(Z.a)({type:"number",inputProps:{min:0,style:{textAlign:"right"}}},t),{},{disabled:h||c,label:l("visittable.header.number-of-visitor"),error:!!y("numberOfVisitor"),helperText:!!y("numberOfVisitor")&&y("numberOfVisitor").message}))}})}),Object(T.jsx)(It.a,{item:!0,xs:4,children:Object(T.jsx)(Ft.a,{name:"resourcies.".concat(i,".numberOfEmployee"),control:t,rules:{required:l("common.form.required")},render:function(e){var t=e.field;return Object(T.jsx)(Kt.a,Object(Z.a)(Object(Z.a)({type:"number",inputProps:{min:0,style:{textAlign:"right"}}},t),{},{disabled:h,label:l("visittable.header.number-of-employee"),error:!!y("numberOfEmployee"),helperText:!!y("numberOfEmployee")&&y("numberOfEmployee").message}))}})})]})]})}var ca=Tt(),sa=function(e){switch(e){case"accepted":return"visitdialog.view.resource-status-accepted";case"declined":return"visitdialog.view.resource-status-declined";default:return""}};function oa(e){var t=e.data,a=e.hiddenTeaSupply,n=Object(g.a)().t,r=ca();return Object(T.jsx)(N.a,{px:2,pt:2,children:Object(T.jsxs)(je.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:r.list,children:[Object(T.jsx)("div",{className:r.title,children:n("visittable.header.room-name")}),Object(T.jsxs)("div",{className:r.field,children:[t.roomName," ","<",t.roomEmail,">"]})]},"room-name"),Object(T.jsxs)("li",{className:r.list,children:[Object(T.jsx)("div",{className:r.title,children:n("visittable.header.resource-status")}),Object(T.jsx)("div",{className:r.field,children:n(sa(t.roomStatus))})]},"resource-status"),!a&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("li",{className:r.list,children:[Object(T.jsx)("div",{className:r.title,children:n("visittable.header.tea-supply")}),Object(T.jsx)("div",{className:r.field,children:t.teaSupply?n("visitdialog.form.tea-supply-yes"):n("visitdialog.form.tea-supply-no")})]},"tea-supply"),t.teaSupply&&Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("li",{className:r.list,children:[Object(T.jsx)("div",{className:r.title,children:n("visittable.header.number-of-visitor")}),Object(T.jsx)("div",{className:r.field,style:{flexBasis:"25%",borderRight:"none"},children:t.numberOfVisitor}),Object(T.jsx)("div",{className:r.title,style:{flexBasis:"25%",borderLeft:"none"},children:n("visittable.header.number-of-employee")}),Object(T.jsx)("div",{className:r.field,style:{flexBasis:"25%"},children:t.numberOfEmployee})]},"number-of-visitor")})]})]})})}var la=a(274);function da(e){var t=e.name,a=e.control,n=e.getValues,r=e.label,i=e.handleDateTimeChange,c=e.errors,s=Object(g.a)().t;return Object(T.jsx)(Ft.a,{name:t,control:a,rules:{required:s("common.form.required"),validate:function(){return n("startTime").getTime()<n("endTime").getTime()||s("visitdialog.form.error.event-time")}},render:function(e){var a=e.field;return Object(T.jsx)(la.a,Object(Z.a)(Object(Z.a)({},a),{},{onChange:function(e){a.onChange(e),i()},ampm:!1,format:"yyyy/MM/dd HH:mm",disablePast:!0,minutesStep:5,label:r,error:!!c[t],helperText:c[t]&&c[t].message,ref:null}))}})}var ua=Tt(),ja=Object(F.a)((function(e){return Object(oe.a)({formAction:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},note:{color:"red",fontSize:"0.9em",margin:0}})})),ba=Object(o.b)({palette:{primary:{main:St.a[500]},secondary:{main:Nt.a[300]}},props:{MuiTextField:{variant:"outlined",margin:"dense",fullWidth:!0,minRows:4}}}),ma=function(e){return 1e3*Math.ceil(e.getTime()/1e3/60/5)*60*5},Oa="add-room-01",pa=function(e,t){var a=e||new Date,n=t||"";return{mode:"ins",iCalUId:"",subject:"",visitorId:"",visitCompany:"",visitorName:"",mailto:{authors:[],required:[],optional:[]},usageRange:"inside",resourcies:Object(Rt.a)({},Oa,{roomForEdit:n,teaSupply:!1,numberOfVisitor:0,numberOfEmployee:0}),comment:"",contactAddr:"",startTime:Object(Pt.a)(ma(a),0),endTime:Object(Pt.a)(ma(a),30)}};function ha(e){var t=e.open,a=e.onClose,r=e.data,i=e.reload,c=e.addDefault,o=Object(g.a)().t,l=Object(Z.a)(Object(Z.a)({},ua()),ja()),d=Object(n.useContext)(te),u=Object(p.h)(),j=Object(n.useState)(!1),b=Object(v.a)(j,2),m=b[0],O=b[1],h=pa(),y=Object(Ft.c)({defaultValues:h}),k=y.control,w=y.getValues,S=y.handleSubmit,D=y.reset,R=y.setValue,F=y.trigger,I=y.setError,E=y.formState,M=E.errors,A=E.isDirty,P=E.isSubmitting,q=E.dirtyFields;Object(n.useEffect)((function(){D(t&&r?{mode:"upd",iCalUId:r.iCalUId,subject:r.subject,visitorId:r.visitorId,visitCompany:r.visitCompany,visitorName:r.visitorName,mailto:r.mailto,usageRange:r.usageRange,resourcies:Object.keys(r.resourcies).reduce((function(e,t){return e[t]={roomForEdit:t,teaSupply:r.resourcies[t].teaSupply,numberOfVisitor:r.resourcies[t].numberOfVisitor,numberOfEmployee:r.resourcies[t].numberOfEmployee},e}),{}),comment:r.comment,contactAddr:r.contactAddr,startTime:new Date(r.startDateTime),endTime:new Date(r.endDateTime)}:Vt.a.cloneDeep(pa(null===c||void 0===c?void 0:c.start,null===c||void 0===c?void 0:c.roomId)))}),[r,t,D,c]);var V=Object(n.useState)(!1),L=Object(v.a)(V,2),H=L[0],z=L[1],W=Object(Ft.e)({control:k,name:"usageRange"}),J="/room/choices?location=".concat(u.params.location),K=Object(n.useState)(J),U=Object(v.a)(K,2),G=U[0],Y=U[1],$=We(G,[]),X=Object(v.a)($,1)[0].data,_=Object(n.useCallback)((function(){"upd"===w("mode")?Y(J):Y(J+"&start=".concat(w("startTime").getTime(),"&end=").concat(w("endTime").getTime())+"&usagerange=".concat(w("usageRange")))}),[J,w]);Object(n.useEffect)((function(){t&&_()}),[_,t,W]),Object(n.useEffect)((function(){t||z(!1)}),[t]);var Q=Object(n.useState)(!1),ee=Object(v.a)(Q,2),ae=ee[0],ne=ee[1];Object(n.useEffect)((function(){"inside"===W?(R("visitCompany",""),R("visitorName",""),ne(!0)):ne(!1)}),[R,W]);var re=function(){var e=Object(x.a)(f.a.mark((function e(t){var n,r,c,s,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n="",e.t0=t.mode,e.next="ins"===e.t0?5:"upd"===e.t0?7:"del"===e.t0?9:11;break;case 5:return n="/event/create",e.abrupt("break",11);case 7:return n="/event/update",e.abrupt("break",11);case 9:return n="/event/delete",e.abrupt("break",11);case 11:return e.next=13,Wt(n,{inputs:t,dirtyFields:q});case 13:if(!(r=e.sent).success){e.next=24;break}if("del"!==t.mode){e.next=18;break}return e.next=18,new Promise((function(e){return setTimeout(e,1e3)}));case 18:return e.next=20,i();case 20:a(),d.dispatch({type:"success",message:o("common.msg.update-success")}),e.next=25;break;case 24:if(r.errors)for(s in c=r.errors)I(l=s,{message:o(c[l][0])});case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(0),d.dispatch({type:"error",message:e.t1.message});case 30:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(["startTime","endTime"]);case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:_(),z(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){"upd"!==w("mode")&&(H||z(!0))};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(B,{open:P}),Object(T.jsx)(ea,{open:t,onClose:a,title:o("visitdialog.title"),children:Object(T.jsxs)(s.a,{theme:ba,children:[!!r&&Object(T.jsx)(N.a,{px:2,children:r.isMSMultipleLocations?Object(T.jsx)("p",{className:l.note,children:o("visitdialog.notes.multiple-locations")}):Object(T.jsxs)(je.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:l.list,children:[Object(T.jsx)("div",{className:l.title,children:o("visittable.header.resource-status")}),Object(T.jsx)("div",{className:l.field,children:o(sa(r.roomStatus))})]},"resource-status"),Object(T.jsxs)("li",{className:l.list,children:[Object(T.jsx)("div",{className:l.title,children:o("visittable.header.reservation-name")}),Object(T.jsx)("div",{className:l.field,children:r.reservationName})]},"reservation-name")]})}),Object(T.jsxs)("form",{children:[Object(T.jsxs)(N.a,{p:2,children:[Object(T.jsx)(Ut,{name:"subject",control:k,label:o("visittable.header.event-subject"),required:!0,errors:M}),Object(T.jsx)(Zt,{name:"mailto.authors",control:k,label:o("visittable.header.event-mailto-authors"),errors:M,disabled:!0,style:{display:"none"}}),Object(T.jsx)(Zt,{name:"mailto.required",control:k,label:o("visittable.header.event-mailto-required"),errors:M,disabled:null===r||void 0===r?void 0:r.isMSMultipleLocations}),Object(T.jsx)(Zt,{name:"mailto.optional",control:k,label:o("visittable.header.event-mailto-optional"),errors:M,disabled:null===r||void 0===r?void 0:r.isMSMultipleLocations}),Object(T.jsx)(N.a,{py:1,style:r?{display:"none"}:void 0,children:Object(T.jsx)(Ut,{name:"usageRange",control:k,label:o("visittable.header.usage-range"),required:!0,selectList:Ht.map((function(e){return{label:o("visitdialog.view.usage-range.".concat(e)),value:e}})),disabled:!!r,errors:M})}),Object(T.jsxs)(It.a,{container:!0,spacing:1,children:[Object(T.jsx)(It.a,{item:!0,xs:5,children:Object(T.jsx)(da,{name:"startTime",control:k,getValues:w,label:o("visittable.header.event-start-time"),handleDateTimeChange:function(){var e=Object(Pt.a)(ma(w("startTime")),30);R("endTime",e),ce()},errors:M})}),Object(T.jsx)(It.a,{item:!0,xs:5,children:Object(T.jsx)(da,{name:"endTime",control:k,getValues:w,label:o("visittable.header.event-end-time"),handleDateTimeChange:function(){ce()},errors:M})}),Object(T.jsx)(It.a,{item:!0,xs:2,style:{margin:"auto"},children:Object(T.jsx)(C.a,{onClick:ie,variant:"contained",color:"primary",fullWidth:!0,disabled:(null===r||void 0===r?void 0:r.isMSMultipleLocations)||!H,children:o("common.button.search")})})]})]}),r?Object(T.jsx)(T.Fragment,{children:r.isMSMultipleLocations?Object(T.jsx)(s.a,{theme:Dt,children:Object.keys(r.resourcies).map((function(e){return Object(T.jsx)(oa,{data:r.resourcies[e]},e)}))}):!H&&Object(T.jsx)(ia,{control:k,setValue:R,rooms:X,roomId:Object.keys(r.resourcies)[0],disabledRoom:!0,disabledVisitor:"inside"===r.usageRange,errors:M})}):!H&&Object(T.jsx)(ia,{control:k,setValue:R,rooms:X,roomId:Oa,disabledVisitor:ae,errors:M}),Object(T.jsxs)(N.a,{p:2,style:ae?{display:"none"}:void 0,children:[Object(T.jsx)(Ut,{name:"visitCompany",control:k,label:o("visittable.header.visit-company"),required:!ae,disabled:ae,errors:M}),Object(T.jsx)(Ut,{name:"visitorName",control:k,label:o("visittable.header.visitor-name"),disabled:ae,errors:M})]}),Object(T.jsxs)(N.a,{p:2,children:[Object(T.jsx)(Ut,{name:"comment",control:k,label:o("visittable.header.comment"),multiline:!0,errors:M}),Object(T.jsx)(Ut,{name:"contactAddr",control:k,label:o("visittable.header.contact-addr"),errors:M})]}),Object(T.jsx)(N.a,{px:2,children:Object(T.jsxs)(It.a,{container:!0,justifyContent:"space-between",spacing:2,className:l.formAction,children:[Object(T.jsx)(It.a,{item:!0,xs:r?6:12,children:Object(T.jsx)(C.a,{onClick:function(){S(re)()},variant:"contained",color:"primary",disabled:!A||H,startIcon:Object(T.jsx)(At.a,{}),fullWidth:!0,children:o("common.button.save")})}),Object(T.jsx)(It.a,{item:!0,xs:6,style:r?void 0:{display:"none"},children:Object(T.jsx)(C.a,{onClick:function(){O(!0)},variant:"contained",color:"primary",startIcon:Object(T.jsx)(Mt.a,{}),fullWidth:!0,children:o("common.button.delete")})})]})})]})]})}),Object(T.jsx)(aa,{open:m,onClose:function(e){O(!1),e&&(R("mode","del"),S(re)())}})]})}var fa=Object(F.a)((function(e){return Object(oe.a)({root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}}})}));function xa(e){var t=e.key,a=e.data,n=fa();return Object(T.jsx)("div",{className:n.root,children:a.map((function(e,a){return Object(T.jsx)(Yt.a,{label:e.name},"".concat(t,"-").concat(a))}))})}var va=Tt();function ga(e){var t=e.open,a=e.onClose,n=e.data,r=Object(g.a)().t,i=va();return n.isAttendees?Object(T.jsxs)(ea,{open:t,onClose:a,title:r("visitdialog.title"),children:[Object(T.jsx)(N.a,{px:2,pt:2,children:Object(T.jsxs)(je.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.event-subject")}),Object(T.jsx)("div",{className:i.field,children:n.subject})]},"event-subject"),Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.appt-time")}),Object(T.jsx)("div",{className:i.field,children:n.apptTime})]},"app-time"),Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.reservation-name")}),Object(T.jsx)("div",{className:i.field,children:n.reservationName})]},"reservation-name")]})}),Object(T.jsx)(N.a,{px:2,pt:2,children:Object(T.jsxs)(je.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.event-mailto-required")}),Object(T.jsx)("div",{className:i.fieldSlim,children:Object(T.jsx)(xa,{data:n.mailto.required},"mailto-required")})]},"mailto-required"),Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.event-mailto-optional")}),Object(T.jsx)("div",{className:i.fieldSlim,children:Object(T.jsx)(xa,{data:n.mailto.optional},"mailto-optional")})]},"mailto-optional")]})}),Object.keys(n.resourcies).map((function(e){return Object(T.jsx)(oa,{data:n.resourcies[e]},e)})),Object(T.jsx)(N.a,{px:2,pt:2,style:"inside"===n.usageRange?{display:"none"}:void 0,children:Object(T.jsxs)(je.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.visit-company")}),Object(T.jsx)("div",{className:i.field,children:n.visitCompany})]},"visit-company"),Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.visitor-name")}),Object(T.jsx)("div",{className:i.field,children:n.visitorName})]},"visitor-name")]})}),Object(T.jsx)(N.a,{p:2,pt:2,children:Object(T.jsxs)(je.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.comment")}),Object(T.jsx)("div",{className:i.field,children:n.comment})]},"comment"),Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.contact-addr")}),Object(T.jsx)("div",{className:i.field,children:n.contactAddr})]},"contact-addr")]})})]}):Object(T.jsx)(ea,{open:t,onClose:a,title:r("visitdialog.title"),children:r("common.msg.authority-error")})}var ya=function(e,t){switch(t.type){case"inputOpen":return{mode:"rowData",inputOpen:!0,readOpen:!1};case"addDataOpen":return{mode:"addData",inputOpen:!0,readOpen:!1,addDefault:t.addDefault};case"inputClose":return Object(Z.a)(Object(Z.a)({},e),{},{inputOpen:!1});case"readOpen":return{mode:"rowData",inputOpen:!1,readOpen:!0};case"readClose":return Object(Z.a)(Object(Z.a)({},e),{},{readOpen:!1});default:return e}};function ka(e){var t=e.dataDialogHook,a=e.isLoading,n=e.reload,r=e.currentRow,i=e.children,c=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch({type:"inputClose"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch({type:"readClose"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(s.a,{theme:Dt,children:[Object(T.jsx)(B,{open:a}),i,Object(T.jsx)(ha,{open:t.state.inputOpen,onClose:c,data:"addData"===t.state.mode?null:r,reload:n,addDefault:t.state.addDefault}),!!r&&Object(T.jsx)(ga,{open:t.state.readOpen,onClose:o,data:r})]})}var wa=wt();function Ca(e){var t=e.currentDate,a=e.dataDialogHook,r=Object(g.a)().t,i=wa(),c=Object(p.h)(),s=We("/event/visitlist?timestamp=".concat(t.getTime(),"&location=").concat(c.params.location),[]),o=Object(v.a)(s,2),l=o[0],d=l.data,u=l.isLoading,j=l.isError,b=o[1],m=Object(n.useState)(null),O=Object(v.a)(m,2),h=O[0],f=O[1],x=Object(n.useCallback)((function(e){e.isAuthor?a.dispatch({type:"inputOpen"}):a.dispatch({type:"readOpen"}),f(e)}),[a]),y=[{title:r("visittable.header.appt-time"),field:"apptTime"},{title:r("visittable.header.room-name"),field:"roomName"},{title:r("visittable.header.event-subject"),field:"subject"},{title:r("visittable.header.visit-company"),field:"visitCompany"},{title:r("visittable.header.reservation-name"),field:"reservationName"}];return j?Object(T.jsx)("div",{children:r("common.msg.fetch-failed")}):Object(T.jsx)(ka,{currentRow:h,dataDialogHook:a,isLoading:u,reload:b,children:Object(T.jsx)(Ye.a,{columns:y,components:{Cell:function(e){return Object(T.jsx)(Ge.MTableCell,Object(Z.a)(Object(Z.a)({},e),{},{className:Ct(e.columnDef.field,e.rowData,i)}))}},data:d,onRowClick:function(e,t){return!!t&&x(t)},options:Object(Z.a)({showTitle:!1,toolbar:!1,search:!1,headerStyle:{backgroundColor:Dt.palette.primary.light},tableLayout:"fixed"},yt),icons:gt})})}var Na=a(237),Sa=a.n(Na),Da=a(273),Ta=Object(F.a)({keyboardDatePicker:{"& .MuiOutlinedInput-adornedEnd":{paddingRight:0}}});var Ra=function(e){var t=e.label,a=e.date,n=e.onChange,r=Ta();return Object(T.jsx)(Da.b,{margin:"normal",id:"date-picker-dialog",label:t,format:"yyyy/MM/dd",showTodayButton:!0,value:a,onChange:n,KeyboardButtonProps:{"aria-label":"change date"},size:"small",className:r.keyboardDatePicker,inputProps:{style:{width:85}}})},Fa=Object(F.a)((function(){return{datePickerArea:{},actionButtonArea:{textAlign:"right",margin:"auto"},datePicker:{margin:"auto 0"},title:{margin:"auto 0.25em"}}}));function Ia(e){var t=e.title,a=e.subtitle,n=e.date,r=e.onDateChange,i=e.dispatch,c=Object(g.a)().t,s=Fa();return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(It.a,{container:!0,alignItems:"stretch",justifyContent:"space-between",children:[Object(T.jsxs)(It.a,{container:!0,item:!0,xs:12,sm:9,className:s.datePickerArea,children:[Object(T.jsx)(It.a,{item:!0,className:s.datePicker,children:Object(T.jsx)(Ra,{label:c("main.header.picker-label"),date:n,onChange:r})}),Object(T.jsx)(It.a,{item:!0,className:s.title,children:Object(T.jsx)(w.a,{component:"h5",children:t})})]}),Object(T.jsx)(It.a,{item:!0,xs:12,sm:3,className:s.actionButtonArea,children:Object(T.jsx)(C.a,{variant:"contained",color:"secondary",startIcon:Object(T.jsx)(Sa.a,{}),onClick:function(e){i({type:"addDataOpen"})},children:c("main.header.add-event")})}),Object(T.jsx)(N.a,{pt:1,children:a})]})})}function Ea(){var e=Object(g.a)().t,t=Object(n.useState)(new Date),a=Object(v.a)(t,2),r=a[0],i=a[1],c=Object(n.useReducer)(ya,{mode:"addData",inputOpen:!1,readOpen:!1}),s=Object(v.a)(c,2),o=s[0],l=s[1];return Object(T.jsx)(Ue,{children:Object(T.jsxs)(ce.a,{square:!0,children:[Object(T.jsx)(N.a,{p:2,children:Object(T.jsx)(Ia,{title:e("main.visitlist.title"),subtitle:e("main.visitlist.subtitle"),date:r,onDateChange:function(e){i(e)},dispatch:l})}),Object(T.jsx)(N.a,{px:2,pb:2,children:Object(T.jsx)(Ca,{currentDate:r,dataDialogHook:{state:o,dispatch:l}})})]})})}var Ma=a(5),Ba=a(147),Aa=a(623),Pa=a(400),qa=a(295),Va=a(149),La=a(242),Ha={width:120,halfWidth:60,scale:2,transform:{x:-960,y:0}},za=70,Wa="0 0 ".concat(1442," ").concat(za),Ja=30,Ka=function(e,t){var a=Object(Ba.a)(e);return Object(Aa.a)(e,a)*t.scale},Ua=function(e,t,a){var n=new Date(e.start),r=new Date(e.end),i=Ka(n,t),c=Ka(r,t);if(!Object(Pa.a)(n,r)){var s=Object(Ba.a)(a),o=Object(qa.a)(a);Object(Va.a)(o,r)&&(c=Ka(o,t)),Object(La.a)(s,n)&&(i=Ka(s,t))}return{x:i,width:c-i,className:e.status}},Ga=function(e,t){return(e+1)*t+1},Ya=function(e){return"translate(".concat(e.transform.x,",").concat(e.transform.y,")")},Za=Object(Ma.a)((function(e){return{tooltip:{backgroundColor:e.palette.grey[100],color:e.palette.text.primary,maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid ".concat(e.palette.grey[300])}}}))(ye.a),$a=Object(F.a)((function(e){return Object(oe.a)({container:{display:"flex",flexDirection:"column",height:"5vmin","& svg":{fontSize:"1.5rem","& line":{strokeWidth:2},"& line.hour-line":{stroke:e.palette.grey[400]},"& line.hour-half-line":{stroke:e.palette.grey[300]},"& text":{fill:e.palette.grey[400]},"& text.subject":{fill:"#fff",fontSize:"1.2rem",dominantBaseline:"central",cursor:"pointer"},"& rect":{strokeWidth:1,fillOpacity:.5},"& rect.new-event-bar":{fillOpacity:0},"& rect.event":{stroke:e.palette.success.main,fill:e.palette.success.light,fillOpacity:.9,cursor:"pointer"},"& rect.myOwn":{stroke:e.palette.info.main,fill:e.palette.info.light},"& rect.wait":{stroke:e.palette.warning.light,fill:e.palette.warning.main},"& rect.busy":{stroke:e.palette.error.light,fill:e.palette.error.main}}},title:{}})}));function Xa(e){var t=e.currentDate,a=e.dataDialogHook,r=e.schedule,i=e.events,c=e.onClickCallback,s=$a(),o=Object(n.useState)(Ha),l=Object(v.a)(o,2),d=l[0],u=(l[1],Object(n.useState)(Ya(d))),j=Object(v.a)(u,2),b=j[0],m=j[1];Object(n.useEffect)((function(){m(Ya(d))}),[d,i]);var O=Object(n.useCallback)((function(e,a,n){var r=Ua(e,d,t);return Object(T.jsx)("rect",{className:r.className,x:r.x,y:31,width:r.width,height:39,rx:3,ry:5},"".concat(n,"-sc-").concat(a))}),[d,39,31,t]),p=Object(n.useCallback)((function(e,a,n){var r={status:"event",start:e.startDateTime,end:e.endDateTime},i=Ua(r,d,t),s=i.x,o=i.width,l=e.isAttendees?"myOwn":"";return Object(T.jsx)(Za,{title:Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(w.a,{variant:"body2",children:e.subject}),Object(T.jsx)("em",{children:e.apptTime})," ",Object(T.jsx)("b",{children:e.reservationName})]}),onClick:function(){c(e)},children:Object(T.jsx)("svg",{x:s,y:31,width:o,height:39,viewBox:"0 0 ".concat(o," ").concat(39),children:Object(T.jsxs)("g",{children:[Object(T.jsx)("rect",{className:Object(se.a)(i.className,l),x:0,y:0,width:o,height:39,rx:3,ry:5}),Object(T.jsx)("text",{className:"subject",x:3,y:"50%",children:e.subject})]})})},"".concat(n,"-ev-").concat(a))}),[d,c,39,31,t]),h=Object(n.useMemo)((function(){return Object(T.jsx)(T.Fragment,{children:r.scheduleItems.map((function(e,t){return O(e,t,r.roomEmail)}))})}),[O,r]),f=Object(n.useMemo)((function(){return Object(T.jsx)(T.Fragment,{children:i.map((function(e,t){return p(e,t,r.roomEmail)}))})}),[p,i,r]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(w.a,{className:s.title,children:r.roomName}),Object(T.jsx)("div",{className:s.container,children:Object(T.jsx)("svg",{viewBox:Wa,preserveAspectRatio:"none",children:Object(T.jsxs)("g",{transform:b,children:[Object(T.jsx)("line",{className:"hour-line",x1:0,y1:0,x2:0,y2:za}),Object(T.jsx)("line",{className:"hour-half-line",x1:d.halfWidth,y1:Ja,x2:d.halfWidth,y2:za}),Vt.a.range(0,24).map((function(e){var t=Ga(e,d.width),a=t+d.halfWidth,r=e*d.width+5;return Object(T.jsxs)(n.Fragment,{children:[Object(T.jsx)("line",{className:"hour-line",x1:t,y1:0,x2:t,y2:za},"hour-line-".concat(e)),Object(T.jsx)("line",{className:"hour-half-line",x1:a,y1:Ja,x2:a,y2:za},"hour-half-line-".concat(e)),Object(T.jsx)("text",{x:r,y:25,children:e},"hour-text-".concat(e))]},"fragment-".concat(e))})),Object(T.jsx)("rect",{className:"new-event-bar",x:0,y:31,width:Ga(24,d.width),height:39,onClick:function(e){return function(e,n){var r=e.currentTarget.closest("svg");if(r){var i=r.createSVGPoint();i.x=e.clientX,i.y=e.clientY;var c=r.getScreenCTM();if(c){var s=function(e,t){return(e+0)/t.scale*60*1e3}(i.matrixTransform(c.inverse()).x-d.transform.x+1,d),o=1e3*Math.floor(s/1e3/60/30)*60*30,l=new Date(Object(Ba.a)(t).getTime()+o);a.dispatch({type:"addDataOpen",addDefault:{start:l,roomId:n}})}}}(e,r.roomId)}}),h,f]})})})]})}function _a(e){var t=e.currentDate,a=e.dataDialogHook,r=e.category,i=Object(g.a)().t,c=Object(p.h)(),s=We("/event/byroom?timestamp=".concat(t.getTime(),"&location=").concat(c.params.location,"&category=").concat(r),void 0),o=Object(v.a)(s,2),l=o[0],d=l.data,u=l.isLoading,j=l.isError,b=o[1],m=Object(n.useState)(null),O=Object(v.a)(m,2),h=O[0],f=O[1],x=Object(n.useCallback)((function(e){e.isAuthor?a.dispatch({type:"inputOpen"}):a.dispatch({type:"readOpen"}),f(e)}),[a]),y=Object(n.useMemo)((function(){return d?Object(T.jsx)(T.Fragment,{children:d.schedules.map((function(e,n){return Object(T.jsx)(Xa,{currentDate:t,dataDialogHook:a,schedule:e,events:d.events.filter((function(t,a){return e.eventsIndex.some((function(e){return e===a}))})),onClickCallback:x},n)}))}):Object(T.jsx)(T.Fragment,{})}),[t,d,a,x]);return j?Object(T.jsx)("div",{children:i("common.msg.fetch-failed")}):Object(T.jsx)(ka,{currentRow:h,dataDialogHook:a,isLoading:u,reload:b,children:y})}var Qa=a(426),en=a(619),tn=a(620),an=a(152);function nn(e){var t=e.tabPanelContent,a=Object(n.useState)("0"),r=Object(v.a)(a,2),i=r[0],c=r[1],s=function(e,t){c(t)},o=We("/category/choices",[]),l=Object(v.a)(o,1)[0].data,d=Object(n.useMemo)((function(){return Object(T.jsx)(en.a,{indicatorColor:"primary",textColor:"primary",variant:"fullWidth",onChange:s,"aria-label":"view tabs",children:null===l||void 0===l?void 0:l.map((function(e,t){return Object(T.jsx)(Qa.a,{label:e.name,value:"".concat(t)},"tab-".concat(t))}))})}),[l]),u=Object(n.useMemo)((function(){return Object(T.jsx)(T.Fragment,{children:null===l||void 0===l?void 0:l.map((function(e,a){return Object(T.jsx)(tn.a,{value:"".concat(a),children:Object(n.cloneElement)(t,{category:e.id})},"tab-panel-".concat(a))}))})}),[l,t]);return Object(T.jsxs)(an.a,{value:i,children:[Object(T.jsx)(de.a,{position:"static",color:"default",children:d}),u]})}function rn(){var e=Object(g.a)().t,t=Object(n.useState)(new Date),a=Object(v.a)(t,2),r=a[0],i=a[1],c=Object(n.useReducer)(ya,{mode:"addData",inputOpen:!1,readOpen:!1}),s=Object(v.a)(c,2),o=s[0],l=s[1];return Object(T.jsx)(Ue,{children:Object(T.jsxs)(ce.a,{square:!0,children:[Object(T.jsx)(N.a,{p:2,children:Object(T.jsx)(Ia,{title:e("main.byroom.title"),subtitle:e("main.byroom.subtitle"),date:r,onDateChange:function(e){i(e)},dispatch:l})}),Object(T.jsx)(nn,{tabPanelContent:Object(T.jsx)(_a,{currentDate:r,dataDialogHook:{state:o,dispatch:l},category:"dummyId"})})]})})}var cn=a(412),sn=a.n(cn),on=a(145),ln=a(32),dn=Tt(),un=Object(F.a)({checkAction:{textAlign:"center",marginBottom:"10px","& Button":{margin:"0 5%",width:"40%"}}});function jn(e){var t=e.open,a=e.onClose,r=e.data,i=e.reload,c=Object(g.a)().t,s=dn(),o=un(),l=Object(n.useContext)(ln.b),d=Object(n.useContext)(te),u=Object(Ft.c)(),j=u.register,b=u.handleSubmit,m=u.setValue,O=u.reset,p=u.formState,h=p.errors,v=p.isSubmitting,y=p.dirtyFields;Object(n.useEffect)((function(){t?O({id:r.visitorId,checkIn:r.checkIn,checkOut:r.checkOut,visitorCardNumber:r.visitorCardNumber}):O()}),[r,t,O]);var k=function(){return Object(on.default)(new Date,"yyyy/MM/dd hh:mm:ss",{locale:null===l||void 0===l?void 0:l.locale})},w=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wt("/front/".concat(t.mode),{inputs:t,dirtyFields:y});case 3:if(!e.sent.success){e.next=11;break}return e.next=7,i();case 7:a(),d.dispatch({type:"success",message:c("common.msg.update-success")}),e.next=12;break;case 11:d.dispatch({type:"error",message:c("common.msg.update-failed")});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),d.dispatch({type:"error",message:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(B,{open:v}),Object(T.jsxs)(ea,{open:t,onClose:a,title:c("visitdialog.title"),children:[Object(T.jsx)(N.a,{p:2,children:Object(T.jsxs)("form",{children:[Object(T.jsxs)("div",{className:o.checkAction,children:[Object(T.jsx)(C.a,{onClick:function(){m("mode","checkin"),m("checkIn",k()),b(w)()},variant:"contained",color:"secondary",disabled:!!r.checkOut,children:c("visitdialog.button.check-in")}),Object(T.jsx)(C.a,{onClick:function(){m("mode","checkout"),m("checkOut",k()),b(w)()},variant:"contained",color:"secondary",disabled:!r.checkIn,children:c("visitdialog.button.check-out")})]}),Object(T.jsx)("div",{children:Object(T.jsx)(Kt.a,Object(Z.a)(Object(Z.a)({margin:"normal",fullWidth:!0,autoComplete:"off",color:"secondary",id:"visitorCardNumber",label:c("visitdialog.form.visitor-card-number"),autoFocus:!0},j("visitorCardNumber",{})),{},{error:!!h.visitorCardNumber,helperText:h.visitorCardNumber&&h.visitorCardNumber.message}))})]})}),Object(T.jsx)(N.a,{px:2,pt:2,children:Object(T.jsxs)(je.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:s.list,children:[Object(T.jsx)("div",{className:s.title,children:c("visittable.header.appt-time")}),Object(T.jsx)("div",{className:s.field,children:r.apptTime})]},"app-time"),Object(T.jsxs)("li",{className:s.list,children:[Object(T.jsx)("div",{className:s.title,children:c("visittable.header.check-in")}),Object(T.jsx)("div",{className:s.field,children:r.checkIn})]},"check-in"),Object(T.jsxs)("li",{className:s.list,children:[Object(T.jsx)("div",{className:s.title,children:c("visittable.header.check-out")}),Object(T.jsx)("div",{className:s.field,children:r.checkOut})]},"check-out"),Object(T.jsxs)("li",{className:s.list,children:[Object(T.jsx)("div",{className:s.title,children:c("visittable.header.visit-company")}),Object(T.jsx)("div",{className:s.field,children:r.visitCompany})]},"visit-company"),Object(T.jsxs)("li",{className:s.list,children:[Object(T.jsx)("div",{className:s.title,children:c("visittable.header.visitor-name")}),Object(T.jsx)("div",{className:s.field,children:r.visitorName})]},"visitor-name"),Object(T.jsxs)("li",{className:s.list,children:[Object(T.jsx)("div",{className:s.title,children:c("visittable.header.comment")}),Object(T.jsx)("div",{className:s.field,children:r.comment})]},"comment")]})}),Object.keys(r.resourcies).map((function(e){return Object(T.jsx)(oa,{data:r.resourcies[e]},e)})),Object(T.jsx)(N.a,{p:2,children:Object(T.jsxs)(je.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:s.list,children:[Object(T.jsx)("div",{className:s.title,children:c("visittable.header.reservation-name")}),Object(T.jsx)("div",{className:s.field,children:r.reservationName})]},"reservation-name"),Object(T.jsxs)("li",{className:s.list,children:[Object(T.jsx)("div",{className:s.title,children:c("visittable.header.contact-addr")}),Object(T.jsx)("div",{className:s.field,children:r.contactAddr})]},"contact-addr")]})})]})]})}var bn=wt();function mn(e){var t=e.currentDate,a=e.dataDialogHook,r=e.category,i=Object(g.a)().t,c=bn(),s=Object(p.h)(),o=We("/front/visitlist?timestamp=".concat(t.getTime(),"&location=").concat(s.params.location,"&category=").concat(r),[]),l=Object(v.a)(o,2),d=l[0],u=d.data,j=d.isLoading,b=d.isError,m=l[1],O=Object(n.useState)(!1),h=Object(v.a)(O,2),y=h[0],k=h[1],w=Object(n.useState)(null),C=Object(v.a)(w,2),N=C[0],S=C[1],D=Object(n.useCallback)((function(e){e.isAuthor?a.dispatch({type:"inputOpen"}):a.dispatch({type:"readOpen"}),S(e)}),[a]),R=Object(n.useCallback)((function(e){k(!0),S(e)}),[]),F=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=[{title:i("visittable.header.appt-time"),field:"apptTime"},{title:i("visittable.header.room-name"),field:"roomName"},{title:i("visittable.header.tea-supply"),field:"teaSupply",type:"boolean"},{title:i("visittable.header.visit-company"),field:"visitCompany"},{title:i("visittable.header.visitor-name"),field:"visitorName"},{title:i("visittable.header.check-in"),field:"checkIn",type:"boolean"},{title:i("visittable.header.check-out"),field:"checkOut",type:"boolean"},{title:i("visittable.header.reservation-name"),field:"reservationName"},{title:i("visittable.header.comment"),field:"comment"}];return b?Object(T.jsx)("div",{children:i("common.msg.fetch-failed")}):Object(T.jsxs)(ka,{currentRow:N,dataDialogHook:a,isLoading:j,reload:m,children:[Object(T.jsx)(Ye.a,{columns:I,components:{Cell:function(e){return Object(T.jsx)(Ge.MTableCell,Object(Z.a)(Object(Z.a)({},e),{},{className:Ct(e.columnDef.field,e.rowData,c)}))}},data:u,onRowClick:function(e,t){return!!t&&R(t)},actions:[{icon:function(){return Object(T.jsx)(sn.a,{})},tooltip:i("visittable.header.edit-action"),onClick:function(e,t){return!!t&&D(t)}}],localization:{header:{actions:""}},options:Object(Z.a)({showTitle:!1,toolbar:!1,search:!1,headerStyle:{backgroundColor:Dt.palette.primary.light},tableLayout:"fixed"},yt),icons:gt}),N&&Object(T.jsx)(jn,{open:y,onClose:F,data:N,reload:m})]})}function On(){var e=Object(g.a)().t,t=Object(n.useState)(new Date),a=Object(v.a)(t,2),r=a[0],i=a[1],c=Object(n.useReducer)(ya,{mode:"addData",inputOpen:!1,readOpen:!1}),s=Object(v.a)(c,2),o=s[0],l=s[1];return Object(T.jsx)(Ue,{frontMode:!0,children:Object(T.jsxs)(ce.a,{square:!0,children:[Object(T.jsx)(N.a,{p:2,children:Object(T.jsx)(Ia,{title:e("main.front.title"),date:r,onDateChange:function(e){i(e)},dispatch:l})}),Object(T.jsx)(nn,{tabPanelContent:Object(T.jsx)(mn,{currentDate:r,dataDialogHook:{state:o,dispatch:l},category:"dummyId"})})]})})}function pn(e){var t=e.open,a=e.onClose,n=Object(g.a)().t;return Object(T.jsx)("div",{children:Object(T.jsxs)($t.a,{open:t,onClose:function(){a(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(T.jsx)(_t.a,{children:Object(T.jsx)(ta.a,{id:"alert-dialog-description",children:n("common.msg.delete-confirm")})}),Object(T.jsxs)(Xt.a,{children:[Object(T.jsx)(C.a,{onClick:function(){a(!0)},color:"secondary",children:"OK"}),Object(T.jsx)(C.a,{onClick:function(){a(!1)},color:"secondary",autoFocus:!0,children:"CANCEL"})]})]})})}var hn=Object(F.a)((function(e){return Object(oe.a)({formAction:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},note:{color:"red",fontSize:"0.9em",margin:0}})})),fn=Object(o.b)({palette:{primary:{main:St.a[500]},secondary:{main:Nt.a[300]}},props:{MuiTextField:{variant:"outlined",margin:"dense",fullWidth:!0,minRows:4}}});function xn(e){var t=e.inputFields,a=e.open,r=e.onClose,i=e.data,c=e.reload,o=Object(g.a)().t,l=hn(),d=Object(n.useContext)(te),u=Object(n.useState)(!1),j=Object(v.a)(u,2),b=j[0],m=j[1],O=Object(Ft.c)({defaultValues:Object(Z.a)({},t.defaultValues)}),p=O.handleSubmit,h=O.reset,y=O.setValue,k=O.setError,w=O.formState,S=w.isDirty,D=w.isSubmitting,R=w.dirtyFields;Object(n.useEffect)((function(){if(a&&i){var e=Object.keys(t.defaultValues).reduce((function(e,t){return"mode"===t?e.mode="upd":e[t]=i[t],e}),{});h(Vt.a.cloneDeep(e))}else h(Vt.a.cloneDeep(t.defaultValues))}),[i,t,a,h]);var F=function(){var e=Object(x.a)(f.a.mark((function e(a){var n,i,s,l,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n="",e.t0=a.mode,e.next="ins"===e.t0?5:"upd"===e.t0?7:"del"===e.t0?9:11;break;case 5:return n="/".concat(t.type,"/create"),e.abrupt("break",11);case 7:return n="/".concat(t.type,"/update"),e.abrupt("break",11);case 9:return n="/".concat(t.type,"/delete"),e.abrupt("break",11);case 11:return e.next=13,Wt(n,{inputs:a,dirtyFields:R});case 13:if(!(i=e.sent).success){e.next=27;break}if("del"!==a.mode){e.next=18;break}return e.next=18,new Promise((function(e){return setTimeout(e,1e3)}));case 18:return e.next=20,c();case 20:if(r(),d.dispatch({type:"success",message:o("common.msg.update-success")}),"role"!==t.type&&"location"!==t.type){e.next=25;break}return e.next=25,new Promise((function(){return setTimeout((function(){d.dispatch({type:"warning",message:o("common.msg.prompt-logout")})}),1500)}));case 25:e.next=28;break;case 27:if(i.errors)for(l in s=i.errors)k(u=l,{message:o(s[u][0])});case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(0),d.dispatch({type:"error",message:e.t1.message});case 33:case"end":return e.stop()}}),e,null,[[0,30]])})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(B,{open:D}),Object(T.jsx)(ea,{open:a,onClose:r,title:o("settings.title.".concat(t.type)),children:Object(T.jsx)(s.a,{theme:fn,children:Object(T.jsx)(Ft.b,Object(Z.a)(Object(Z.a)({},O),{},{children:Object(T.jsxs)("form",{children:[Object(T.jsx)(N.a,{p:2,children:t.item}),Object(T.jsx)(N.a,{px:2,children:Object(T.jsxs)(It.a,{container:!0,justifyContent:"space-between",spacing:2,className:l.formAction,children:[Object(T.jsx)(It.a,{item:!0,xs:i?6:12,children:Object(T.jsx)(C.a,{onClick:function(){p(F)()},variant:"contained",color:"primary",disabled:!S,startIcon:Object(T.jsx)(At.a,{}),fullWidth:!0,children:o("common.button.save")})}),Object(T.jsx)(It.a,{item:!0,xs:6,style:i?void 0:{display:"none"},children:Object(T.jsx)(C.a,{onClick:function(){m(!0)},variant:"contained",color:"primary",startIcon:Object(T.jsx)(Mt.a,{}),fullWidth:!0,children:o("common.button.delete")})})]})})]})}))})}),Object(T.jsx)(pn,{open:b,onClose:function(e){m(!1),e&&(y("mode","del"),p(F)())}})]})}var vn=function(e,t){switch(t.type){case"inputOpen":return{mode:"rowData",inputOpen:!0};case"addDataOpen":return{mode:"addData",inputOpen:!0};case"inputClose":return Object(Z.a)(Object(Z.a)({},e),{},{inputOpen:!1});default:return e}};function gn(e){var t=e.inputFields,a=e.dataDialogHook,n=e.isLoading,r=e.reload,i=e.currentRow,c=e.children,o=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.dispatch({type:"inputClose"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(s.a,{theme:Dt,children:[Object(T.jsx)(B,{open:n}),c,Object(T.jsx)(xn,{inputFields:t,open:a.state.inputOpen,onClose:o,data:"addData"===a.state.mode?null:i,reload:r})]})}var yn=wt();function kn(e){var t=e.inputFields,a=e.columns,r=e.dataDialogHook,i=Object(g.a)().t,c=yn(),s=We("/".concat(t.type,"/list"),[]),o=Object(v.a)(s,2),l=o[0],d=l.data,u=l.isLoading,j=l.isError,b=o[1],m=Object(n.useState)(null),O=Object(v.a)(m,2),p=O[0],h=O[1],f=Object(n.useCallback)((function(e){r.dispatch({type:"inputOpen"}),h(e)}),[r]);return j?Object(T.jsx)("div",{children:i("common.msg.fetch-failed")}):Object(T.jsx)(gn,{inputFields:t,currentRow:p,dataDialogHook:r,isLoading:u,reload:b,children:Object(T.jsx)(Ye.a,{columns:a,components:{Cell:function(e){return Object(T.jsx)(Ge.MTableCell,Object(Z.a)(Object(Z.a)({},e),{},{className:Ct(e.columnDef.field,e.rowData,c)}))}},data:d,onRowClick:function(e,t){return!!t&&f(t)},options:Object(Z.a)({showTitle:!1,toolbar:!1,search:!1,headerStyle:{backgroundColor:Dt.palette.primary.light},tableLayout:"fixed"},yt),icons:gt})})}var wn=Object(F.a)((function(){return{actionButtonArea:{textAlign:"right",margin:"auto"}}}));function Cn(e){var t=e.master,a=e.dispatch,n=Object(g.a)().t,r=wn();return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(It.a,{container:!0,alignItems:"stretch",justifyContent:"space-between",children:[Object(T.jsx)(It.a,{container:!0,item:!0,xs:12,sm:9,children:Object(T.jsx)(w.a,{component:"h1",variant:"h6",children:n("settings.title.".concat(t))})}),Object(T.jsx)(It.a,{item:!0,xs:12,sm:3,className:r.actionButtonArea,children:Object(T.jsx)(C.a,{variant:"contained",color:"secondary",startIcon:Object(T.jsx)(Sa.a,{}),onClick:function(e){a({type:"addDataOpen"})},children:n("settings.add-master")})})]})})}var Nn=["admin","front"];function Sn(){var e=Object(Ft.d)(),t=e.control,a=e.formState.errors,n=Object(g.a)().t;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Ut,{name:"name",control:t,label:n("settings.header.role.name"),required:!0,selectList:Nn.map((function(e){return{label:n("settings.view.role.name.".concat(e)),value:e}})),errors:a}),Object(T.jsx)(Zt,{name:"members",control:t,label:n("settings.header.role.members"),errors:a})]})}function Dn(){var e=Object(g.a)().t,t=Object(n.useReducer)(vn,{mode:"addData",inputOpen:!1}),a=Object(v.a)(t,2),r=a[0],i=a[1],c=[{title:e("settings.header.role.name"),field:"name",render:function(t){return e("settings.view.role.name.".concat(t.name))}}];return Object(T.jsx)(Ue,{adminMode:!0,menuOpen:!0,children:Object(T.jsxs)(ce.a,{square:!0,children:[Object(T.jsx)(N.a,{p:2,children:Object(T.jsx)(Cn,{master:"role",dispatch:i})}),Object(T.jsx)(N.a,{p:2,children:Object(T.jsx)(kn,{inputFields:{type:"role",item:Object(T.jsx)(Sn,{}),defaultValues:{mode:"ins",id:"",name:"admin",members:[]}},columns:c,dataDialogHook:{state:r,dispatch:i}})})]})})}function Tn(){var e=Object(Ft.d)(),t=e.control,a=e.formState.errors,n=Object(g.a)().t;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Ut,{name:"name",control:t,label:n("settings.header.location.name"),required:!0,errors:a}),Object(T.jsx)(Ut,{name:"url",control:t,label:n("settings.header.location.url"),required:!0,validation:{pattern:{value:/^[a-z0-9]+$/,message:n("settings.form.location.error.url.pattern")}},errors:a}),Object(T.jsx)(Ut,{name:"sort",control:t,label:n("settings.header.location.sort"),errors:a})]})}function Rn(){var e=Object(g.a)().t,t=Object(n.useReducer)(vn,{mode:"addData",inputOpen:!1}),a=Object(v.a)(t,2),r=a[0],i=a[1],c=[{title:e("settings.header.location.name"),field:"name"},{title:e("settings.header.location.url"),field:"url"},{title:e("settings.header.location.sort"),field:"sort"}];return Object(T.jsx)(Ue,{adminMode:!0,menuOpen:!0,children:Object(T.jsxs)(ce.a,{square:!0,children:[Object(T.jsx)(N.a,{p:2,children:Object(T.jsx)(Cn,{master:"location",dispatch:i})}),Object(T.jsx)(N.a,{p:2,children:Object(T.jsx)(kn,{inputFields:{type:"location",item:Object(T.jsx)(Tn,{}),defaultValues:{mode:"ins",id:"",name:"",url:"",sort:""}},columns:c,dataDialogHook:{state:r,dispatch:i}})})]})})}function Fn(){var e=Object(Ft.d)(),t=e.control,a=e.setValue,r=e.formState.errors,i=Object(g.a)().t,c=Object(Ft.e)({control:t,name:"limitedPublic"}),s=Object(n.useState)(!1),o=Object(v.a)(s,2),l=o[0],d=o[1];return Object(n.useEffect)((function(){d(c),c||a("members",[])}),[c,a]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Ut,{name:"name",control:t,label:i("settings.header.category.name"),required:!0,errors:r}),Object(T.jsx)(Ut,{name:"sort",control:t,label:i("settings.header.category.sort"),errors:r}),Object(T.jsx)(na.a,{control:Object(T.jsx)(Ft.a,{name:"limitedPublic",control:t,render:function(e){var t=e.field;return Object(T.jsx)(ra.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary"})}}),label:i("settings.header.category.limited-public")}),Object(T.jsx)(Zt,{name:"members",control:t,label:i("settings.header.category.members"),errors:r,style:l?void 0:{display:"none"}})]})}function In(){var e=Object(g.a)().t,t=Object(n.useReducer)(vn,{mode:"addData",inputOpen:!1}),a=Object(v.a)(t,2),r=a[0],i=a[1],c=[{title:e("settings.header.category.name"),field:"name"},{title:e("settings.header.category.sort"),field:"sort"},{title:e("settings.header.category.limited-public"),field:"limitedPublic",type:"boolean"}];return Object(T.jsx)(Ue,{adminMode:!0,menuOpen:!0,children:Object(T.jsxs)(ce.a,{square:!0,children:[Object(T.jsx)(N.a,{p:2,children:Object(T.jsx)(Cn,{master:"category",dispatch:i})}),Object(T.jsx)(N.a,{p:2,children:Object(T.jsx)(kn,{inputFields:{type:"category",item:Object(T.jsx)(Fn,{}),defaultValues:{mode:"ins",id:"",name:"",sort:"",limitedPublic:!1,members:[]}},columns:c,dataDialogHook:{state:r,dispatch:i}})})]})})}function En(e){var t=e.locations,a=e.categories,r=Object(Ft.d)(),i=r.control,c=r.setValue,s=r.formState.errors,o=Object(g.a)().t,l=Object(n.useState)(!1),d=Object(v.a)(l,2),u=d[0],j=d[1],b=Object(Ft.e)({control:i,name:"type"});return Object(n.useEffect)((function(){"free"===b?(c("teaSupply",!1),j(!0)):j(!1)}),[c,b]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Ut,{name:"name",control:i,label:o("settings.header.room.name"),required:!0,errors:s}),Object(T.jsx)(Ut,{name:"email",control:i,label:o("settings.header.room.email"),required:!0,validation:{pattern:{value:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:o("settings.form.room.error.email.pattern")}},errors:s}),Object(T.jsx)(Ut,{name:"sort",control:i,label:o("settings.header.room.sort"),errors:s}),Object(T.jsx)(Ut,{name:"usageRange",control:i,label:o("settings.header.room.usage-range"),required:!0,selectList:zt.map((function(e){return{label:o("settings.view.room.usage-range.".concat(e)),value:e}})),errors:s}),Object(T.jsx)(Ut,{name:"type",control:i,label:o("settings.header.room.type"),required:!0,selectList:Lt.map((function(e){return{label:o("settings.view.room.type.".concat(e)),value:e}})),errors:s}),Object(T.jsx)(na.a,{control:Object(T.jsx)(Ft.a,{name:"teaSupply",control:i,render:function(e){var t=e.field;return Object(T.jsx)(ra.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary",disabled:u})}}),label:o("settings.header.room.tea-supply"),style:u?{display:"none"}:void 0}),Object(T.jsx)(Ut,{name:"location",control:i,label:o("settings.header.room.location"),required:!0,selectList:null===t||void 0===t?void 0:t.map((function(e){return{label:e.name,value:e.id}})),errors:s}),Object(T.jsx)(Ut,{name:"category",control:i,label:o("settings.header.room.category"),required:!0,selectList:null===a||void 0===a?void 0:a.map((function(e){return{label:e.name,value:e.id}})),errors:s})]})}function Mn(){var e=Object(g.a)().t,t=Object(n.useReducer)(vn,{mode:"addData",inputOpen:!1}),a=Object(v.a)(t,2),r=a[0],i=a[1],c=We("/location/choices",[]),s=Object(v.a)(c,1)[0].data,o=We("/category/choices",[]),l=Object(v.a)(o,1)[0].data,d=[{title:e("settings.header.room.name"),field:"name"},{title:e("settings.header.room.sort"),field:"sort"},{title:e("settings.header.room.usage-range"),field:"usageRange",render:function(t){return e("settings.view.room.usage-range.".concat(t.usageRange))}},{title:e("settings.header.room.type"),field:"type",render:function(t){return e("settings.view.room.type.".concat(t.type))}},{title:e("settings.header.room.tea-supply"),field:"teaSupply",type:"boolean"},{title:e("settings.header.room.location"),field:"location",render:function(e){var t=null===s||void 0===s?void 0:s.find((function(t){return t.id===e.location}));return null===t||void 0===t?void 0:t.name}},{title:e("settings.header.room.category"),field:"category",render:function(e){var t=null===l||void 0===l?void 0:l.find((function(t){return t.id===e.category}));return null===t||void 0===t?void 0:t.name}}];return Object(T.jsx)(Ue,{adminMode:!0,menuOpen:!0,children:Object(T.jsxs)(ce.a,{square:!0,children:[Object(T.jsx)(N.a,{p:2,children:Object(T.jsx)(Cn,{master:"room",dispatch:i})}),Object(T.jsx)(N.a,{p:2,children:Object(T.jsx)(kn,{inputFields:{type:"room",item:Object(T.jsx)(En,{locations:s,categories:l}),defaultValues:{mode:"ins",id:"",name:"",email:"",usageRange:"none",type:"rooms",sort:"",teaSupply:!1,location:"",category:""}},columns:d,dataDialogHook:{state:r,dispatch:i}})})]})})}function Bn(){return Object(T.jsx)(O.a,{children:Object(T.jsxs)(p.d,{children:[Object(T.jsx)(p.b,{exact:!0,path:"/:location?/login",component:Y}),Object(T.jsx)(p.b,{exact:!0,path:"/oauth/redirect",component:re}),Object(T.jsx)(p.b,{exact:!0,path:"/:location/main",component:Ea}),Object(T.jsx)(p.b,{exact:!0,path:"/:location/main/byroom",component:rn}),Object(T.jsx)(p.b,{exact:!0,path:"/:location/front",component:On}),Object(T.jsx)(p.b,{exact:!0,path:"/:location?/settings/role",component:Dn}),Object(T.jsx)(p.b,{exact:!0,path:"/:location?/settings/location",component:Rn}),Object(T.jsx)(p.b,{exact:!0,path:"/:location?/settings/category",component:In}),Object(T.jsx)(p.b,{exact:!0,path:"/:location?/settings/room",component:Mn}),Object(T.jsx)(p.a,{from:"/",to:"/login"})]})})}var An=a(413),Pn=a(414),qn=a(418),Vn=a(417),Ln=a(210),Hn=a(171),zn=function(e){Object(qn.a)(a,e);var t=Object(Vn.a)(a);function a(){return Object(An.a)(this,a),t.apply(this,arguments)}return Object(Pn.a)(a,[{key:"getCalendarHeaderText",value:function(e){return Object(on.default)(e,"Yo MMM",{locale:Hn.a})}},{key:"getDatePickerHeaderText",value:function(e){return Object(on.default)(e,"MMMd\u65e5",{locale:Hn.a})}}]),a}(Ln.default);var Wn=function(){return Object(T.jsxs)(s.a,{theme:b,children:[Object(T.jsx)(m.a,{}),Object(T.jsx)(ln.a,{utils:zn,locale:Hn.a,children:Object(T.jsx)(Bn,{})})]})},Jn=a(415),Kn=a(416),Un=a(174),Gn={en:{translation:Jn},ja:{translation:Kn}};kt.a.use(Un.e).init({lng:"ja",fallbackLng:"ja",interpolation:{escapeValue:!1},react:{useSuspense:!1},resources:Gn});kt.a;c.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(Wn,{})}),document.getElementById("root"))}},[[572,1,2]]]);
//# sourceMappingURL=main.ff8ad695.chunk.js.map