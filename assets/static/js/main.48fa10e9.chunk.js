(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{412:function(e){e.exports=JSON.parse('{"login.form.email":"Email Address","login.form.password":"Password","login.form.submit":"Log In","login.form.required":"Required","login.form.invalid-pattern":"Invalid pattern"}')},413:function(e){e.exports=JSON.parse('{"common.form.required":"\u5fc5\u9808\u5165\u529b\u3067\u3059\u3002","common.msg.login-success":"\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f\u3002\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u3002","common.msg.login-failed":"\u30ed\u30b0\u30a4\u30f3\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","common.msg.no-data":"\u8a72\u5f53\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093\u3002","common.msg.fetch-failed":"\u901a\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","common.msg.update-success":"\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002","common.msg.update-failed":"\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","common.msg.authority-error":"\u6a29\u9650\u304c\u3042\u308a\u307e\u305b\u3093\u3002","login.form.email":"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9","login.form.password":"\u30d1\u30b9\u30ef\u30fc\u30c9","login.form.submit":"\u30ed\u30b0\u30a4\u30f3","login.form.invalid-pattern":"\u7121\u52b9\u306a\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002","login.msal.login":"Office365\u3067\u30ed\u30b0\u30a4\u30f3","visitlist.title":"\u6765\u8a2a\u4e00\u89a7","visitlist.tab.conference-rooms":"\u4f1a\u8b70\u5ba4","visitlist.tab.free-space":"\u30d5\u30ea\u30fc\u30b9\u30da\u30fc\u30b9","visittable.header.appt-time":"\u4e88\u7d04\u6642\u9593","visittable.header.room-name":"\u4f1a\u8b70\u5ba4\u540d","visittable.header.visit-company":"\u6765\u8a2a\u793e\u540d","visittable.header.visitor-name":"\u6765\u8a2a\u8005\u540d","visittable.header.tea-supply":"\u7d66\u8336","visittable.header.number-of-visitor":"\u6765\u8a2a\u8005\u6570","visittable.header.number-of-employee":"\u5f93\u696d\u54e1\u6570","visittable.header.comment":"\u30b3\u30e1\u30f3\u30c8","visittable.header.reservation-name":"\u4e88\u7d04\u8005","visittable.header.contact-addr":"\u9023\u7d61\u5148","visittable.header.check-in":"\u30a4\u30f3","visittable.header.check-out":"\u30a2\u30a6\u30c8","visittable.header.resource-status":"\u4f1a\u8b70\u5ba4\u72b6\u614b","visittable.header.event-subject":"\u4ef6\u540d","visittable.header.event-mailto-authors":"\u4e88\u7d04\u8005\u304a\u3088\u3073\u7ba1\u7406\u8005","visittable.header.event-mailto-required":"\u901a\u77e5\u30e1\u30f3\u30d0\u30fc(\u5fc5\u9808)","visittable.header.event-mailto-optional":"\u901a\u77e5\u30e1\u30f3\u30d0\u30fc(\u4efb\u610f)","visittable.header.event-room":"\u4f1a\u8b70\u5ba4","visittable.header.event-start-time":"\u958b\u59cb\u6642\u523b","visittable.header.event-end-time":"\u7d42\u4e86\u6642\u523b","visittable.header.visitor-card-number":"\u30ab\u30fc\u30c9\u756a\u53f7","visittable.header.edit-action":"\u7de8\u96c6","visitdialog.view.resource-status-accepted":"\u627f\u8afe","visitdialog.view.resource-status-declined":"\u8f9e\u9000","visitdialog.title":"\u4e88\u7d04\u60c5\u5831","visitdialog.notes.multiple-locations":"\u203b\u8907\u6570\u306e\u5834\u6240(\u4f1a\u8b70\u5ba4\u4ee5\u5916\u542b\u3080)\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u4e00\u90e8\u6a5f\u80fd\u306f\u7de8\u96c6\u3067\u304d\u307e\u305b\u3093","visitdialog.notes.no-relevant-rooms":"\u4e88\u7d04\u53ef\u80fd\u306a\u4f1a\u8b70\u5ba4\u304c\u3042\u308a\u307e\u305b\u3093","visitdialog.button.cancel":"\u30ad\u30e3\u30f3\u30bb\u30eb","visitdialog.button.check-in":"\u30c1\u30a7\u30c3\u30af\u30a4\u30f3","visitdialog.button.check-out":"\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8","visitdialog.form.tea-supply-yes":"\u3042\u308a","visitdialog.form.tea-supply-no":"\u306a\u3057","visitdialog.form.visitor-card-number":"\u30ab\u30fc\u30c9\u756a\u53f7","visitdialog.form.visitor-card-number-placeholder":"\u30ab\u30fc\u30c9\u756a\u53f7\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","visitdialog.form.error.event-time":"\u65e5\u4ed8\u306e\u95a2\u4fc2\u6027\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059","visitdialog.form.error.available-time":"\u4f1a\u8b70\u5ba4\u304c\u7a7a\u3044\u3066\u3044\u307e\u305b\u3093","visitorinfoform.title":"\u6765\u8a2a\u60c5\u5831","visitorinfoform.form.search":"\u691c\u7d22","visitorinfoform.form.save":"\u4fdd\u5b58\u3059\u308b","visitorinfoform.form.delete":"\u524a\u9664\u3059\u308b","visitorinfoform.form.cancel":"\u30ad\u30e3\u30f3\u30bb\u30eb","visitorinfoform.delete-confirm-title":"\u6765\u8a2a\u60c5\u5831\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","visitorinfoform.delete-confirm-message":"\u4e88\u7d04\u60c5\u5831\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","visitorinfolist.title":"\u6765\u8a2a\u4e00\u89a7","main.menu.created-visit-info":"\u81ea\u5206\u306e\u4f1a\u8b70\u4e88\u7d04","main.menu.by-meeting-room":"\u4f1a\u8b70\u5ba4\u5225","main.menu.front":"\u53d7\u4ed8","main.menu.refresh":"refresh","main.menu.logout":"\u30ed\u30b0\u30a2\u30a6\u30c8","main.visitlist.title":"\u304b\u3089\uff11\u304b\u6708\u9593\u306e\u6765\u8a2a\u60c5\u5831","main.visitlist.picker-label":"\u9078\u629e\u65e5","main.visitlist.add-event":"\u65b0\u898f\u4f5c\u6210","main.byroom.title":"\u306e\u6765\u8a2a\u60c5\u5831","main.byroom.picker-label":"\u9078\u629e\u65e5","main.byroom.add-event":"\u65b0\u898f\u4f5c\u6210","main.front.title":"\u306e\u53d7\u4ed8\u60c5\u5831","main.front.picker-label":"\u9078\u629e\u65e5","main.front.add-event":"\u65b0\u898f\u4f5c\u6210"}')},569:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(22),c=a.n(i),s=a(607),o=a(114),l=a(386),d=a.n(l),j=a(387),u=a.n(j),b=Object(o.b)({palette:{primary:d.a,secondary:u.a},props:{MuiTextField:{variant:"outlined"}},mixins:{toolbar:{minHeight:50}},overrides:{MuiTooltip:{tooltip:{fontSize:"1em"}}}}),m=a(608),O=a(73),p=a(43),h=a(13),f=a.n(h),x=a(24),v=a(16),g=a(622),y=a(598),k=a(621),w=a(58),N=a(118),C=a(286),S=a(599),D=a(597),T=a(2);function I(){return Object(T.jsxs)(w.a,{variant:"body2",color:"textSecondary",align:"center",children:["Version. 1.0.0 - Copyright \xa9 ",Object(T.jsx)(D.a,{color:"inherit",href:"https://www.liveness.co.jp/",children:"liveness, Inc."})," ",(new Date).getFullYear(),"."]})}var P=a(59),B=a(418),R=a(350),E=Object(P.a)((function(e){return{root:{zIndex:e.zIndex.tooltip+1,color:"#fff"}}}));function A(e){var t=E();return Object(T.jsx)(B.a,{className:t.root,open:e.open,children:Object(T.jsx)(R.a,{color:"inherit"})})}var M=function(){return Object(P.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))};function F(e){return V.apply(this,arguments)}function V(){return(V=Object(x.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.prev=3,e.next=6,a.json();case 6:a.parsedBody=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:if(a.ok){e.next=13;break}throw new Error(a.statusText);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function L(e){return q.apply(this,arguments)}function q(){return q=Object(x.a)(f.a.mark((function e(t){var a,n=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:{method:"get"},e.next=3,F(new Request(t,a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}function H(e,t){return W.apply(this,arguments)}function W(){return W=Object(x.a)(f.a.mark((function e(t,a){var n,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>2&&void 0!==r[2]?r[2]:{method:"post",body:JSON.stringify(a)},e.next=3,F(new Request(t,n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}var z="liveness-visitor-temp",J="liveness-visitor-user",U=function(e){sessionStorage.setItem(J,e)},G=function(){sessionStorage.removeItem(J)},Y=M();function K(){var e=Object(g.a)().t,t=Y(),a=Object(p.h)(),r=Object(n.useState)(!1),i=Object(v.a)(r,2),c=i[0],s=i[1],o=function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),n=a.params.location,sessionStorage.setItem(z,n),e.next=5,L("/oauth/signin");case 5:(t=e.sent).parsedBody&&(window.location.href=t.parsedBody.url),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}var n}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(y.a,{component:"main",maxWidth:"xs",children:[Object(T.jsx)(A,{open:c}),Object(T.jsxs)("div",{className:t.paper,children:[Object(T.jsx)(k.a,{className:t.avatar,children:Object(T.jsx)(S.a,{})}),Object(T.jsx)(w.a,{component:"h1",variant:"h5",children:"Visitors for Microsoft"}),Object(T.jsx)(N.a,{onClick:o,fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:e("login.msal.login")})]}),Object(T.jsx)(C.a,{mt:8,children:Object(T.jsx)(I,{})})]})}var X=a(7),Q=a(600),Z=a(617);function $(e){return Object(T.jsx)(Z.a,Object(X.a)({elevation:6,variant:"filled"},e))}var _=function(e,t){switch(t.type){case"hide":return Object(X.a)(Object(X.a)({},e),{},{open:!1});case"success":case"info":case"warning":case"error":return Object(X.a)(Object(X.a)({},e),{},{open:!0,severity:t.type,message:t.message});default:return e}};function ee(e){var t=e.severity,a=e.message,n=e.open,r=e.onClose;return Object(T.jsx)(Q.a,{open:n,autoHideDuration:1500,onClose:r,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(T.jsx)($,{onClose:r,severity:t,children:a})})}var te=Object(n.createContext)({});function ae(e){var t=e.children,a=Object(n.useReducer)(_,{severity:"info",message:"",open:!1}),r=Object(v.a)(a,2),i=r[0],c=r[1];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(ee,Object(X.a)(Object(X.a)({},i),{},{onClose:function(e,t){"clickaway"!==t&&c({type:"hide"})}})),Object(T.jsx)(te.Provider,{value:{state:i,dispatch:c},children:t})]})}var ne=M();function re(){return Object(T.jsx)(ae,{children:Object(T.jsx)(ie,{})})}function ie(){var e=ne(),t=Object(g.a)().t,a=Object(n.useContext)(te),r=Object(n.useState)(!0),i=Object(v.a)(r,2),c=i[0],s=i[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(f.a.mark((function e(){var n,r,i,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=window.location.search,e.next=4,L("/oauth/callback"+n);case 4:if(!(r=e.sent).parsedBody){e.next=20;break}if(s(!1),r.parsedBody.ok?a.dispatch({type:"success",message:t("common.msg.login-success")}):a.dispatch({type:"error",message:t("common.msg.login-failed")}),i=sessionStorage.getItem(z),sessionStorage.removeItem(z),i&&"undefined"!==i){e.next=19;break}return e.next=13,L("/location/first");case 13:if(!(c=e.sent).parsedBody){e.next=18;break}i=c.parsedBody.url,e.next=19;break;case 18:throw new Error("Location is not registered.");case 19:setTimeout((function(){window.location.replace("/".concat(i,"/main"))}),1500);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(T.jsxs)(y.a,{component:"main",maxWidth:"xs",children:[Object(T.jsx)(A,{open:c}),Object(T.jsxs)("div",{className:e.paper,children:[Object(T.jsx)(k.a,{className:e.avatar,children:Object(T.jsx)(S.a,{})}),Object(T.jsx)(w.a,{component:"h1",variant:"h5",children:"Visitors for Microsoft"})]}),Object(T.jsx)(C.a,{mt:8,children:Object(T.jsx)(I,{})})]})}var ce=a(148),se=a(150),oe=a(241),le=a(143),de=a.n(le),je=a(3),ue=a(76),be=a(602),me=a(288),Oe=a(577),pe=a(604),he=a(224),fe=a.n(he),xe=a(167),ve=a(578),ge=a(605),ye=a(209),ke=a(353),we=a(354),Ne=a(606),Ce=a(603),Se=a(390),De=a.n(Se),Te=a(225),Ie=a.n(Te),Pe=a(392),Be=a.n(Pe),Re=a(393),Ee=a.n(Re),Ae=a(394),Me=a.n(Ae),Fe=a(287),Ve=a(291);function Le(e,t){var a=Object(n.useState)(t),r=Object(v.a)(a,2),i=r[0],c=r[1],s=Object(n.useState)(!1),o=Object(v.a)(s,2),l=o[0],d=o[1],j=Object(n.useState)(!1),u=Object(v.a)(j,2),b=u[0],m=u[1],O=Object(n.useCallback)(Object(x.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!1),d(!0),t.prev=2,t.next=5,L(e);case 5:a=t.sent,console.log(e),console.log(a.parsedBody),a.parsedBody&&c(a.parsedBody),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),m(!0),console.log(t.t0);case 15:d(!1);case 16:case"end":return t.stop()}}),t,null,[[2,11]])}))),[e]),p=Object(n.useCallback)(Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O());case 1:case"end":return e.stop()}}),e)}))),[O]);return Object(n.useEffect)((function(){O()}),[O]),[{data:i,isLoading:l,isError:b},p]}function qe(){var e=Le("/location/choices",[]),t=Object(v.a)(e,1)[0].data,a=Object(p.g)(),r=Object(p.h)(),i=Object(n.useState)(r.params.location),c=Object(v.a)(i,2),s=c[0],o=c[1];return t&&0!==t.length?Object(T.jsx)(Fe.a,{color:"primary",margin:"dense",size:"small",children:Object(T.jsx)(Ve.a,{style:{color:"white"},value:s,onChange:function(e){o(e.target.value);var t=r.path.replace(/:location/i,e.target.value);a.push(t)},children:t.map((function(e){return Object(T.jsx)(ke.a,{value:e.url,children:e.name},e.url)}))})}):Object(T.jsx)(T.Fragment,{})}var He=Object(P.a)((function(e){return Object(ce.a)({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:315,width:"calc(100% - ".concat(315,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},toolbar:{paddingRight:24},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},location:{color:"white"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:315,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},drawerCloseIcon:Object(X.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),calendarHidden:{display:"none"},pageTitle:{marginBottom:e.spacing(1)},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},link:{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"}})})),We=function(e){var t=e.children,a=e.adminMode,i=e.frontMode,c=Object(g.a)().t,s=He(),o=Object(p.h)(),l=Object(n.useState)(!1),d=Object(v.a)(l,2),j=d[0],u=d[1],b=r.a.useState(null),m=Object(v.a)(b,2),h=m[0],k=m[1],N=Boolean(h),S=function(){k(null)},D=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("/oauth/signout");case 3:e.sent.ok&&(G(),window.location.href="/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),P={signedIn:!1,email:"",name:"",isAdmin:!1,isFront:!1},B=Object(n.useReducer)((function(e,t){switch(t.type){case"signedIn":return{signedIn:!0,email:t.user.email,name:t.user.name,isAdmin:t.user.isAdmin,isFront:t.user.isFront};case"signedOut":return P;default:return e}}),P),R=Object(v.a)(B,2),E=R[0],A=R[1],M=Object(n.useCallback)(Object(x.a)(f.a.mark((function e(){var t,a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=sessionStorage.getItem(J))){e.next=7;break}a=JSON.parse(t),A({type:"signedIn",user:a}),e.next=11;break;case 7:return e.next=9,L("/user/me");case 9:(n=e.sent).parsedBody?(r=n.parsedBody,U(JSON.stringify(r)),A({type:"signedIn",user:r})):(G(),A({type:"signedOut"}),console.log("Failed to retrieve email"));case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),G(),window.location.href="/login";case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),[]);Object(n.useEffect)((function(){M()}),[M]);var F=t,V=Object(T.jsx)(T.Fragment,{children:c("common.msg.authority-error")});return a&&!E.isAdmin&&(F=V),i&&!E.isFront&&(F=V),E.signedIn?Object(T.jsx)(ae,{children:Object(T.jsxs)("div",{className:s.root,children:[Object(T.jsx)(be.a,{position:"absolute",className:Object(je.a)(s.appBar,j&&s.appBarShift),children:Object(T.jsxs)(me.a,{className:s.toolbar,children:[Object(T.jsx)(xe.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){u(!0)},className:Object(je.a)(s.menuButton,j&&s.menuButtonHidden),children:Object(T.jsx)(De.a,{})}),Object(T.jsx)(w.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:s.title,children:"Visitors for Microsoft"}),Object(T.jsx)("div",{children:Object(T.jsx)(qe,{})}),Object(T.jsxs)("div",{children:[Object(T.jsx)(xe.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){k(e.currentTarget)},color:"inherit",children:Object(T.jsx)(Ce.a,{})}),Object(T.jsxs)(ye.a,{id:"menu-appbar",anchorEl:h,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:N,onClose:S,children:[Object(T.jsx)(ke.a,{onClick:S,children:E.email}),Object(T.jsx)(ke.a,{onClick:D,children:c("main.menu.logout")})]})]})]})}),Object(T.jsxs)(ue.a,{variant:"permanent",classes:{paper:Object(je.a)(s.drawerPaper,!j&&s.drawerPaperClose)},open:j,children:[Object(T.jsx)("div",{className:s.drawerCloseIcon,children:Object(T.jsx)(xe.a,{onClick:function(){u(!1)},children:Object(T.jsx)(fe.a,{})})}),Object(T.jsx)(pe.a,{}),Object(T.jsxs)(Oe.a,{children:[Object(T.jsx)(O.b,{to:"/".concat(o.params.location,"/main"),className:s.link,children:Object(T.jsxs)(ve.a,{button:!0,children:[Object(T.jsx)(we.a,{title:c("main.menu.created-visit-info"),children:Object(T.jsx)(ge.a,{children:Object(T.jsx)(Ie.a,{})})}),Object(T.jsx)(Ne.a,{primary:c("main.menu.created-visit-info")})]})}),Object(T.jsx)(O.b,{to:"/".concat(o.params.location,"/main/byroom"),className:s.link,children:Object(T.jsxs)(ve.a,{button:!0,children:[Object(T.jsx)(we.a,{title:c("main.menu.by-meeting-room"),children:Object(T.jsx)(ge.a,{children:Object(T.jsx)(Be.a,{})})}),Object(T.jsx)(Ne.a,{primary:c("main.menu.by-meeting-room")})]})}),E.isFront&&Object(T.jsx)(O.b,{to:"/".concat(o.params.location,"/front"),className:s.link,children:Object(T.jsxs)(ve.a,{button:!0,children:[Object(T.jsx)(we.a,{title:c("main.menu.front"),children:Object(T.jsx)(ge.a,{children:Object(T.jsx)(Ee.a,{})})}),Object(T.jsx)(Ne.a,{primary:c("main.menu.front")})]})}),Object(T.jsxs)(ve.a,{button:!0,onClick:function(){window.location.reload()},children:[Object(T.jsx)(we.a,{title:c("main.menu.refresh"),children:Object(T.jsx)(ge.a,{children:Object(T.jsx)(Me.a,{})})}),Object(T.jsx)(Ne.a,{primary:c("main.menu.refresh")})]})]})]}),Object(T.jsxs)("main",{className:s.content,children:[Object(T.jsx)("div",{className:s.appBarSpacer}),Object(T.jsxs)(y.a,{maxWidth:"lg",className:s.container,children:[F,Object(T.jsx)(C.a,{pt:4,children:Object(T.jsx)(I,{})})]})]})]})}):Object(T.jsx)(T.Fragment,{})},ze=a(146),Je=a.n(ze),Ue=a(396),Ge=a.n(Ue),Ye=a(404),Ke=a.n(Ye),Xe=a(397),Qe=a.n(Xe),Ze=a(295),$e=a.n(Ze),_e=a(294),et=a.n(_e),tt=a(398),at=a.n(tt),nt=a(400),rt=a.n(nt),it=a(401),ct=a.n(it),st=a(402),ot=a.n(st),lt=a(405),dt=a.n(lt),jt=a(399),ut=a.n(jt),bt=a(403),mt=a.n(bt),Ot=a(406),pt=a.n(Ot),ht={Add:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(Ge.a,Object(X.a)(Object(X.a)({},e),{},{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(Qe.a,Object(X.a)(Object(X.a)({},e),{},{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(et.a,Object(X.a)(Object(X.a)({},e),{},{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(at.a,Object(X.a)(Object(X.a)({},e),{},{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return Object(T.jsx)($e.a,Object(X.a)(Object(X.a)({},e),{},{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(Ie.a,Object(X.a)(Object(X.a)({},e),{},{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(ut.a,Object(X.a)(Object(X.a)({},e),{},{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(rt.a,Object(X.a)(Object(X.a)({},e),{},{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(ct.a,Object(X.a)(Object(X.a)({},e),{},{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(ot.a,Object(X.a)(Object(X.a)({},e),{},{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return Object(T.jsx)($e.a,Object(X.a)(Object(X.a)({},e),{},{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(fe.a,Object(X.a)(Object(X.a)({},e),{},{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(et.a,Object(X.a)(Object(X.a)({},e),{},{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(mt.a,Object(X.a)(Object(X.a)({},e),{},{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(Ke.a,Object(X.a)(Object(X.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(dt.a,Object(X.a)(Object(X.a)({},e),{},{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(pt.a,Object(X.a)(Object(X.a)({},e),{},{ref:t}))}))},ft=a(130),xt=a(355),vt=a(94),gt=a(53),yt=a(408),kt=a.n(yt),wt=a(407),Nt=a.n(wt),Ct=a(614),St=a(142),Dt=a.n(St);function Tt(e,t){return It.apply(this,arguments)}function It(){return(It=Object(x.a)(f.a.mark((function e(t,a){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("formData",a),e.next=4,H(t,a);case 4:if(n=e.sent,console.log("response",n),!(r=n.parsedBody)){e.next=11;break}return e.abrupt("return",Promise.resolve(r));case 11:return e.abrupt("return",Promise.reject(new Error("No Result Error")));case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Promise.reject(e.t0));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}var Pt=a(581),Bt=a(582),Rt=a(583),Et=a(610),At=Object(P.a)((function(e){var t="thin solid rgba(0, 0, 0, 0.12)";return Object(ce.a)({list:{display:"flex","&:first-child div":{borderTop:t}},title:{boxSizing:"border-box",flexBasis:"25%",padding:"0.7em",backgroundColor:e.palette.primary.light,borderLeft:t,borderBottom:t},field:{boxSizing:"border-box",flexBasis:"75%",padding:"0.7em",borderRight:t,borderBottom:t,whiteSpace:"pre-wrap"}})}));function Mt(e){var t=e.open,a=e.onClose,n=e.children,r=Object(g.a)().t;return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(Pt.a,{open:t,onClose:a,fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title",children:[Object(T.jsx)(Et.a,{id:"form-dialog-title",children:r("visitdialog.title")}),Object(T.jsx)(Rt.a,{dividers:!0,children:n}),Object(T.jsx)(Bt.a,{children:Object(T.jsx)(N.a,{onClick:function(){a()},children:r("visitdialog.button.cancel")})})]})})}var Ft=a(609);function Vt(e){var t=e.open,a=e.onClose,n=Object(g.a)().t;return Object(T.jsx)("div",{children:Object(T.jsxs)(Pt.a,{open:t,onClose:function(){a(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(T.jsx)(Rt.a,{children:Object(T.jsx)(Ft.a,{id:"alert-dialog-description",children:n("visitorinfoform.delete-confirm-message")})}),Object(T.jsxs)(Bt.a,{children:[Object(T.jsx)(N.a,{onClick:function(){a(!0)},color:"secondary",children:"OK"}),Object(T.jsx)(N.a,{onClick:function(){a(!1)},color:"secondary",autoFocus:!0,children:"CANCEL"})]})]})})}var Lt=a(227),qt=a(356),Ht=a(612);function Wt(e){var t=e.control,a=e.setValue,r=e.rooms,i=e.roomId,c=e.disabledRoom,s=e.errors,o=Object(g.a)().t,l=Object(n.useState)(!1),d=Object(v.a)(l,2),j=d[0],u=d[1],b=Object(gt.c)({control:t,name:"resourcies.".concat(i,".roomForEdit")});Object(n.useEffect)((function(){if(b&&r){var e=r.some((function(e){return e.id===b&&e.teaSupply}));e||a("resourcies.".concat(i,".teaSupply"),!1),u(!e)}else a("resourcies.".concat(i,".teaSupply"),!1),u(!0)}),[i,b,r,a]);var m=Object(n.useState)(!1),O=Object(v.a)(m,2),p=O[0],h=O[1],f=Object(gt.c)({control:t,name:"resourcies.".concat(i,".teaSupply")});Object(n.useEffect)((function(){f||(a("resourcies.".concat(i,".numberOfVisitor"),0),a("resourcies.".concat(i,".numberOfEmployee"),0)),h(!f)}),[f,a,i]);var x=function(e){return Object(St.get)(s,"resourcies.".concat(i,".").concat(e))};return 0===(null===r||void 0===r?void 0:r.length)?Object(T.jsx)(C.a,{px:2,style:{textAlign:"center",color:"red"},children:o("visitdialog.notes.no-relevant-rooms")}):Object(T.jsxs)(C.a,{px:2,children:[Object(T.jsx)(gt.a,{name:"resourcies.".concat(i,".roomForEdit"),control:t,rules:{required:o("common.form.required")},render:function(e){var t=e.field;return Object(T.jsx)(Lt.a,Object(X.a)(Object(X.a)({},t),{},{select:!0,disabled:c,label:o("visittable.header.event-room"),error:!!x("roomForEdit"),helperText:!!x("roomForEdit")&&x("roomForEdit").message,children:r.map((function(e){return Object(T.jsxs)("option",{value:e.id,children:[e.name," ","<",e.email,">"]},e.id)}))}))}}),Object(T.jsxs)(oe.a,{container:!0,spacing:1,children:[Object(T.jsx)(oe.a,{item:!0,xs:4,children:Object(T.jsx)(qt.a,{control:Object(T.jsx)(gt.a,{name:"resourcies.".concat(i,".teaSupply"),control:t,render:function(e){var t=e.field;return Object(T.jsx)(Ht.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary",disabled:j})}}),label:o("visittable.header.tea-supply")})}),Object(T.jsx)(oe.a,{item:!0,xs:4,children:Object(T.jsx)(gt.a,{name:"resourcies.".concat(i,".numberOfVisitor"),control:t,rules:{required:o("common.form.required")},render:function(e){var t=e.field;return Object(T.jsx)(Lt.a,Object(X.a)(Object(X.a)({type:"number",inputProps:{min:0,style:{textAlign:"right"}}},t),{},{disabled:p,label:o("visittable.header.number-of-visitor"),error:!!x("numberOfVisitor"),helperText:!!x("numberOfVisitor")&&x("numberOfVisitor").message}))}})}),Object(T.jsx)(oe.a,{item:!0,xs:4,children:Object(T.jsx)(gt.a,{name:"resourcies.".concat(i,".numberOfEmployee"),control:t,rules:{required:o("common.form.required")},render:function(e){var t=e.field;return Object(T.jsx)(Lt.a,Object(X.a)(Object(X.a)({type:"number",inputProps:{min:0,style:{textAlign:"right"}}},t),{},{disabled:p,label:o("visittable.header.number-of-employee"),error:!!x("numberOfEmployee"),helperText:!!x("numberOfEmployee")&&x("numberOfEmployee").message}))}})})]})]})}var zt=function(e){switch(e){case"accepted":return"visitdialog.view.resource-status-accepted";case"declined":return"visitdialog.view.resource-status-declined";default:return""}};function Jt(e){var t=e.data,a=e.hiddenTeaSupply,n=Object(g.a)().t,r=At();return Object(T.jsx)(C.a,{px:2,pt:2,children:Object(T.jsxs)(Oe.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:r.list,children:[Object(T.jsx)("div",{className:r.title,children:n("visittable.header.room-name")}),Object(T.jsxs)("div",{className:r.field,children:[t.roomName," ","<",t.roomEmail,">"]})]},"room-name"),Object(T.jsxs)("li",{className:r.list,children:[Object(T.jsx)("div",{className:r.title,children:n("visittable.header.resource-status")}),Object(T.jsx)("div",{className:r.field,children:n(zt(t.roomStatus))})]},"resource-status"),!a&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("li",{className:r.list,children:[Object(T.jsx)("div",{className:r.title,children:n("visittable.header.tea-supply")}),Object(T.jsx)("div",{className:r.field,children:t.teaSupply?n("visitdialog.form.tea-supply-yes"):n("visitdialog.form.tea-supply-no")})]},"tea-supply"),t.teaSupply&&Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("li",{className:r.list,children:[Object(T.jsx)("div",{className:r.title,children:n("visittable.header.number-of-visitor")}),Object(T.jsx)("div",{className:r.field,style:{flexBasis:"25%",borderRight:"none"},children:t.numberOfVisitor}),Object(T.jsx)("div",{className:r.title,style:{flexBasis:"25%",borderLeft:"none"},children:n("visittable.header.number-of-employee")}),Object(T.jsx)("div",{className:r.field,style:{flexBasis:"25%"},children:t.numberOfEmployee})]},"number-of-visitor")})]})]})})}var Ut=a(619),Gt=a(384);function Yt(e){var t=e.control,a=e.type,r=e.errors,i=e.disabled,c=e.style,s=Object(g.a)().t,o=Object(n.useState)(""),l=Object(v.a)(o,2),d=l[0],j=l[1],u=Le("/user/addressbook?filter=".concat(d),[]),b=Object(v.a)(u,1)[0],m=b.data,O=b.isLoading,p=Object(n.useState)(!1),h=Object(v.a)(p,2),y=h[0],k=h[1];Object(n.useEffect)((function(){y||j("")}),[y]);var w=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)(gt.a,{name:"mailto.".concat(a),control:t,render:function(e){var t=e.field;return Object(T.jsx)(Ut.a,Object(X.a)(Object(X.a)({},t),{},{disabled:i,style:c,multiple:!0,limitTags:i?void 0:2,size:"small",open:y,onOpen:function(){k(!0)},onClose:function(){k(!1)},options:m||[],loading:O,getOptionLabel:function(e){return"".concat(e.name," <").concat(e.address,">")},renderTags:function(e,t){return e.map((function(e,a){return Object(T.jsx)(Gt.a,Object(X.a)({label:e.name,title:e.address},t({index:a})))}))},filterSelectedOptions:!0,renderInput:function(e){return Object(T.jsx)(Lt.a,Object(X.a)(Object(X.a)({},e),{},{label:s("visittable.header.event-mailto-".concat(a)),error:!!r.mailto,helperText:r.mailto&&r.mailto.message,InputProps:Object(X.a)(Object(X.a)({},e.InputProps),{},{endAdornment:Object(T.jsxs)(T.Fragment,{children:[O?Object(T.jsx)(R.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}),onChange:function(e){""===e.target.value&&null===e.target.value||w(e.target.value)}}))},onChange:function(e,a){return t.onChange(a)}}))}})}function Kt(e){var t=e.name,a=e.control,n=e.label,r=e.required,i=e.multiline,c=e.errors,s=Object(g.a)().t;return Object(T.jsx)(gt.a,{name:t,control:a,rules:r?{required:s("common.form.required")}:void 0,render:function(e){var a=e.field;return Object(T.jsx)(Lt.a,Object(X.a)(Object(X.a)({},a),{},{label:n,multiline:i,error:!!c[t],helperText:c[t]&&c[t].message}))}})}var Xt=a(272);function Qt(e){var t=e.name,a=e.control,n=e.getValues,r=e.label,i=e.handleDateTimeChange,c=e.errors,s=Object(g.a)().t;return Object(T.jsx)(gt.a,{name:t,control:a,rules:{required:s("common.form.required"),validate:function(){return n("startTime").getTime()<n("endTime").getTime()||s("visitdialog.form.error.event-time")}},render:function(e){var a=e.field;return Object(T.jsx)(Xt.a,Object(X.a)(Object(X.a)({},a),{},{onChange:function(e){a.onChange(e),i()},ampm:!1,format:"yyyy/MM/dd HH:mm",disablePast:!0,minutesStep:5,label:r,error:!!c[t],helperText:c[t]&&c[t].message,ref:null}))}})}var Zt=Object(P.a)((function(e){return Object(ce.a)({formAction:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},note:{color:"red",fontSize:"0.9em",margin:0}})})),$t=Object(o.b)({palette:{primary:{main:xt.a[500]},secondary:{main:ft.a[300]}},props:{MuiTextField:{variant:"outlined",margin:"dense",fullWidth:!0,minRows:4}}}),_t=function(e){return 1e3*Math.ceil(e.getTime()/1e3/60/5)*60*5},ea="add-room-01",ta=function(e,t){var a=e||new Date,n=t||"";return{mode:"ins",iCalUId:"",subject:"",visitorId:"",visitCompany:"",visitorName:"",mailto:{authors:[],required:[],optional:[]},resourcies:Object(vt.a)({},ea,{roomForEdit:n,teaSupply:!1,numberOfVisitor:0,numberOfEmployee:0}),comment:"",contactAddr:"",startTime:Object(Ct.a)(_t(a),0),endTime:Object(Ct.a)(_t(a),30)}};function aa(e){var t=e.open,a=e.onClose,r=e.data,i=e.reload,c=e.addDefault,o=Object(g.a)().t,l=Object(X.a)(Object(X.a)({},At()),Zt()),d=Object(n.useContext)(te),j=Object(p.h)(),u=Object(n.useState)(!1),b=Object(v.a)(u,2),m=b[0],O=b[1],h=ta(),y=Object(gt.b)({defaultValues:h}),k=y.control,w=y.getValues,S=y.handleSubmit,D=y.reset,I=y.setValue,P=y.trigger,B=y.setError,R=y.formState,E=R.errors,M=R.isDirty,F=R.isSubmitting,V=R.dirtyFields;Object(n.useEffect)((function(){D(t&&r?{mode:"upd",iCalUId:r.iCalUId,subject:r.subject,visitorId:r.visitorId,visitCompany:r.visitCompany,visitorName:r.visitorName,mailto:r.mailto,resourcies:Object.keys(r.resourcies).reduce((function(e,t){return e[t]={roomForEdit:t,teaSupply:r.resourcies[t].teaSupply,numberOfVisitor:r.resourcies[t].numberOfVisitor,numberOfEmployee:r.resourcies[t].numberOfEmployee},e}),{}),comment:r.comment,contactAddr:r.contactAddr,startTime:new Date(r.startDateTime),endTime:new Date(r.endDateTime)}:Dt.a.cloneDeep(ta(null===c||void 0===c?void 0:c.start,null===c||void 0===c?void 0:c.roomId)))}),[r,t,D,c]);var L=Object(n.useState)(!1),q=Object(v.a)(L,2),H=q[0],W=q[1],z="/room/choices?location=".concat(j.params.location),J=Object(n.useState)(z),U=Object(v.a)(J,2),G=U[0],Y=U[1],K=Le(G,[]),Q=Object(v.a)(K,1)[0].data,Z=Object(n.useCallback)((function(){"upd"===w("mode")?Y(z):Y(z+"&start=".concat(w("startTime").getTime(),"&end=").concat(w("endTime").getTime()))}),[z,w]);Object(n.useEffect)((function(){t&&Z()}),[Z,t]),Object(n.useEffect)((function(){t||W(!1)}),[t]);var $=function(){var e=Object(x.a)(f.a.mark((function e(t){var n,r,c,s,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n="",e.t0=t.mode,e.next="ins"===e.t0?5:"upd"===e.t0?7:"del"===e.t0?9:11;break;case 5:return n="/event/create",e.abrupt("break",11);case 7:return n="/event/update",e.abrupt("break",11);case 9:return n="/event/delete",e.abrupt("break",11);case 11:return e.next=13,Tt(n,{inputs:t,dirtyFields:V});case 13:if(!(r=e.sent).success){e.next=24;break}if("del"!==t.mode){e.next=18;break}return e.next=18,new Promise((function(e){return setTimeout(e,1e3)}));case 18:return e.next=20,i();case 20:a(),d.dispatch({type:"success",message:o("common.msg.update-success")}),e.next=25;break;case 24:if(r.errors)for(s in c=r.errors)B(l=s,{message:o(c[l][0])});case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(0),d.dispatch({type:"error",message:e.t1.message});case 30:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(["startTime","endTime"]);case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:Z(),W(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){"upd"!==w("mode")&&(H||W(!0))};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(A,{open:F}),Object(T.jsx)(Mt,{open:t,onClose:a,data:r,children:Object(T.jsxs)(s.a,{theme:$t,children:[!!r&&Object(T.jsx)(C.a,{px:2,children:r.isMSMultipleLocations?Object(T.jsx)("p",{className:l.note,children:o("visitdialog.notes.multiple-locations")}):Object(T.jsxs)(Oe.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:l.list,children:[Object(T.jsx)("div",{className:l.title,children:o("visittable.header.resource-status")}),Object(T.jsx)("div",{className:l.field,children:o(zt(r.roomStatus))})]},"resource-status"),Object(T.jsxs)("li",{className:l.list,children:[Object(T.jsx)("div",{className:l.title,children:o("visittable.header.reservation-name")}),Object(T.jsx)("div",{className:l.field,children:r.reservationName})]},"reservation-name")]})}),Object(T.jsxs)("form",{children:[Object(T.jsxs)(C.a,{p:2,children:[Object(T.jsx)(Kt,{name:"subject",control:k,label:o("visittable.header.event-subject"),required:!0,errors:E}),Object(T.jsx)(Yt,{control:k,type:"authors",errors:E,disabled:!0,style:{display:"none"}}),Object(T.jsx)(Yt,{control:k,type:"required",errors:E,disabled:null===r||void 0===r?void 0:r.isMSMultipleLocations}),Object(T.jsx)(Yt,{control:k,type:"optional",errors:E,disabled:null===r||void 0===r?void 0:r.isMSMultipleLocations}),Object(T.jsxs)(oe.a,{container:!0,spacing:1,children:[Object(T.jsx)(oe.a,{item:!0,xs:5,children:Object(T.jsx)(Qt,{name:"startTime",control:k,getValues:w,label:o("visittable.header.event-start-time"),handleDateTimeChange:ee,errors:E})}),Object(T.jsx)(oe.a,{item:!0,xs:5,children:Object(T.jsx)(Qt,{name:"endTime",control:k,getValues:w,label:o("visittable.header.event-end-time"),handleDateTimeChange:ee,errors:E})}),Object(T.jsx)(oe.a,{item:!0,xs:2,style:{margin:"auto"},children:Object(T.jsx)(N.a,{onClick:_,variant:"contained",color:"primary",fullWidth:!0,disabled:(null===r||void 0===r?void 0:r.isMSMultipleLocations)||!H,children:o("visitorinfoform.form.search")})})]})]}),r?Object(T.jsx)(T.Fragment,{children:r.isMSMultipleLocations?Object(T.jsx)(s.a,{theme:ra,children:Object.keys(r.resourcies).map((function(e){return Object(T.jsx)(Jt,{data:r.resourcies[e]},e)}))}):!H&&Object(T.jsx)(Wt,{control:k,setValue:I,rooms:Q,roomId:Object.keys(r.resourcies)[0],disabledRoom:!0,errors:E})}):!H&&Object(T.jsx)(Wt,{control:k,setValue:I,rooms:Q,roomId:ea,errors:E}),Object(T.jsxs)(C.a,{p:2,children:[Object(T.jsx)(Kt,{name:"visitCompany",control:k,label:o("visittable.header.visit-company"),required:!0,errors:E}),Object(T.jsx)(Kt,{name:"visitorName",control:k,label:o("visittable.header.visitor-name"),errors:E}),Object(T.jsx)(Kt,{name:"comment",control:k,label:o("visittable.header.comment"),multiline:!0,errors:E}),Object(T.jsx)(Kt,{name:"contactAddr",control:k,label:o("visittable.header.contact-addr"),errors:E})]}),Object(T.jsx)(C.a,{px:2,children:Object(T.jsxs)(oe.a,{container:!0,justifyContent:"space-between",spacing:2,className:l.formAction,children:[Object(T.jsx)(oe.a,{item:!0,xs:r?6:12,children:Object(T.jsx)(N.a,{onClick:function(){S($)()},variant:"contained",color:"primary",disabled:!M||H,startIcon:Object(T.jsx)(Nt.a,{}),fullWidth:!0,children:o("visitorinfoform.form.save")})}),Object(T.jsx)(oe.a,{item:!0,xs:6,style:r?void 0:{display:"none"},children:Object(T.jsx)(N.a,{onClick:function(){O(!0)},variant:"contained",color:"primary",startIcon:Object(T.jsx)(kt.a,{}),fullWidth:!0,children:o("visitorinfoform.form.delete")})})]})})]})]})}),Object(T.jsx)(Vt,{open:m,onClose:function(e){O(!1),e&&(I("mode","del"),S($)())}})]})}function na(e){var t=e.open,a=e.onClose,n=e.data,r=Object(g.a)().t,i=At();return Object(T.jsxs)(Mt,{open:t,onClose:a,data:n,children:[Object(T.jsx)(C.a,{px:2,pt:2,children:Object(T.jsxs)(Oe.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.event-subject")}),Object(T.jsx)("div",{className:i.field,children:n.subject})]},"event-subject"),Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.appt-time")}),Object(T.jsx)("div",{className:i.field,children:n.apptTime})]},"app-time"),Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.reservation-name")}),Object(T.jsx)("div",{className:i.field,children:n.reservationName})]},"reservation-name")]})}),Object.keys(n.resourcies).map((function(e){return Object(T.jsx)(Jt,{data:n.resourcies[e]},e)})),Object(T.jsx)(C.a,{p:2,children:Object(T.jsxs)(Oe.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.visit-company")}),Object(T.jsx)("div",{className:i.field,children:n.visitCompany})]},"visit-company"),Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.visitor-name")}),Object(T.jsx)("div",{className:i.field,children:n.visitorName})]},"visitor-name"),Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.comment")}),Object(T.jsx)("div",{className:i.field,children:n.comment})]},"comment"),Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.contact-addr")}),Object(T.jsx)("div",{className:i.field,children:n.contactAddr})]},"contact-addr")]})})]})}var ra=Object(o.b)({palette:{primary:{main:ft.a[300]},secondary:{main:xt.a[500]}},props:{MuiTableRow:{}},overrides:{MuiTable:{root:{borderCollapse:"separate"}}}}),ia=function(e,t){switch(t.type){case"inputOpen":return{mode:"rowData",inputOpen:!0,readOpen:!1};case"addDataOpen":return{mode:"addData",inputOpen:!0,readOpen:!1,addDefault:t.addDefault};case"inputClose":return Object(X.a)(Object(X.a)({},e),{},{inputOpen:!1});case"readOpen":return{mode:"rowData",inputOpen:!1,readOpen:!0};case"readClose":return Object(X.a)(Object(X.a)({},e),{},{readOpen:!1});default:return e}};function ca(e){var t=e.dataDialogHook,a=e.isLoading,n=e.reload,r=e.currentRow,i=e.children,c=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch({type:"inputClose"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch({type:"readClose"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(s.a,{theme:ra,children:[Object(T.jsx)(A,{open:a}),i,Object(T.jsx)(aa,{open:t.state.inputOpen,onClose:c,data:"addData"===t.state.mode?null:r,reload:n,addDefault:t.state.addDefault}),!!r&&Object(T.jsx)(na,{open:t.state.readOpen,onClose:o,data:r})]})}var sa=a(172),oa=function(){return Object(P.a)((function(){return{cellApptTime:{},cellRoomName:{},cellRoomStatus:{},cellReservationName:{},cellVisitCompany:{},cellSubject:{},cellContactAddr:{},cellCheckIn:{},cellCheckOut:{},declinedApptTime:{textDecoration:"line-through 2px solid red"},declinedRoomName:{"&::after":{wordBreak:"keep-all",marginLeft:5,padding:"1px 5px",color:"red",border:"1px solid red",content:'"'.concat(sa.a.t("visitdialog.view.resource-status-declined"),'"')}}}}))},la=function(e,t,a){var n=e.charAt(0).toUpperCase()+e.slice(1);return Object(je.a)(a["cell".concat(n)],"declined"===t.roomStatus&&a["declined".concat(n)])},da=oa();function ja(e){var t=e.currentDate,a=e.dataDialogHook,r=Object(g.a)().t,i=da(),c=Object(p.h)(),s=Le("/event/visitlist?timestamp=".concat(t.getTime(),"&location=").concat(c.params.location),[]),o=Object(v.a)(s,2),l=o[0],d=l.data,j=l.isLoading,u=l.isError,b=o[1],m=Object(n.useState)(null),O=Object(v.a)(m,2),h=O[0],f=O[1],x=Object(n.useCallback)((function(e){e.isAuthor?a.dispatch({type:"inputOpen"}):a.dispatch({type:"readOpen"}),f(e)}),[a]),y=[{title:r("visittable.header.appt-time"),field:"apptTime"},{title:r("visittable.header.room-name"),field:"roomName"},{title:r("visittable.header.visit-company"),field:"visitCompany"},{title:r("visittable.header.reservation-name"),field:"reservationName"},{title:r("visittable.header.event-subject"),field:"subject"}];return u?Object(T.jsx)("div",{children:r("common.msg.fetch-failed")}):Object(T.jsx)(ca,{currentRow:h,dataDialogHook:a,isLoading:j,reload:b,children:Object(T.jsx)(Je.a,{columns:y,components:{Cell:function(e){return Object(T.jsx)(ze.MTableCell,Object(X.a)(Object(X.a)({},e),{},{className:la(e.columnDef.field,e.rowData,i)}))}},data:d,onRowClick:function(e,t){return!!t&&x(t)},options:{showTitle:!1,toolbar:!1,search:!1,headerStyle:{backgroundColor:ra.palette.primary.light},tableLayout:"fixed"},icons:ht})})}var ua=a(271),ba=Object(P.a)({keyboardDatePicker:{"& .MuiOutlinedInput-adornedEnd":{paddingRight:0}}});var ma=function(e){var t=e.label,a=e.date,n=e.onChange,r=ba();return Object(T.jsx)(ua.b,{margin:"normal",id:"date-picker-dialog",label:t,format:"yyyy/MM/dd",showTodayButton:!0,value:a,onChange:n,KeyboardButtonProps:{"aria-label":"change date"},size:"small",className:r.keyboardDatePicker,inputProps:{style:{width:85}}})},Oa=Object(P.a)((function(e){return Object(ce.a)({datePickerArea:{},actionButtonArea:{textAlign:"right",margin:"auto"},datePicker:{margin:"auto 0"},title:{margin:"auto 0.25em"},button:{margin:e.spacing(1)}})}));function pa(){var e=Object(g.a)().t,t=Oa(),a=Object(n.useState)(new Date),r=Object(v.a)(a,2),i=r[0],c=r[1],s=Object(n.useReducer)(ia,{mode:"addData",inputOpen:!1,readOpen:!1}),o=Object(v.a)(s,2),l=o[0],d=o[1];return Object(T.jsx)(We,{children:Object(T.jsxs)(se.a,{square:!0,children:[Object(T.jsx)(C.a,{px:2,py:1,children:Object(T.jsxs)(oe.a,{container:!0,alignItems:"stretch",justifyContent:"space-between",children:[Object(T.jsxs)(oe.a,{container:!0,item:!0,xs:12,sm:9,className:t.datePickerArea,children:[Object(T.jsx)(oe.a,{item:!0,className:t.datePicker,children:Object(T.jsx)(ma,{label:e("main.visitlist.picker-label"),date:i,onChange:function(e){c(e)}})}),Object(T.jsx)(oe.a,{item:!0,className:t.title,children:Object(T.jsx)(w.a,{component:"h5",children:e("main.visitlist.title")})})]}),Object(T.jsx)(oe.a,{item:!0,xs:12,sm:3,className:t.actionButtonArea,children:Object(T.jsx)(N.a,{variant:"contained",color:"secondary",startIcon:Object(T.jsx)(de.a,{}),onClick:function(e){d({type:"addDataOpen"})},children:e("main.visitlist.add-event")})})]})}),Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(ja,{currentDate:i,dataDialogHook:{state:l,dispatch:d}})})]})})}var ha=a(5),fa=a(147),xa=a(618),va=a(395),ga=a(293),ya=a(149),ka=a(239),wa={width:120,halfWidth:60,scale:2,transform:{x:-960,y:0}},Na=70,Ca="0 0 ".concat(1442," ").concat(Na),Sa=30,Da=function(e,t){var a=Object(fa.a)(e);return Object(xa.a)(e,a)*t.scale},Ta=function(e,t,a){var n=new Date(e.start),r=new Date(e.end),i=Da(n,t),c=Da(r,t);if(!Object(va.a)(n,r)){var s=Object(fa.a)(a),o=Object(ga.a)(a);Object(ya.a)(o,r)&&(c=Da(o,t)),Object(ka.a)(s,n)&&(i=Da(s,t))}return{x:i,width:c-i,className:e.status}},Ia=function(e,t){return(e+1)*t+1},Pa=function(e){return"translate(".concat(e.transform.x,",").concat(e.transform.y,")")},Ba=Object(ha.a)((function(e){return{tooltip:{backgroundColor:e.palette.grey[100],color:e.palette.text.primary,maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid ".concat(e.palette.grey[300])}}}))(we.a),Ra=Object(P.a)((function(e){return Object(ce.a)({container:{display:"flex",flexDirection:"column",height:"5vmin","& svg":{fontSize:"1.5rem","& line":{strokeWidth:2},"& line.hour-line":{stroke:e.palette.grey[400]},"& line.hour-half-line":{stroke:e.palette.grey[300]},"& text":{fill:e.palette.grey[400]},"& text.subject":{fill:"#fff",fontSize:"1.2rem",dominantBaseline:"central",cursor:"pointer"},"& rect":{strokeWidth:1,fillOpacity:.5},"& rect.new-event-bar":{fillOpacity:0},"& rect.event":{stroke:e.palette.success.main,fill:e.palette.success.light,fillOpacity:.9,cursor:"pointer"},"& rect.wait":{stroke:e.palette.warning.light,fill:e.palette.warning.main},"& rect.busy":{stroke:e.palette.error.light,fill:e.palette.error.main}}},title:{}})}));function Ea(e){var t=e.currentDate,a=e.dataDialogHook,r=e.schedule,i=e.events,c=e.onClickCallback,s=Ra(),o=Object(n.useState)(wa),l=Object(v.a)(o,2),d=l[0],j=(l[1],Object(n.useState)(Pa(d))),u=Object(v.a)(j,2),b=u[0],m=u[1];Object(n.useEffect)((function(){m(Pa(d))}),[d,i]);var O=Object(n.useCallback)((function(e,a,n){var r=Ta(e,d,t);return Object(T.jsx)("rect",{className:r.className,x:r.x,y:31,width:r.width,height:39,rx:3,ry:5},"".concat(n,"-sc-").concat(a))}),[d,39,31,t]),p=Object(n.useCallback)((function(e,a,n){var r={status:"event",start:e.startDateTime,end:e.endDateTime},i=Ta(r,d,t),s=i.x,o=i.width;return Object(T.jsx)(Ba,{title:Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(w.a,{variant:"body2",children:e.subject}),Object(T.jsx)("em",{children:e.apptTime})," ",Object(T.jsx)("b",{children:e.reservationName})]}),onClick:function(){c(e)},children:Object(T.jsx)("svg",{x:s,y:31,width:o,height:39,viewBox:"0 0 ".concat(o," ").concat(39),children:Object(T.jsxs)("g",{children:[Object(T.jsx)("rect",{className:i.className,x:0,y:0,width:o,height:39,rx:3,ry:5}),Object(T.jsx)("text",{className:"subject",x:3,y:"50%",children:e.subject})]})})},"".concat(n,"-ev-").concat(a))}),[d,c,39,31,t]),h=Object(n.useMemo)((function(){return Object(T.jsx)(T.Fragment,{children:r.scheduleItems.map((function(e,t){return O(e,t,r.roomEmail)}))})}),[O,r]),f=Object(n.useMemo)((function(){return Object(T.jsx)(T.Fragment,{children:i.map((function(e,t){return p(e,t,r.roomEmail)}))})}),[p,i,r]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(w.a,{className:s.title,children:r.roomName}),Object(T.jsx)("div",{className:s.container,children:Object(T.jsx)("svg",{viewBox:Ca,preserveAspectRatio:"none",children:Object(T.jsxs)("g",{transform:b,children:[Object(T.jsx)("line",{className:"hour-line",x1:0,y1:0,x2:0,y2:Na}),Object(T.jsx)("line",{className:"hour-half-line",x1:d.halfWidth,y1:Sa,x2:d.halfWidth,y2:Na}),Dt.a.range(0,24).map((function(e){var t=Ia(e,d.width),a=t+d.halfWidth,r=e*d.width+5;return Object(T.jsxs)(n.Fragment,{children:[Object(T.jsx)("line",{className:"hour-line",x1:t,y1:0,x2:t,y2:Na},"hour-line-".concat(e)),Object(T.jsx)("line",{className:"hour-half-line",x1:a,y1:Sa,x2:a,y2:Na},"hour-half-line-".concat(e)),Object(T.jsx)("text",{x:r,y:25,children:e},"hour-text-".concat(e))]},"fragment-".concat(e))})),Object(T.jsx)("rect",{className:"new-event-bar",x:0,y:31,width:Ia(24,d.width),height:39,onClick:function(e){return function(e,n){var r=e.currentTarget.closest("svg");if(r){var i=r.createSVGPoint();i.x=e.clientX,i.y=e.clientY;var c=r.getScreenCTM();if(c){var s=function(e,t){return(e+0)/t.scale*60*1e3}(i.matrixTransform(c.inverse()).x-d.transform.x+1,d),o=1e3*Math.floor(s/1e3/60/30)*60*30,l=new Date(Object(fa.a)(t).getTime()+o);a.dispatch({type:"addDataOpen",addDefault:{start:l,roomId:n}})}}}(e,r.roomId)}}),h,f]})})})]})}function Aa(e){var t=e.currentDate,a=e.dataDialogHook,r=e.category,i=Object(g.a)().t,c=Object(p.h)(),s=Le("/event/byroom?timestamp=".concat(t.getTime(),"&location=").concat(c.params.location,"&category=").concat(r),void 0),o=Object(v.a)(s,2),l=o[0],d=l.data,j=l.isLoading,u=l.isError,b=o[1],m=Object(n.useState)(null),O=Object(v.a)(m,2),h=O[0],f=O[1],x=Object(n.useCallback)((function(e){e.isAuthor?a.dispatch({type:"inputOpen"}):a.dispatch({type:"readOpen"}),f(e)}),[a]),y=Object(n.useMemo)((function(){return d?Object(T.jsx)(T.Fragment,{children:d.schedules.map((function(e,n){return Object(T.jsx)(Ea,{currentDate:t,dataDialogHook:a,schedule:e,events:d.events.filter((function(t,a){return e.eventsIndex.some((function(e){return e===a}))})),onClickCallback:x},n)}))}):Object(T.jsx)(T.Fragment,{})}),[t,d,a,x]);return u?Object(T.jsx)("div",{children:i("common.msg.fetch-failed")}):Object(T.jsx)(ca,{currentRow:h,dataDialogHook:a,isLoading:j,reload:b,children:y})}var Ma=a(423),Fa=a(615),Va=a(616),La=a(151);function qa(e){var t=e.tabPanelContent,a=Object(n.useState)("0"),r=Object(v.a)(a,2),i=r[0],c=r[1],s=function(e,t){c(t)},o=Le("/category/choices",[]),l=Object(v.a)(o,1)[0].data,d=Object(n.useMemo)((function(){return Object(T.jsx)(Fa.a,{indicatorColor:"primary",textColor:"primary",variant:"fullWidth",onChange:s,"aria-label":"view tabs",children:null===l||void 0===l?void 0:l.map((function(e,t){return Object(T.jsx)(Ma.a,{label:e.name,value:"".concat(t)},"tab-".concat(t))}))})}),[l]),j=Object(n.useMemo)((function(){return Object(T.jsx)(T.Fragment,{children:null===l||void 0===l?void 0:l.map((function(e,a){return Object(T.jsx)(Va.a,{value:"".concat(a),children:Object(n.cloneElement)(t,{category:e.id})},"tab-panel-".concat(a))}))})}),[l,t]);return Object(T.jsxs)(La.a,{value:i,children:[Object(T.jsx)(be.a,{position:"static",color:"default",children:d}),j]})}var Ha=Object(P.a)((function(e){return Object(ce.a)({datePickerArea:{},actionButtonArea:{textAlign:"right",margin:"auto"},datePicker:{margin:"auto 0"},keyboardDatePicker:{"& .MuiOutlinedInput-adornedEnd":{paddingRight:0}},title:{margin:"auto 0.25em"},button:{margin:e.spacing(1)}})}));function Wa(){var e=Object(g.a)().t,t=Ha(),a=Object(n.useState)(new Date),r=Object(v.a)(a,2),i=r[0],c=r[1],s=Object(n.useReducer)(ia,{mode:"addData",inputOpen:!1,readOpen:!1}),o=Object(v.a)(s,2),l=o[0],d=o[1];return Object(T.jsx)(We,{children:Object(T.jsxs)(se.a,{square:!0,children:[Object(T.jsx)(C.a,{px:2,py:1,children:Object(T.jsxs)(oe.a,{container:!0,alignItems:"stretch",justifyContent:"space-between",children:[Object(T.jsxs)(oe.a,{container:!0,item:!0,xs:12,sm:9,className:t.datePickerArea,children:[Object(T.jsx)(oe.a,{item:!0,className:t.datePicker,children:Object(T.jsx)(ma,{label:e("main.byroom.picker-label"),date:i,onChange:function(e){c(e)}})}),Object(T.jsx)(oe.a,{item:!0,className:t.title,children:Object(T.jsx)(w.a,{component:"h5",children:e("main.byroom.title")})})]}),Object(T.jsx)(oe.a,{item:!0,xs:12,sm:3,className:t.actionButtonArea,children:Object(T.jsx)(N.a,{variant:"contained",color:"secondary",startIcon:Object(T.jsx)(de.a,{}),onClick:function(e){d({type:"addDataOpen"})},children:e("main.byroom.add-event")})})]})}),Object(T.jsx)(qa,{tabPanelContent:Object(T.jsx)(Aa,{currentDate:i,dataDialogHook:{state:l,dispatch:d},category:"dummyId"})})]})})}var za=a(409),Ja=a.n(za),Ua=a(144),Ga=a(30),Ya=Object(P.a)({checkAction:{textAlign:"center",marginBottom:"10px","& Button":{margin:"0 5%",width:"40%"}}});function Ka(e){var t=e.open,a=e.onClose,r=e.data,i=e.reload,c=Object(g.a)().t,s=At(),o=Ya(),l=Object(n.useContext)(Ga.b),d=Object(n.useContext)(te),j=Object(gt.b)(),u=j.register,b=j.handleSubmit,m=j.setValue,O=j.reset,p=j.formState,h=p.errors,v=p.isSubmitting,y=p.dirtyFields;Object(n.useEffect)((function(){t?O({id:r.visitorId,checkIn:r.checkIn,checkOut:r.checkOut,visitorCardNumber:r.visitorCardNumber}):O()}),[r,t,O]);var k=function(){return Object(Ua.default)(new Date,"yyyy/MM/dd hh:mm:ss",{locale:null===l||void 0===l?void 0:l.locale})},w=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tt("/front/".concat(t.mode),{inputs:t,dirtyFields:y});case 3:if(!e.sent.success){e.next=11;break}return e.next=7,i();case 7:a(),d.dispatch({type:"success",message:c("common.msg.update-success")}),e.next=12;break;case 11:d.dispatch({type:"error",message:c("common.msg.update-failed")});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),d.dispatch({type:"error",message:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(A,{open:v}),Object(T.jsxs)(Mt,{open:t,onClose:a,data:r,children:[Object(T.jsx)(C.a,{p:2,children:Object(T.jsxs)("form",{children:[Object(T.jsxs)("div",{className:o.checkAction,children:[Object(T.jsx)(N.a,{onClick:function(){m("mode","checkin"),m("checkIn",k()),b(w)()},variant:"contained",color:"secondary",disabled:!!r.checkOut,children:c("visitdialog.button.check-in")}),Object(T.jsx)(N.a,{onClick:function(){m("mode","checkout"),m("checkOut",k()),b(w)()},variant:"contained",color:"secondary",disabled:!r.checkIn,children:c("visitdialog.button.check-out")})]}),Object(T.jsx)("div",{children:Object(T.jsx)(Lt.a,Object(X.a)(Object(X.a)({margin:"normal",fullWidth:!0,autoComplete:"off",color:"secondary",id:"visitorCardNumber",label:c("visitdialog.form.visitor-card-number"),autoFocus:!0},u("visitorCardNumber",{})),{},{error:!!h.visitorCardNumber,helperText:h.visitorCardNumber&&h.visitorCardNumber.message}))})]})}),Object(T.jsx)(C.a,{px:2,pt:2,children:Object(T.jsxs)(Oe.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:s.list,children:[Object(T.jsx)("div",{className:s.title,children:c("visittable.header.appt-time")}),Object(T.jsx)("div",{className:s.field,children:r.apptTime})]},"app-time"),Object(T.jsxs)("li",{className:s.list,children:[Object(T.jsx)("div",{className:s.title,children:c("visittable.header.check-in")}),Object(T.jsx)("div",{className:s.field,children:r.checkIn})]},"check-in"),Object(T.jsxs)("li",{className:s.list,children:[Object(T.jsx)("div",{className:s.title,children:c("visittable.header.check-out")}),Object(T.jsx)("div",{className:s.field,children:r.checkOut})]},"check-out"),Object(T.jsxs)("li",{className:s.list,children:[Object(T.jsx)("div",{className:s.title,children:c("visittable.header.visit-company")}),Object(T.jsx)("div",{className:s.field,children:r.visitCompany})]},"visit-company"),Object(T.jsxs)("li",{className:s.list,children:[Object(T.jsx)("div",{className:s.title,children:c("visittable.header.visitor-name")}),Object(T.jsx)("div",{className:s.field,children:r.visitorName})]},"visitor-name"),Object(T.jsxs)("li",{className:s.list,children:[Object(T.jsx)("div",{className:s.title,children:c("visittable.header.comment")}),Object(T.jsx)("div",{className:s.field,children:r.comment})]},"comment")]})}),Object.keys(r.resourcies).map((function(e){return Object(T.jsx)(Jt,{data:r.resourcies[e]},e)})),Object(T.jsx)(C.a,{p:2,children:Object(T.jsxs)(Oe.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:s.list,children:[Object(T.jsx)("div",{className:s.title,children:c("visittable.header.reservation-name")}),Object(T.jsx)("div",{className:s.field,children:r.reservationName})]},"reservation-name"),Object(T.jsxs)("li",{className:s.list,children:[Object(T.jsx)("div",{className:s.title,children:c("visittable.header.contact-addr")}),Object(T.jsx)("div",{className:s.field,children:r.contactAddr})]},"contact-addr")]})})]})]})}var Xa=oa();function Qa(e){var t=e.currentDate,a=e.dataDialogHook,r=e.category,i=Object(g.a)().t,c=Xa(),s=Object(p.h)(),o=Le("/front/visitlist?timestamp=".concat(t.getTime(),"&location=").concat(s.params.location,"&category=").concat(r),[]),l=Object(v.a)(o,2),d=l[0],j=d.data,u=d.isLoading,b=d.isError,m=l[1],O=Object(n.useState)(!1),h=Object(v.a)(O,2),y=h[0],k=h[1],w=Object(n.useState)(null),N=Object(v.a)(w,2),C=N[0],S=N[1],D=Object(n.useCallback)((function(e){e.isAuthor?a.dispatch({type:"inputOpen"}):a.dispatch({type:"readOpen"}),S(e)}),[a]),I=Object(n.useCallback)((function(e){k(!0),S(e)}),[]),P=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=[{title:i("visittable.header.appt-time"),field:"apptTime"},{title:i("visittable.header.room-name"),field:"roomName"},{title:i("visittable.header.visit-company"),field:"visitCompany"},{title:i("visittable.header.visitor-name"),field:"visitorName"},{title:i("visittable.header.check-in"),field:"checkIn",type:"boolean"},{title:i("visittable.header.check-out"),field:"checkOut",type:"boolean"},{title:i("visittable.header.reservation-name"),field:"reservationName"}];return b?Object(T.jsx)("div",{children:i("common.msg.fetch-failed")}):Object(T.jsxs)(ca,{currentRow:C,dataDialogHook:a,isLoading:u,reload:m,children:[Object(T.jsx)(Je.a,{columns:B,components:{Cell:function(e){return Object(T.jsx)(ze.MTableCell,Object(X.a)(Object(X.a)({},e),{},{className:la(e.columnDef.field,e.rowData,c)}))}},data:j,onRowClick:function(e,t){return!!t&&I(t)},actions:[{icon:function(){return Object(T.jsx)(Ja.a,{})},tooltip:i("visittable.header.edit-action"),onClick:function(e,t){return!!t&&D(t)}}],localization:{header:{actions:""}},options:{showTitle:!1,toolbar:!1,search:!1,filtering:!0,headerStyle:{backgroundColor:ra.palette.primary.light},tableLayout:"fixed"},icons:ht}),C&&Object(T.jsx)(Ka,{open:y,onClose:P,data:C,reload:m})]})}var Za=Object(P.a)((function(e){return Object(ce.a)({datePickerArea:{},actionButtonArea:{textAlign:"right",margin:"auto"},datePicker:{margin:"auto 0"},title:{margin:"auto 0.25em"},button:{margin:e.spacing(1)}})}));function $a(){var e=Object(g.a)().t,t=Za(),a=Object(n.useState)(new Date),r=Object(v.a)(a,2),i=r[0],c=r[1],s=Object(n.useReducer)(ia,{mode:"addData",inputOpen:!1,readOpen:!1}),o=Object(v.a)(s,2),l=o[0],d=o[1];return Object(T.jsx)(We,{frontMode:!0,children:Object(T.jsxs)(se.a,{square:!0,children:[Object(T.jsx)(C.a,{px:2,py:1,children:Object(T.jsxs)(oe.a,{container:!0,alignItems:"stretch",justifyContent:"space-between",children:[Object(T.jsxs)(oe.a,{container:!0,item:!0,xs:12,sm:9,className:t.datePickerArea,children:[Object(T.jsx)(oe.a,{item:!0,className:t.datePicker,children:Object(T.jsx)(ma,{label:e("main.front.picker-label"),date:i,onChange:function(e){c(e)}})}),Object(T.jsx)(oe.a,{item:!0,className:t.title,children:Object(T.jsx)(w.a,{component:"h5",children:e("main.front.title")})})]}),Object(T.jsx)(oe.a,{item:!0,xs:12,sm:3,className:t.actionButtonArea,children:Object(T.jsx)(N.a,{variant:"contained",color:"secondary",startIcon:Object(T.jsx)(de.a,{}),onClick:function(e){d({type:"addDataOpen"})},children:e("main.front.add-event")})})]})}),Object(T.jsx)(qa,{tabPanelContent:Object(T.jsx)(Qa,{currentDate:i,dataDialogHook:{state:l,dispatch:d},category:"dummyId"})})]})})}function _a(){return Object(T.jsx)(O.a,{children:Object(T.jsxs)(p.d,{children:[Object(T.jsx)(p.b,{exact:!0,path:"/:location?/login",component:K}),Object(T.jsx)(p.b,{exact:!0,path:"/oauth/redirect",component:re}),Object(T.jsx)(p.b,{exact:!0,path:"/:location/main",component:pa}),Object(T.jsx)(p.b,{exact:!0,path:"/:location/main/byroom",component:Wa}),Object(T.jsx)(p.b,{exact:!0,path:"/:location/front",component:$a}),Object(T.jsx)(p.a,{from:"/",to:"/login"})]})})}var en=a(410),tn=a(411),an=a(415),nn=a(414),rn=a(210),cn=a(170),sn=function(e){Object(an.a)(a,e);var t=Object(nn.a)(a);function a(){return Object(en.a)(this,a),t.apply(this,arguments)}return Object(tn.a)(a,[{key:"getCalendarHeaderText",value:function(e){return Object(Ua.default)(e,"Yo MMM",{locale:cn.a})}},{key:"getDatePickerHeaderText",value:function(e){return Object(Ua.default)(e,"MMMd\u65e5",{locale:cn.a})}}]),a}(rn.default);var on=function(){return Object(T.jsxs)(s.a,{theme:b,children:[Object(T.jsx)(m.a,{}),Object(T.jsx)(Ga.a,{utils:sn,locale:cn.a,children:Object(T.jsx)(_a,{})})]})},ln=a(412),dn=a(413),jn=a(173),un={en:{translation:ln},ja:{translation:dn}};sa.a.use(jn.e).init({lng:"ja",fallbackLng:"ja",interpolation:{escapeValue:!1},react:{wait:!0},resources:un});sa.a;c.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(on,{})}),document.getElementById("root"))}},[[569,1,2]]]);
//# sourceMappingURL=main.48fa10e9.chunk.js.map