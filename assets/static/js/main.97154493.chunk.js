(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{440:function(e){e.exports=JSON.parse('{"login.form.email":"Email Address","login.form.password":"Password","login.form.submit":"Log In","login.form.required":"Required","login.form.invalid-pattern":"Invalid pattern"}')},441:function(e){e.exports=JSON.parse('{"common.form.required":"\u5fc5\u9808\u5165\u529b\u3067\u3059\u3002","common.button.ok":"OK","common.button.cancel":"\u30ad\u30e3\u30f3\u30bb\u30eb","common.button.search":"\u691c\u7d22","common.button.save":"\u4fdd\u5b58\u3059\u308b","common.button.delete":"\u524a\u9664\u3059\u308b","common.msg.login-success":"\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f\u3002\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u3002","common.msg.login-failed":"\u30ed\u30b0\u30a4\u30f3\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","common.msg.no-data":"\u8a72\u5f53\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093\u3002","common.msg.fetch-failed":"\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","common.msg.update-success":"\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002","common.msg.update-failed":"\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","common.msg.authority-error":"\u6a29\u9650\u304c\u3042\u308a\u307e\u305b\u3093\u3002","common.msg.prompt-logout":"\u53cd\u6620\u3059\u308b\u305f\u3081\u306b\u306f\u30ed\u30b0\u30a2\u30a6\u30c8\u304c\u5fc5\u8981\u3067\u3059\u3002","common.msg.delete-confirm":"\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","common.error.Invalid-date":"\u65e5\u4ed8\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093","common.error.Invalid-min-date":"\u65e5\u4ed8\u304c\u6700\u5c0f\u65e5\u4ed8\u3092\u4e0b\u56de\u3063\u3066\u3044\u307e\u3059","common.error.Invalid-max-date":"\u65e5\u4ed8\u304c\u6700\u5927\u65e5\u4ed8\u3092\u4e0a\u56de\u3063\u3066\u3044\u307e\u3059","login.form.email":"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9","login.form.password":"\u30d1\u30b9\u30ef\u30fc\u30c9","login.form.submit":"\u30ed\u30b0\u30a4\u30f3","login.form.invalid-pattern":"\u7121\u52b9\u306a\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002","login.msal.login":"Microsoft \u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30ed\u30b0\u30a4\u30f3","visitlist.title":"\u6765\u8a2a\u4e00\u89a7","visittable.header.appt-date-time":"\u4e88\u7d04\u65e5\u6642","visittable.header.appt-time":"\u4e88\u7d04\u6642\u9593","visittable.header.room-name":"\u4f1a\u8b70\u5ba4\u540d","visittable.header.visit-company-name":"\u6765\u8a2a\u793e\u540d","visittable.header.visit-company-rep":"\u4ee3\u8868\u8005\u540d(\u656c\u79f0\u7565)","visittable.header.tea-supply":"\u5448\u8336","visittable.header.number-of-tea-supply":"\u5448\u8336\u7dcf\u6570","visittable.header.tea-details":"\u5448\u8336\u8a73\u7d30","visittable.header.number-of-visitor":"\u6765\u8a2a\u8005\u6570","visittable.header.number-of-employee":"\u5f93\u696d\u54e1\u6570","visittable.header.usage-range":"\u5229\u7528\u7bc4\u56f2","visittable.header.comment":"\u30b3\u30e1\u30f3\u30c8","visittable.header.reservation-name":"\u4e88\u7d04\u8005","visittable.header.contact-addr":"\u9023\u7d61\u5148","visittable.header.check-in":"IN","visittable.header.check-out":"OUT","visittable.header.resource-status":"\u4f1a\u8b70\u5ba4\u72b6\u614b","visittable.header.event-subject":"\u4ef6\u540d","visittable.header.event-mailto-authors":"\u4e88\u7d04\u8005\u304a\u3088\u3073\u7ba1\u7406\u8005","visittable.header.event-mailto-required":"\u5fc5\u9808\u53c2\u52a0\u8005","visittable.header.event-mailto-optional":"\u4efb\u610f\u53c2\u52a0\u8005","visittable.header.event-room":"\u4f1a\u8b70\u5ba4","visittable.header.event-start-time":"\u958b\u59cb\u65e5\u6642","visittable.header.event-end-time":"\u7d42\u4e86\u65e5\u6642","visittable.header.visitor-card-number":"\u30ab\u30fc\u30c9\u756a\u53f7","visittable.header.edit-action":"\u7de8\u96c6","visittable.header.number-of-people":"\u4eba\u6570","visitdialog.view.resource-status-accepted":"\u627f\u8afe","visitdialog.view.resource-status-declined":"\u8f9e\u9000","visitdialog.view.usage-range.outside":"\u793e\u5916\u4f1a\u8b70","visitdialog.view.usage-range.inside":"\u793e\u5185\u4f1a\u8b70","visitdialog.view.tea-supply.number-of-tea-supply":"\u5448","visitdialog.view.tea-supply.number-of-visitor":"\u6765","visitdialog.view.tea-supply.number-of-employee":"\u5f93","visitdialog.title":"\u4e88\u7d04\u60c5\u5831","visitdialog.header.last-updated":"\u6700\u7d42\u66f4\u65b0\u65e5\u6642","visitdialog.notes.multiple-locations":"\u203b\u8907\u6570\u306e\u5834\u6240(\u4f1a\u8b70\u5ba4\u4ee5\u5916\u542b\u3080)\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u4e00\u90e8\u6a5f\u80fd\u306f\u7de8\u96c6\u3067\u304d\u307e\u305b\u3093","visitdialog.notes.no-relevant-rooms":"\u4e88\u7d04\u53ef\u80fd\u306a\u4f1a\u8b70\u5ba4\u304c\u3042\u308a\u307e\u305b\u3093","visitdialog.notes.reservation-status-declined":"\u4e88\u7d04\u8005\u304c\u3053\u306e\u4e88\u7d04\u3092\u8f9e\u9000\u3057\u3066\u3044\u307e\u3059","visitdialog.notes.reply-status":"\u8fd4\u4fe1\u72b6\u6cc1","visitdialog.notes.user-status-none":"\u306a\u3057","visitdialog.notes.user-status-tentatively-accepted":"\u4eee\u627f\u8afe","visitdialog.notes.user-status-accepted":"\u627f\u8afe","visitdialog.notes.user-status-declined":"\u8f9e\u9000","visitdialog.notes.recurrence-info":"\u30d1\u30bf\u30fc\u30f3","visitdialog.button.add-visitor":"\u6765\u8a2a\u793e\u8ffd\u52a0","visitdialog.button.remove-visitor":"\u5358\u4e00\u6765\u8a2a\u793e","visitdialog.button.save":"\u4e88\u7d04\u306e\u4fdd\u5b58","visitdialog.button.delete":"\u4e88\u7d04\u306e\u524a\u9664","visitdialog.button.check-in":"\u30c1\u30a7\u30c3\u30af\u30a4\u30f3","visitdialog.button.check-out":"\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8","visitdialog.button.set-recurrence":"\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u306b\u3059\u308b","visitdialog.button.edit-recurrence":"\u5b9a\u671f\u7684\u306a\u30d1\u30bf\u30fc\u30f3\u306e\u7de8\u96c6","visitdialog.form.tea-supply-yes":"\u3042\u308a","visitdialog.form.tea-supply-no":"\u306a\u3057","visitdialog.form.visitor-card-number":"\u30ab\u30fc\u30c9\u756a\u53f7","visitdialog.form.visitor-card-number-placeholder":"\u30ab\u30fc\u30c9\u756a\u53f7\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","visitdialog.form.error.event-time":"\u65e5\u6642\u306e\u95a2\u4fc2\u6027\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059","visitdialog.form.error.available-time":"\u4f1a\u8b70\u5ba4\u304c\u7a7a\u3044\u3066\u3044\u307e\u305b\u3093","visitdialog.form.error.room-not-covered":"\u4f1a\u8b70\u5ba4\u3092\u9078\u629e\u3057\u306a\u304a\u3057\u3066\u304f\u3060\u3055\u3044","visitdialog.form.error.number-of-tea-supply":"\u5448\u8336\u7dcf\u6570\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093","visitdialog.form.error.recurrence.has-no-occurrence":"\u7e70\u308a\u8fd4\u3057\u306b\u6307\u5b9a\u3055\u308c\u305f\u7bc4\u56f2\u306b\u767a\u751f\u65e5\u304c\u3042\u308a\u307e\u305b\u3093","auto-complete.no-options-text":"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u307e\u305f\u306f\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","recurrence-dialog.title":"\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u306e\u8a2d\u5b9a","recurrence-dialog.button.release-recurrence":"\u5b9a\u671f\u7684\u306a\u8a2d\u5b9a\u3092\u89e3\u9664","recurrence-dialog.confirm-message-1":"\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u306e\u4e00\u90e8\u306b\u3001\u7279\u5b9a\u306e\u5909\u66f4\u3082\u3057\u304f\u306f\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u6e08\u307f\u306e\u4e88\u7d04\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002","recurrence-dialog.confirm-message-2":"\u305d\u308c\u3089\u306e\u5185\u5bb9\u306f\u5168\u3066\u53d6\u308a\u6d88\u3055\u308c\u3001\u518d\u3073\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u3068\u3057\u3066\u4f5c\u6210\u3055\u308c\u307e\u3059\u304c\u5b9c\u3057\u3044\u3067\u3059\u304b\uff1f","recurrence-dialog.header.appt-date-time":"\u958b\u59cb\u65e5\u6642","recurrence-dialog.header.pattern.type":"\u30d1\u30bf\u30fc\u30f3\u306e\u8a2d\u5b9a","recurrence-dialog.header.pattern.interval":"\u9593\u9694","recurrence-dialog.header.pattern.days-of-week":"\u66dc\u65e5","recurrence-dialog.header.pattern.day-of-month":"\u65e5\u4ed8","recurrence-dialog.header.pattern.index":"\u9031\u6570","recurrence-dialog.header.pattern.month":"\u6708","recurrence-dialog.header.range.type":"\u671f\u9593\u306e\u8a2d\u5b9a","recurrence-dialog.header.range.start-date":"\u958b\u59cb\u65e5","recurrence-dialog.header.range.end-date":"\u7d42\u4e86\u65e5","recurrence-dialog.header.range.number-of-occurrences":"\u53cd\u5fa9\u56de\u6570","recurrence-dialog.label.pattern.interval.daily":"\u65e5\u3054\u3068","recurrence-dialog.label.pattern.interval.weekly":"\u9031\u3054\u3068","recurrence-dialog.label.pattern.interval.absoluteMonthly":"\u304b\u6708\u3054\u3068","recurrence-dialog.label.pattern.interval.relativeMonthly":"\u304b\u6708\u3054\u3068","recurrence-dialog.label.pattern.interval.absoluteYearly":"\u5e74\u3054\u3068","recurrence-dialog.label.pattern.interval.relativeYearly":"\u5e74\u3054\u3068","recurrence-dialog.label.pattern.day-of-month.absolute":"\u65e5\u306b\u8a2d\u5b9a","recurrence-dialog.label.pattern.day-of-month.relative":"\u306b\u8a2d\u5b9a","recurrence-dialog.error.event-time":"\u65e5\u6642\u306e\u95a2\u4fc2\u6027\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059","recurrence-dialog.error.range.end-date":"\u958b\u59cb\u65e5\u3092\u4e0b\u56de\u3063\u3066\u3044\u307e\u3059","recurrence-dialog.error.range.end-date.max":"\u6700\u9577\u671f\u9593\uff15\u5e74\u3067\u3059","recurrence-dialog.pattern.type.daily":"\u65e5","recurrence-dialog.pattern.type.weekly":"\u9031","recurrence-dialog.pattern.type.absoluteMonthly":"\u6708\uff08\u65e5\u6307\u5b9a\uff09","recurrence-dialog.pattern.type.relativeMonthly":"\u6708\uff08\u66dc\u65e5\u6307\u5b9a\uff09","recurrence-dialog.pattern.type.absoluteYearly":"\u5e74\uff08\u65e5\u6307\u5b9a\uff09","recurrence-dialog.pattern.type.relativeYearly":"\u5e74\uff08\u66dc\u65e5\u6307\u5b9a\uff09","recurrence-dialog.pattern.day-of-week.sunday":"\u65e5\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.monday":"\u6708\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.tuesday":"\u706b\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.wednesday":"\u6c34\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.thursday":"\u6728\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.friday":"\u91d1\u66dc\u65e5","recurrence-dialog.pattern.day-of-week.saturday":"\u571f\u66dc\u65e5","recurrence-dialog.pattern.index.first":"\u7b2c\uff11","recurrence-dialog.pattern.index.second":"\u7b2c\uff12","recurrence-dialog.pattern.index.third":"\u7b2c\uff13","recurrence-dialog.pattern.index.fourth":"\u7b2c\uff14","recurrence-dialog.pattern.index.last":"\u6700\u7d42","recurrence-dialog.pattern.month.1":"1\u6708","recurrence-dialog.pattern.month.2":"2\u6708","recurrence-dialog.pattern.month.3":"3\u6708","recurrence-dialog.pattern.month.4":"4\u6708","recurrence-dialog.pattern.month.5":"5\u6708","recurrence-dialog.pattern.month.6":"6\u6708","recurrence-dialog.pattern.month.7":"7\u6708","recurrence-dialog.pattern.month.8":"8\u6708","recurrence-dialog.pattern.month.9":"9\u6708","recurrence-dialog.pattern.month.10":"10\u6708","recurrence-dialog.pattern.month.11":"11\u6708","recurrence-dialog.pattern.month.12":"12\u6708","recurrence-info.pattern.interval.every-day":"\u6bce\u65e5","recurrence-info.pattern.interval.every-week":"\u6bce\u9031","recurrence-info.pattern.interval.every-month":"\u6bce\u6708","recurrence-info.pattern.interval.every-year":"\u6bce\u5e74","recurrence-info.pattern.interval.day":"\u65e5\u3054\u3068","recurrence-info.pattern.interval.week":"\u9031\u3054\u3068","recurrence-info.pattern.interval.month":"\u304b\u6708\u3054\u3068","recurrence-info.pattern.interval.year":"\u5e74\u3054\u3068","recurrence-info.pattern.day-of-month":"\u65e5","recurrence-info.range.to":"\u304b\u3089","recurrence-info.range.valid-from":"\u307e\u3067\u6709\u52b9","visitorinfoform.title":"\u6765\u8a2a\u60c5\u5831","visitorinfoform.delete-confirm-title":"\u6765\u8a2a\u60c5\u5831\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","visitorinfoform.delete-confirm-message":"\u4e88\u7d04\u60c5\u5831\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","visitorinfoform.delete-confirm-message.series-master":"\u5b9a\u671f\u7684\u306a\u4e88\u7d04\u3092\u5168\u3066\u524a\u9664\u3057\u307e\u3059\u304b\uff1f","visitorinfoform.recurrence-confirm-title":"\u5b9a\u671f\u7684\u306a\u30a2\u30a4\u30c6\u30e0\u3092\u958b\u304f","visitorinfoform.recurrence-confirm-message":"\u3053\u308c\u306f\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u3067\u3059\u3002\u3069\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u958b\u304d\u307e\u3059\u304b\uff1f","visitorinfoform.recurrence-radio-instances":"\u3053\u306e\u56de\u306e\u307f","visitorinfoform.recurrence-radio-master":"\u5b9a\u671f\u7684\u306a\u4e88\u5b9a\u5168\u4f53","visitorinfolist.title":"\u6765\u8a2a\u4e00\u89a7","export-csv.title":"\u6765\u8a2a\u60c5\u5831 CSV\u51fa\u529b","export-csv.start-date":"\u958b\u59cb\u65e5","export-csv.end-date":"\u7d42\u4e86\u65e5","export-csv.button.export-csv":"CSV\u51fa\u529b","export-csv.form.error.event-time":"\u65e5\u4ed8\u306e\u95a2\u4fc2\u6027\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059","export-csv.msg.export-success":"CSV\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3057\u307e\u3057\u305f\u3002","export-csv.msg.export-failed":"CSV\u30d5\u30a1\u30a4\u30eb\u306e\u51fa\u529b\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002","export-csv.file.header.category":"\u30ab\u30c6\u30b4\u30ea","export-csv.file.header.appt-time":"\u4e88\u7d04\u6642\u9593","export-csv.file.header.room-name":"\u4f1a\u8b70\u5ba4\u540d","export-csv.file.header.tea-supply":"\u5448\u8336","export-csv.file.header.number-of-tea-supply":"\u5448\u8336\u7dcf\u6570","export-csv.file.header.tea-details":"\u5448\u8336\u8a73\u7d30","export-csv.file.header.number-of-visitor":"\u6765\u8a2a\u8005\u6570","export-csv.file.header.number-of-employee":"\u5f93\u696d\u54e1\u6570","export-csv.file.header.visit-company":"\u6765\u8a2a\u793e\u540d / \u4ee3\u8868\u8005\u540d(\u656c\u79f0\u7565)","export-csv.file.header.check-in":"\u30a4\u30f3","export-csv.file.header.visitor-card-number":"\u30ab\u30fc\u30c9\u756a\u53f7","export-csv.file.header.check-out":"\u30a2\u30a6\u30c8","export-csv.file.header.reservation-name":"\u4e88\u7d04\u8005","export-csv.file.header.contact-addr":"\u9023\u7d61\u5148","export-csv.file.header.subject":"\u4ef6\u540d","export-csv.file.header.comment":"\u30b3\u30e1\u30f3\u30c8","export-csv.file.tea-supply-yes":"\u3042\u308a","export-csv.file.tea-supply-no":"\u306a\u3057","main.menu.created-visit-info":"\u81ea\u5206\u306e\u4f1a\u8b70\u4e88\u7d04","main.menu.by-meeting-room":"\u4f1a\u8b70\u5ba4\u5225","main.menu.front":"\u53d7\u4ed8","main.menu.settings":"\u8a2d\u5b9a","main.menu.settings.role":"\u30ed\u30fc\u30eb","main.menu.settings.location":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3","main.menu.settings.category":"\u30ab\u30c6\u30b4\u30ea","main.menu.settings.room":"\u4f1a\u8b70\u5ba4","main.menu.refresh":"\u66f4\u65b0","main.menu.logout":"\u30ed\u30b0\u30a2\u30a6\u30c8","main.header.picker-label":"\u9078\u629e\u65e5","main.header.add-event":"\u65b0\u898f\u4f5c\u6210","main.header.export-csv":"CSV\u51fa\u529b","main.visitlist.title":"","main.visitlist.subtitle":"\u81ea\u8eab\u304c\u53c2\u52a0\u4e88\u5b9a\u306e\uff11\u304b\u6708\u5206\u306e\u4e88\u7d04\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002","main.visitlist.subtitle.created-only":"\u81ea\u8eab\u304c\u53c2\u52a0\u4e88\u5b9a\u306e\uff11\u304b\u6708\u5206\u306e\u4e88\u7d04\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002","main.byroom.title":"","main.byroom.subtitle":"\u4f1a\u8b70\u5ba4\u5225\u306e\u4e88\u7d04\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002","main.byroom-weekly.title":"","main.byroom-weekly.subtitle":"\uff11\u9031\u9593\u306e\u4e88\u7d04\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002","main.front.title":"","main.front.subtitle":"\u53d7\u4ed8\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u66f4\u65b0\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002","settings.title.role":"\u30ed\u30fc\u30eb\u8a2d\u5b9a","settings.title.location":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u8a2d\u5b9a","settings.title.category":"\u30ab\u30c6\u30b4\u30ea\u8a2d\u5b9a","settings.title.room":"\u4f1a\u8b70\u5ba4\u8a2d\u5b9a","settings.add-master":"\u65b0\u898f\u4f5c\u6210","settings.header.role.name":"\u30ed\u30fc\u30eb\u540d","settings.header.role.members":"\u30e1\u30f3\u30d0\u30fc","settings.header.location.name":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u540d","settings.header.location.url":"url\u30d1\u30b9\u540d","settings.header.location.sort":"\u8868\u793a\u9806","settings.header.category.name":"\u30ab\u30c6\u30b4\u30ea\u540d","settings.header.category.sort":"\u8868\u793a\u9806","settings.header.category.limited-public":"\u9650\u5b9a\u516c\u958b","settings.header.category.members":"\u30e1\u30f3\u30d0\u30fc","settings.header.category.disabled-by-room":"\u4f1a\u8b70\u5ba4\u5225\u975e\u8868\u793a","settings.header.room.name":"\u4f1a\u8b70\u5ba4\u540d","settings.header.room.email":"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9","settings.header.room.type":"\u7a2e\u5225","settings.header.room.usage-range":"\u5229\u7528\u7bc4\u56f2","settings.header.room.sort":"\u8868\u793a\u9806","settings.header.room.tea-supply":"\u5448\u8336\u9078\u629e","settings.header.room.tea-supply.outside":"\u793e\u5916\u7528\uff1a\u5448\u8336\u9078\u629e","settings.header.room.tea-supply.inside":"\u793e\u5185\u7528\uff1a\u5448\u8336\u9078\u629e","settings.header.room.members":"\u30e1\u30f3\u30d0\u30fc","settings.header.room.location":"\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3","settings.header.room.category":"\u30ab\u30c6\u30b4\u30ea","settings.header.room.comment":"\u30b3\u30e1\u30f3\u30c8","settings.header.room.cleaning-option":"\u6e05\u6383\u30aa\u30d7\u30b7\u30e7\u30f3","settings.view.role.name.admin":"\u7ba1\u7406\u8005","settings.view.role.name.front":"\u30d5\u30ed\u30f3\u30c8","settings.view.room.type.rooms":"\u4f1a\u8b70\u5ba4","settings.view.room.type.free":"\u30d5\u30ea\u30fc\u30b9\u30da\u30fc\u30b9","settings.view.room.usage-range.none":"\u5236\u9650\u306a\u3057","settings.view.room.usage-range.outside":"\u793e\u5916\u7528","settings.view.room.usage-range.inside":"\u793e\u5185\u7528","settings.view.room.tea-supply.outside":"\u793e\u5916\uff1a","settings.view.room.tea-supply.inside":"\u793e\u5185\uff1a","settings.view.room.tea-supply-true":"\u3042\u308a","settings.view.room.tea-supply-false":"\u306a\u3057","settings.form.common.error.association":"\u4ed6\u306e\u8a2d\u5b9a\u3067\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u524a\u9664\u3067\u304d\u307e\u305b\u3093\u3002","settings.form.role.error.name.unique":"\u3053\u306e\u30ed\u30fc\u30eb\u306f\u65e2\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002","settings.form.location.error.url.unique":"\u3053\u306eurl\u306f\u65e2\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002","settings.form.location.error.url.pattern":"\u534a\u89d2\u306e\u5c0f\u6587\u5b57\u82f1\u6570\u5b57\u306e\u307f\u5165\u529b\u3067\u304d\u307e\u3059\u3002","settings.form.room.error.email.unique":"\u3053\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u65e2\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002","settings.form.room.error.email.pattern":"\u7121\u52b9\u306a\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002"}')},601:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(25),c=a.n(i),o=a(640),s=a(120),l=a(400),d=a.n(l),u={light:"#336bbd",main:"#0046AD",dark:"#003179",contrastText:"#fff"},j=Object(s.b)({palette:{primary:u,secondary:d.a},typography:{button:{textTransform:"none"}},props:{MuiTextField:{variant:"outlined"}},mixins:{toolbar:{minHeight:50}},overrides:{MuiTooltip:{tooltip:{fontSize:"1em"}}}}),b=a(641),m=a(50),p=a(47),O=a(12),h=a.n(O),f=a(21),g=a(9),x=a(659),v=a(630),y=a(657),k=a(59),w=a(124),C=a(296),D=a(631),S=a(629),T=a(1);function N(){return Object(T.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Version 1.0.3 - Copyright \xa9 ",Object(T.jsx)(S.a,{color:"inherit",href:"https://www.liveness.co.jp/",children:"liveness, Inc."})," ",(new Date).getFullYear(),"."]})}var M=a(62),I=a(446),R=a(363),E=Object(M.a)((function(e){return{root:{zIndex:e.zIndex.tooltip+1,color:"#fff"}}}));function F(e){var t=E();return Object(T.jsx)(I.a,{className:t.root,open:e.open,children:Object(T.jsx)(R.a,{color:"inherit"})})}var P=function(){return Object(M.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))};function B(e){return V.apply(this,arguments)}function V(){return(V=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.prev=3,e.next=6,a.json();case 6:a.parsedBody=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:if(a.ok){e.next=14;break}throw console.error("Server Error: ",null===(n=a.parsedBody)||void 0===n?void 0:n.body),new Error(a.statusText);case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function L(e){return A.apply(this,arguments)}function A(){return A=Object(f.a)(h.a.mark((function e(t){var a,n=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:{method:"get"},e.next=3,B(new Request(t,a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function W(e,t){return H.apply(this,arguments)}function H(){return H=Object(f.a)(h.a.mark((function e(t,a){var n,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>2&&void 0!==r[2]?r[2]:{method:"post",body:JSON.stringify(a)},e.next=3,B(new Request(t,n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}var q="liveness-visitor-temp",z="liveness-visitor-user",Y=function(e){sessionStorage.setItem(z,e)},K="liveness-visitor-reload",U=function(e,t){var a=JSON.parse(sessionStorage.getItem(K));a[e]=t,sessionStorage.setItem(K,JSON.stringify(a))},J=function(e){return JSON.parse(sessionStorage.getItem(K))[e]},G="liveness-visitor-reload-flg",$=function(){return sessionStorage.getItem(G)},Z=function(){sessionStorage.removeItem(G)},X=function(){sessionStorage.removeItem(z),sessionStorage.removeItem(K),Z()},_=P();function Q(){var e=Object(x.a)().t,t=_(),a=Object(p.h)(),r=Object(n.useState)(!1),i=Object(g.a)(r,2),c=i[0],o=i[1],s=function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),n=a.params.location,sessionStorage.setItem(q,n),e.next=5,L("/oauth/signin");case 5:(t=e.sent).parsedBody&&(window.location.href=t.parsedBody.url),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}var n}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(T.jsx)(F,{open:c}),Object(T.jsxs)("div",{className:t.paper,children:[Object(T.jsx)(y.a,{className:t.avatar,children:Object(T.jsx)(D.a,{})}),Object(T.jsx)(k.a,{component:"h1",variant:"h5",children:"LIVENESS Visitors for Microsoft"}),Object(T.jsx)(w.a,{onClick:s,fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:e("login.msal.login")})]}),Object(T.jsx)(C.a,{mt:8,children:Object(T.jsx)(N,{})})]})}var ee=a(7),te=a(632),ae=a(653);function ne(e){return Object(T.jsx)(ae.a,Object(ee.a)({elevation:6,variant:"filled"},e))}var re=function(e,t){switch(t.type){case"hide":return Object(ee.a)(Object(ee.a)({},e),{},{open:!1});case"success":case"info":case"warning":case"error":return Object(ee.a)(Object(ee.a)({},e),{},{open:!0,severity:t.type,message:t.message});default:return e}};function ie(e){var t=e.severity,a=e.message,n=e.open,r=e.onClose;return Object(T.jsx)(te.a,{open:n,autoHideDuration:1500,onClose:r,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(T.jsx)(ne,{onClose:r,severity:t,children:a})})}var ce=Object(n.createContext)({});function oe(e){var t=e.children,a=Object(n.useReducer)(re,{severity:"info",message:"",open:!1}),r=Object(g.a)(a,2),i=r[0],c=r[1];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(ie,Object(ee.a)(Object(ee.a)({},i),{},{onClose:function(e,t){"clickaway"!==t&&c({type:"hide"})}})),Object(T.jsx)(ce.Provider,{value:{state:i,dispatch:c},children:t})]})}var se=P();function le(){return Object(T.jsx)(oe,{children:Object(T.jsx)(de,{})})}function de(){var e=se(),t=Object(x.a)().t,a=Object(n.useContext)(ce),r=Object(n.useState)(!0),i=Object(g.a)(r,2),c=i[0],o=i[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(f.a)(h.a.mark((function e(){var n,r,i,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=window.location.search,e.next=4,L("/oauth/callback"+n);case 4:if(!(r=e.sent).parsedBody){e.next=18;break}if(o(!1),r.parsedBody.ok?a.dispatch({type:"success",message:t("common.msg.login-success")}):a.dispatch({type:"error",message:t("common.msg.login-failed")}),i=sessionStorage.getItem(q),sessionStorage.removeItem(q),i&&"undefined"!==i){e.next=15;break}return e.next=13,L("/location/first");case 13:(c=e.sent).parsedBody&&(i=c.parsedBody.url);case 15:s="/".concat(i,"/main"),"undefined"===i&&(s="/settings/location"),setTimeout((function(){window.location.replace(s)}),1500);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(T.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(T.jsx)(F,{open:c}),Object(T.jsxs)("div",{className:e.paper,children:[Object(T.jsx)(y.a,{className:e.avatar,children:Object(T.jsx)(D.a,{})}),Object(T.jsx)(k.a,{component:"h1",variant:"h5",children:"LIVENESS Visitors for Microsoft"})]}),Object(T.jsx)(C.a,{mt:8,children:Object(T.jsx)(N,{})})]})}var ue=a(156),je=a(3),be=a(153),me=a(79),pe=a(634),Oe=a(298),he=a(609),fe=a(636),ge=a(234),xe=a.n(ge),ve=a(175),ye=a(610),ke=a(637),we=a(639),Ce=a(218),De=a(366),Se=a(367),Te=a(638),Ne=a(635),Me=a(403),Ie=a.n(Me),Re=a(405),Ee=a.n(Re),Fe=a(406),Pe=a.n(Fe),Be=a(407),Ve=a.n(Be),Le=a(408),Ae=a.n(Le),We=a(409),He=a.n(We),qe=a(410),ze=a.n(qe),Ye=a(411),Ke=a.n(Ye),Ue=a(297),Je=a(302);function Ge(e,t){var a=Object(n.useState)(e),r=Object(g.a)(a,2),i=r[0],c=r[1],o=Object(n.useState)(t),s=Object(g.a)(o,2),l=s[0],d=s[1],u=Object(n.useState)(!1),j=Object(g.a)(u,2),b=j[0],m=j[1],p=Object(n.useState)(!1),O=Object(g.a)(p,2),x=O[0],v=O[1],y=Object(n.useCallback)(Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:return v(!1),m(!0),e.prev=4,e.next=7,L(i);case 7:(t=e.sent).parsedBody&&d(t.parsedBody),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),v(!0),console.log(e.t0);case 15:m(!1);case 16:case"end":return e.stop()}}),e,null,[[4,11]])}))),[i]),k=Object(n.useCallback)(Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y());case 1:case"end":return e.stop()}}),e)}))),[y]);return Object(n.useEffect)((function(){y()}),[y]),[{data:l,isLoading:b,isError:x},k,c]}function $e(){var e=Ge("/location/choices",[]),t=Object(g.a)(e,1)[0].data,a=Object(p.g)(),r=Object(p.h)(),i=Object(n.useState)(r.params.location),c=Object(g.a)(i,2),o=c[0],s=c[1];return t&&0!==t.length?Object(T.jsx)(Ue.a,{color:"primary",margin:"dense",size:"small",children:Object(T.jsx)(Je.a,{style:{color:"white"},value:o,onChange:function(e){s(e.target.value);var t=r.path.replace(/:location/i,e.target.value);a.push(t)},children:t.map((function(e){return Object(T.jsx)(De.a,{value:e.url,children:e.name},e.url)}))})}):Object(T.jsx)(T.Fragment,{})}var Ze=Object(M.a)((function(e){return Object(be.a)({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:230,width:"calc(100% - ".concat(230,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},toolbar:{paddingRight:24},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},location:{color:"white"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:230,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},drawerCloseIcon:Object(ee.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),calendarHidden:{display:"none"},pageTitle:{marginBottom:e.spacing(1)},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},link:{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},nested:{paddingLeft:e.spacing(10)}})})),Xe=Object(n.createContext)({}),_e=function(e){var t=e.children,a=e.adminMode,i=e.frontMode,c=e.menuOpen,o=Object(x.a)().t,s=Ze(),l=Object(p.h)(),d=Object(n.useState)(!!c),u=Object(g.a)(d,2),j=u[0],b=u[1],O=Object(n.useState)(!0),y=Object(g.a)(O,2),w=y[0],D=y[1];Object(n.useEffect)((function(){j||D(!1)}),[j]);var S=r.a.useState(null),M=Object(g.a)(S,2),I=M[0],R=M[1],E=Boolean(I),F=function(){R(null)},P=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("/oauth/signout");case 3:e.sent.ok&&(X(),window.location.href="/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),B={signedIn:!1,email:"",name:"",isAdmin:!1,isFront:!1,contactAddr:void 0},V=Object(n.useReducer)((function(e,t){switch(t.type){case"signedIn":return{signedIn:!0,email:t.user.email,name:t.user.name,isAdmin:t.user.isAdmin,isFront:t.user.isFront,contactAddr:t.user.contactAddr};case"signedOut":return B;default:return e}}),B),A=Object(g.a)(V,2),W=A[0],H=A[1],q=Object(n.useCallback)(Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=sessionStorage.getItem(z))){e.next=7;break}a=JSON.parse(t),H({type:"signedIn",user:a}),e.next=11;break;case 7:return e.next=9,L("/user/me");case 9:(n=e.sent).parsedBody?(r=n.parsedBody,Y(JSON.stringify(r)),H({type:"signedIn",user:r})):(X(),H({type:"signedOut"}),console.log("Failed to retrieve email"));case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),X(),window.location.href="/login";case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),[]);Object(n.useEffect)((function(){q()}),[q]),Object(n.useEffect)((function(){$()||sessionStorage.setItem(K,"{}")}),[]);var U=t,J=Object(T.jsx)(T.Fragment,{children:o("common.msg.authority-error")});return a&&!W.isAdmin&&(U=J),i&&!W.isFront&&(U=J),W.signedIn?Object(T.jsx)(Xe.Provider,{value:{userStorage:W,dispatch:H},children:Object(T.jsx)(oe,{children:Object(T.jsxs)("div",{className:s.root,children:[Object(T.jsx)(pe.a,{position:"absolute",className:Object(je.a)(s.appBar,j&&s.appBarShift),children:Object(T.jsxs)(Oe.a,{className:s.toolbar,children:[Object(T.jsx)(ve.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){b(!0)},className:Object(je.a)(s.menuButton,j&&s.menuButtonHidden),children:Object(T.jsx)(Ie.a,{})}),Object(T.jsx)(k.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:s.title,children:"LIVENESS Visitors for Microsoft"}),Object(T.jsx)("div",{children:Object(T.jsx)($e,{})}),Object(T.jsxs)("div",{children:[Object(T.jsx)(ve.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){R(e.currentTarget)},color:"inherit",children:Object(T.jsx)(Ne.a,{})}),Object(T.jsxs)(Ce.a,{id:"menu-appbar",anchorEl:I,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:E,onClose:F,children:[Object(T.jsx)(De.a,{onClick:F,children:W.email}),Object(T.jsx)(De.a,{onClick:P,children:o("main.menu.logout")})]})]})]})}),Object(T.jsxs)(me.a,{variant:"permanent",classes:{paper:Object(je.a)(s.drawerPaper,!j&&s.drawerPaperClose)},open:j,children:[Object(T.jsx)("div",{className:s.drawerCloseIcon,children:Object(T.jsx)(ve.a,{onClick:function(){b(!1)},children:Object(T.jsx)(xe.a,{})})}),Object(T.jsx)(fe.a,{}),Object(T.jsxs)(he.a,{children:[Object(T.jsx)(m.b,{to:"/".concat(l.params.location,"/main"),className:s.link,children:Object(T.jsxs)(ye.a,{button:!0,children:[Object(T.jsx)(Se.a,{title:o("main.menu.created-visit-info"),children:Object(T.jsx)(ke.a,{children:Object(T.jsx)(Ee.a,{})})}),Object(T.jsx)(Te.a,{primary:o("main.menu.created-visit-info")})]})}),Object(T.jsx)(m.b,{to:"/".concat(l.params.location,"/main/byroom"),className:s.link,children:Object(T.jsxs)(ye.a,{button:!0,children:[Object(T.jsx)(Se.a,{title:o("main.menu.by-meeting-room"),children:Object(T.jsx)(ke.a,{children:Object(T.jsx)(Pe.a,{})})}),Object(T.jsx)(Te.a,{primary:o("main.menu.by-meeting-room")})]})}),W.isFront&&Object(T.jsx)(m.b,{to:"/".concat(l.params.location,"/front"),className:s.link,children:Object(T.jsxs)(ye.a,{button:!0,children:[Object(T.jsx)(Se.a,{title:o("main.menu.front"),children:Object(T.jsx)(ke.a,{children:Object(T.jsx)(Ve.a,{})})}),Object(T.jsx)(Te.a,{primary:o("main.menu.front")})]})}),W.isAdmin&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(ye.a,{button:!0,onClick:function(){j||b(!0),D(!w)},children:[Object(T.jsx)(ke.a,{children:Object(T.jsx)(Ae.a,{})}),Object(T.jsx)(Te.a,{primary:o("main.menu.settings")}),w?Object(T.jsx)(He.a,{}):Object(T.jsx)(ze.a,{})]}),Object(T.jsxs)(we.a,{in:w,timeout:"auto",unmountOnExit:!0,children:[Object(T.jsx)(m.b,{to:"/".concat(l.params.location,"/settings/role"),className:s.link,children:Object(T.jsx)(ye.a,{button:!0,className:s.nested,children:Object(T.jsx)(Te.a,{primary:o("main.menu.settings.role")})})}),Object(T.jsx)(m.b,{to:"/".concat(l.params.location,"/settings/location"),className:s.link,children:Object(T.jsx)(ye.a,{button:!0,className:s.nested,children:Object(T.jsx)(Te.a,{primary:o("main.menu.settings.location")})})}),Object(T.jsx)(m.b,{to:"/".concat(l.params.location,"/settings/category"),className:s.link,children:Object(T.jsx)(ye.a,{button:!0,className:s.nested,children:Object(T.jsx)(Te.a,{primary:o("main.menu.settings.category")})})}),Object(T.jsx)(m.b,{to:"/".concat(l.params.location,"/settings/room"),className:s.link,children:Object(T.jsx)(ye.a,{button:!0,className:s.nested,children:Object(T.jsx)(Te.a,{primary:o("main.menu.settings.room")})})})]})]}),Object(T.jsxs)(ye.a,{button:!0,onClick:function(){sessionStorage.setItem(G,"1"),window.location.reload()},children:[Object(T.jsx)(Se.a,{title:o("main.menu.refresh"),children:Object(T.jsx)(ke.a,{children:Object(T.jsx)(Ke.a,{})})}),Object(T.jsx)(Te.a,{primary:o("main.menu.refresh")})]})]})]}),Object(T.jsxs)("main",{className:s.content,children:[Object(T.jsx)("div",{className:s.appBarSpacer}),Object(T.jsxs)(v.a,{maxWidth:"lg",className:s.container,children:[U,Object(T.jsx)(C.a,{pt:4,children:Object(T.jsx)(N,{})})]})]})]})})}):Object(T.jsx)(T.Fragment,{})},Qe=a(176);function et(){var e=Object(n.useState)(new Date),t=Object(g.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(g.a)(i,2),o=c[0],s=c[1],l=Object(n.useState)(0),d=Object(g.a)(l,2),u=d[0],j=d[1];Object(n.useEffect)((function(){$()||U("selectedDate",a.getTime().toString())}),[a]),Object(n.useEffect)((function(){j(o?7:1)}),[o]);return[a,r,function(e){r(e)},function(){r((function(e){return e?Object(Qe.a)(e,-1*u):e}))},function(){r((function(e){return e?Object(Qe.a)(e,u):e}))},s]}var tt=a(111),at=a.n(tt),nt=a(414),rt=a.n(nt),it=a(423),ct=a.n(it),ot=a(415),st=a.n(ot),lt=a(306),dt=a.n(lt),ut=a(305),jt=a.n(ut),bt=a(416),mt=a.n(bt),pt=a(417),Ot=a.n(pt),ht=a(419),ft=a.n(ht),gt=a(420),xt=a.n(gt),vt=a(421),yt=a.n(vt),kt=a(424),wt=a.n(kt),Ct=a(418),Dt=a.n(Ct),St=a(422),Tt=a.n(St),Nt=a(425),Mt=a.n(Nt),It={Add:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(rt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(st.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(jt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(mt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(dt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(Ot.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(Dt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(ft.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(xt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(yt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(dt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(xe.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(jt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(Tt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(ct.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(wt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return Object(T.jsx)(Mt.a,Object(ee.a)(Object(ee.a)({},e),{},{ref:t}))}))},Rt={paging:!0,pageSize:10,pageSizeOptions:[5,10,20,50]};function Et(e){var t=e.dataDialogHook,a=Object(n.useState)(null),r=Object(g.a)(a,2),i=r[0],c=r[1],o=Object(n.useCallback)((function(e){e.isAuthor?t.dispatch({type:"inputOpen"}):t.dispatch({type:"readOpen"}),e.seriesMasterId&&t.dispatch({type:"recConfOpen"}),c(e)}),[t]),s=Object(n.useCallback)((function(e,a){e?t.dispatch({type:"recConfCancel"}):(a&&c(a),t.dispatch({type:"recConfClose"}))}),[t]);return[{currentRow:i},c,o,s]}var Ft=a(182),Pt="12px 6px",Bt=function(e){var t=e?Pt:"";return Object(M.a)((function(){return{cellApptTime:{padding:t},cellRoomName:{padding:t},cellTeaSupply:{padding:t},cellRoomStatus:{padding:t},cellReservationName:{padding:t},cellVisitCompany:{padding:t},cellSubject:{padding:t},cellContactAddr:{padding:t},cellCheckIn:{padding:t,overflowWrap:"break-word"},cellCheckOut:{padding:t,overflowWrap:"break-word"},cellComment:{padding:t},declinedApptTime:{textDecoration:"line-through 2px solid red"},declinedRoomName:{"&::after":{wordBreak:"keep-all",marginLeft:5,padding:"1px 5px",color:"red",border:"1px solid red",content:'"'.concat(Ft.a.t("visitdialog.view.resource-status-declined"),'"')}}}}))},Vt=function(e,t,a){var n=e.charAt(0).toUpperCase()+e.slice(1);return Object(je.a)(a["cell".concat(n)],"declined"===t.roomStatus&&a["declined".concat(n)])},Lt=a(137),At=Object(s.b)({palette:{primary:{main:Lt.a[300]},secondary:{main:u.main}},props:{MuiTableRow:{}},overrides:{MuiTable:{root:{borderCollapse:"separate"}}}}),Wt=function(){var e="thin solid rgba(0, 0, 0, 0.12)";return Object(M.a)((function(t){return{list:{display:"flex","&:first-child > div":{borderTop:e}},title:{boxSizing:"border-box",flexBasis:"25%",padding:"0.7em",backgroundColor:t.palette.primary.light,borderLeft:e,borderBottom:e},field:{boxSizing:"border-box",flexBasis:"75%",padding:"0.7em",borderRight:e,borderBottom:e,whiteSpace:"pre-wrap"},fieldSlim:{boxSizing:"border-box",flexBasis:"75%",padding:"0.2em",borderRight:e,borderBottom:e,whiteSpace:"pre-wrap"},bottomLine:{borderBottom:e}}}))},Ht=a(78),qt=a(22),zt=a(254),Yt=a(237),Kt=a(150),Ut=a.n(Kt),Jt=a(245),Gt=a.n(Jt),$t=a(429),Zt=a.n($t),Xt=a(34),_t=a.n(Xt),Qt=["rooms","free"],ea=["outside","inside"],ta=["none"].concat(ea);function aa(e,t){return na.apply(this,arguments)}function na(){return(na=Object(f.a)(h.a.mark((function e(t,a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(t,a);case 3:if(n=e.sent,!(r=n.parsedBody)){e.next=9;break}return e.abrupt("return",Promise.resolve(r));case 9:return e.abrupt("return",Promise.reject(new Error("No Result Error")));case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Promise.reject(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function ra(e){var t=e.name,a=e.control,n=e.label,r=e.required,i=e.selectList,c=e.multiline,o=e.disabled,s=e.validation,l=e.errors,d=Object(x.a)().t,u=Object(ee.a)({required:!!r&&d("common.form.required")},s);return Object(T.jsx)(qt.a,{name:t,control:a,rules:u,render:function(e){var a=e.field;return Object(T.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({},a),{},{label:n,disabled:o,multiline:c,select:!!i,error:!!l[t],helperText:l[t]&&l[t].message,children:!!i&&i.map((function(e,a){return Object(T.jsx)(De.a,{value:e.value,children:e.label},"".concat(t,"-").concat(a))}))}))}})}var ia=a(656),ca=a(125),oa=a(398),sa=a(28),la=a(307),da=a.n(la),ua=a(149),ja=a.n(ua),ba=a(426),ma=a.n(ba),pa="1.3em",Oa=function(e){var t=e.status,a=Object(sa.a)();return"none"===t?Object(T.jsx)(ma.a,{style:{color:a.palette.text.secondary,fontSize:pa}}):"tentativelyAccepted"===t?Object(T.jsx)(da.a,{style:{color:a.palette.warning.main,fontSize:pa}}):"accepted"===t?Object(T.jsx)(da.a,{style:{color:a.palette.success.main,fontSize:pa}}):Object(T.jsx)(ja.a,{style:{color:a.palette.error.main,fontSize:pa}})},ha=["option"],fa=function(e){var t=e.option,a=Object(ca.a)(e,ha);return Object(T.jsx)(oa.a,Object(ee.a)({variant:"outlined",size:"small",icon:t.status?Oa({status:t.status}):void 0,label:t.name,title:t.address,style:{fontSize:"0.9em"}},a))};function ga(e){var t=e.name,a=e.control,r=e.label,i=e.errors,c=e.disabled,o=e.style,s=Object(x.a)().t,l=Object(n.useState)(""),d=Object(g.a)(l,2),u=d[0],j=d[1],b=Ge("",[]),m=Object(g.a)(b,3),p=m[0],O=p.data,v=p.isLoading,y=m[2];Object(n.useEffect)((function(){y(u?"/user/addressbook?filter=".concat(u):"")}),[u,y]);var k=Object(n.useState)(!1),w=Object(g.a)(k,2),C=w[0],D=w[1];Object(n.useEffect)((function(){C||j("")}),[C]);var S=function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)(qt.a,{name:t,control:a,render:function(e){var a=e.field;return Object(T.jsx)(ia.a,Object(ee.a)(Object(ee.a)({},a),{},{disabled:c,style:o,multiple:!0,limitTags:c?void 0:2,size:"small",open:C,onOpen:function(){D(!0)},onClose:function(){D(!1)},options:O&&u?O:[],filterOptions:function(e,t){return e},noOptionsText:s("auto-complete.no-options-text"),loading:v,getOptionLabel:function(e){return"".concat(e.name," <").concat(e.address,">")},renderTags:function(e,t){return e.map((function(e,a){return Object(T.jsx)(fa,Object(ee.a)({option:e},t({index:a})))}))},filterSelectedOptions:!0,getOptionSelected:function(e,t){return e.address===t.address},renderInput:function(e){return Object(T.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({},e),{},{label:r,error:!!i[t],helperText:i[t]&&i[t].message,InputProps:Object(ee.a)(Object(ee.a)({},e.InputProps),{},{endAdornment:Object(T.jsxs)(T.Fragment,{children:[v?Object(T.jsx)(R.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}),onChange:function(e){""===e.target.value&&null===e.target.value||S(e.target.value)}}))},onChange:function(e,t){return a.onChange(t)}}))}})}var xa=a(613),va=a(614),ya=a(615),ka=a(643),wa=Object(M.a)((function(e){return Object(be.a)({root:{margin:0,padding:e.spacing(1.5),paddingLeft:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(.75),top:e.spacing(.75),color:e.palette.grey[500]}})}));function Ca(e){var t=e.open,a=e.onClose,n=e.title,r=e.children,i=Object(x.a)().t,c=wa();return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(xa.a,{open:t,onClose:function(e,t){t&&"backdropClick"===t||a()},fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title",children:[Object(T.jsxs)(ka.a,{id:"form-dialog-title",className:c.root,children:[n,Object(T.jsx)(ve.a,{className:c.closeButton,onClick:a,children:Object(T.jsx)(ja.a,{})})]}),Object(T.jsx)(ya.a,{dividers:!0,children:r}),Object(T.jsx)(va.a,{style:{display:"none"},children:Object(T.jsx)(w.a,{onClick:a,children:i("common.button.cancel")})})]})})}var Da=["none","tentativelyAccepted","accepted","declined"],Sa=function(){var e=Object(x.a)().t;return Object(T.jsx)(T.Fragment,{children:Da.map((function(t,a){return Object(T.jsx)(oa.a,{variant:"outlined",size:"small",icon:Oa({status:t}),label:e("visitdialog.notes.user-status-".concat(_t.a.kebabCase(t))),style:{fontSize:"0.9em",marginLeft:"5px",border:"none"}},a)}))})},Ta=a(41),Na=a(647),Ma=Object(M.a)({timerSelectRoot:{"& svg":{display:"none"}},timerSelect:{paddingRight:"15px !important"},colon:{margin:"auto 3px"}}),Ia=function(e){return 1e3*Math.ceil(e.getTime()/1e3/60/5)*60*5},Ra=function(e){return Object(Na.a)(Ia(e),0)},Ea=function(e){return Object(Na.a)(Ia(e),30)},Fa=Object(Ta.a)(Array(24)).map((function(e,t){return t})).map((function(e){return{label:e,value:e}})),Pa=Object(Ta.a)(Array(12)).map((function(e,t){return 5*t})).map((function(e){return{label:e,value:e}}));var Ba=function(e){var t=e.selected,a=e.onChange,n=e.error,r=Ma();return Object(T.jsxs)(zt.a,{container:!0,children:[Object(T.jsx)(zt.a,{item:!0,children:Object(T.jsx)(Yt.a,{className:r.timerSelectRoot,select:!0,value:t.getHours(),onChange:function(e){a(new Date(t.getFullYear(),t.getMonth(),t.getDate(),Number(e.target.value),t.getMinutes()))},inputProps:{className:r.timerSelect},error:n,children:Fa.map((function(e,t){return Object(T.jsx)(De.a,{value:e.value,children:("00"+Number(e.label)).slice(-2)},"hour-".concat(t))}))})}),Object(T.jsx)(zt.a,{item:!0,className:r.colon,children:":"}),Object(T.jsx)(zt.a,{item:!0,children:Object(T.jsx)(Yt.a,{className:r.timerSelectRoot,select:!0,value:t.getMinutes(),onChange:function(e){a(new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),Number(e.target.value)))},inputProps:{className:r.timerSelect},error:n,children:Pa.map((function(e,t){return Object(T.jsx)(De.a,{value:e.value,children:("00"+Number(e.label)).slice(-2)},"minute-".concat(t))}))})})]})},Va=a(642);function La(e){var t=e.open,a=e.onClose,n=e.title,r=e.message,i=e.color;return Object(T.jsx)("div",{children:Object(T.jsxs)(xa.a,{open:t,onClose:function(){a(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[!!n&&Object(T.jsx)(ka.a,{id:"alert-dialog-title",children:n}),Object(T.jsx)(ya.a,{children:Object(T.jsx)(Va.a,{id:"alert-dialog-description",children:r})}),Object(T.jsxs)(va.a,{children:[Object(T.jsx)(w.a,{onClick:function(){a(!0)},color:i,children:"OK"}),Object(T.jsx)(w.a,{onClick:function(){a(!1)},color:i,autoFocus:!0,children:"CANCEL"})]})]})})}var Aa=a(368),Wa=a(645),Ha=Object(M.a)({roomComment:{whiteSpace:"pre-line",fontSize:"0.75rem",lineHeight:"1rem",padding:"0 5px 5px 5px"}});function qa(e){var t=e.control,a=e.setValue,r=e.getValues,i=e.clearErrors,c=e.rooms,o=e.roomId,s=e.disabledVisitor,l=e.disabledRoom,d=e.errors,u=Object(x.a)().t,j=Ha(),b=Object(n.useState)(!1),m=Object(g.a)(b,2),p=m[0],O=m[1],h=Object(qt.f)({control:t,name:"resourcies.".concat(o,".roomForEdit")});Object(n.useEffect)((function(){if(h&&c){var e=c.some((function(e){return e.id===h&&e.teaSupply[r("usageRange")]}));e||a("resourcies.".concat(o,".teaSupply"),!1,{shouldDirty:!0}),O(!e)}else a("resourcies.".concat(o,".teaSupply"),!1,{shouldDirty:!0}),O(!0)}),[r,o,h,c,a]);var f=Object(n.useState)(!1),v=Object(g.a)(f,2),y=v[0],w=v[1],D=Object(qt.f)({control:t,name:"resourcies.".concat(o,".teaSupply")});Object(n.useEffect)((function(){D||(i(["resourcies.".concat(o,".numberOfTeaSupply"),"resourcies.".concat(o,".teaDetails")]),a("resourcies.".concat(o,".numberOfTeaSupply"),0,{shouldDirty:!0}),a("resourcies.".concat(o,".teaDetails"),"",{shouldDirty:!0})),w(!D)}),[D,a,o,i]);var S=Object(n.useState)(""),N=Object(g.a)(S,2),M=N[0],I=N[1];Object(n.useEffect)((function(){if(h&&c){var e=c.filter((function(e){return e.id===h&&!!e.comment}))[0],t=e?e.comment:"";I(t)}else I("")}),[h,c]);var R=function(e){return Object(Xt.get)(d,"resourcies.".concat(o,".").concat(e))};return 0===(null===c||void 0===c?void 0:c.length)?Object(T.jsx)(C.a,{px:2,style:{textAlign:"center",color:"red"},children:u("visitdialog.notes.no-relevant-rooms")}):Object(T.jsxs)(C.a,{px:2,children:[Object(T.jsx)(qt.a,{name:"resourcies.".concat(o,".roomForEdit"),control:t,rules:{required:u("common.form.required"),validate:function(e){return c.some((function(t){return t.id===e}))?void 0:u("visitdialog.form.error.room-not-covered")}},render:function(e){var t=e.field;return Object(T.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({},t),{},{select:!0,disabled:l,label:u("visittable.header.event-room"),error:!!R("roomForEdit"),helperText:!!R("roomForEdit")&&R("roomForEdit").message,children:c.map((function(e){return Object(T.jsxs)(De.a,{value:e.id,children:[e.name," ","<",e.email,">"]},e.id)}))}))}}),Object(T.jsx)(k.a,{component:"div",className:j.roomComment,children:M}),Object(T.jsxs)(zt.a,{container:!0,spacing:1,style:p?{display:"none"}:void 0,children:[Object(T.jsx)(zt.a,{item:!0,xs:5,sm:4,children:Object(T.jsx)(Aa.a,{control:Object(T.jsx)(qt.a,{name:"resourcies.".concat(o,".teaSupply"),control:t,render:function(e){var t=e.field;return Object(T.jsx)(Wa.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary",disabled:p})}}),label:u("visittable.header.tea-supply")})}),Object(T.jsx)(zt.a,{item:!0,xs:2,sm:4,style:s?{opacity:0}:void 0}),Object(T.jsx)(zt.a,{item:!0,xs:5,sm:4,children:Object(T.jsx)(qt.a,{name:"resourcies.".concat(o,".numberOfTeaSupply"),control:t,rules:{required:u("common.form.required"),validate:function(){return r("resourcies.".concat(o,".teaSupply"))&&r("resourcies.".concat(o,".numberOfTeaSupply"))>0||!r("resourcies.".concat(o,".teaSupply"))&&0===r("resourcies.".concat(o,".numberOfTeaSupply"))||u("visitdialog.form.error.number-of-tea-supply")}},render:function(e){var t=e.field;return Object(T.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({type:"number",inputProps:{min:0,style:{textAlign:"right"}}},t),{},{disabled:y,label:u("visittable.header.number-of-tea-supply"),error:!!R("numberOfTeaSupply"),helperText:!!R("numberOfTeaSupply")&&R("numberOfTeaSupply").message}))}})}),Object(T.jsx)(qt.a,{name:"resourcies.".concat(o,".teaDetails"),control:t,render:function(e){var t=e.field;return Object(T.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({style:y?{display:"none"}:void 0,multiline:!0},t),{},{disabled:y,label:u("visittable.header.tea-details"),error:!!R("teaDetails"),helperText:!!R("teaDetails")&&R("teaDetails").message}))}})]})]})}var za=Wt(),Ya=function(e){switch(e){case"accepted":return"visitdialog.view.resource-status-accepted";case"declined":return"visitdialog.view.resource-status-declined";default:return""}};function Ka(e){var t=e.data,a=e.hiddenTeaSupply,n=Object(x.a)().t,r=za();return Object(T.jsx)(C.a,{px:2,pt:2,children:Object(T.jsxs)(he.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:r.list,children:[Object(T.jsx)("div",{className:r.title,children:n("visittable.header.room-name")}),Object(T.jsxs)("div",{className:r.field,children:[t.roomName," ","<",t.roomEmail,">"]})]},"room-name"),Object(T.jsxs)("li",{className:r.list,children:[Object(T.jsx)("div",{className:r.title,children:n("visittable.header.resource-status")}),Object(T.jsx)("div",{className:r.field,children:n(Ya(t.roomStatus))})]},"resource-status"),!a&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("li",{className:r.list,children:[Object(T.jsx)("div",{className:r.title,children:n("visittable.header.tea-supply")}),Object(T.jsx)("div",{className:r.field,style:{flexBasis:"25%",borderRight:"none"},children:t.teaSupply?n("visitdialog.form.tea-supply-yes"):n("visitdialog.form.tea-supply-no")}),Object(T.jsx)("div",{className:r.title,style:{flexBasis:"25%",borderLeft:"none"},children:n("visittable.header.number-of-tea-supply")}),Object(T.jsx)("div",{className:r.field,style:{flexBasis:"25%"},children:t.numberOfTeaSupply})]},"tea-supply"),t.teaSupply&&Object(T.jsxs)("li",{className:r.list,children:[Object(T.jsx)("div",{className:r.title,children:n("visittable.header.tea-details")}),Object(T.jsx)("div",{className:r.field,children:t.teaDetails})]},"tea-details")]})]})})}var Ua=a(282);function Ja(e){var t=e.name,a=e.control,n=e.getValues,r=e.label,i=e.handleDateTimeChange,c=e.errors,o=Object(x.a)().t;return Object(T.jsx)(qt.a,{name:t,control:a,rules:{required:o("common.form.required"),validate:function(){return n("startTime").getTime()<n("endTime").getTime()||o("visitdialog.form.error.event-time")}},render:function(e){var a=e.field;return Object(T.jsx)(Ua.a,Object(ee.a)(Object(ee.a)({},a),{},{onChange:function(e){a.onChange(e),i()},ampm:!1,format:"yyyy/MM/dd HH:mm",disablePast:!0,minutesStep:5,label:r,error:!!c[t],helperText:c[t]&&c[t].message,ref:null}))}})}var Ga=a(427),$a=a.n(Ga);var Za=function(e){var t=e.name,a=e.status,n=Object(x.a)().t;return Object(T.jsxs)(T.Fragment,{children:[t,"declined"===a&&Object(T.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",flexWrap:"wrap",color:"red",verticalAlign:"bottom",marginLeft:15,fontSize:"0.95em"},children:[Object(T.jsx)($a.a,{fontSize:"small",style:{marginRight:3}}),n("visitdialog.notes.reservation-status-declined")]})]})},Xa=a(33),_a=a(108),Qa=function(e){var t=e.datetime,a=Object(n.useContext)(Xa.b);return Object(T.jsx)(T.Fragment,{children:Object(_a.default)(t,"yyyy/MM/dd HH:mm:ss",{locale:null===a||void 0===a?void 0:a.locale})})},en=a(179),tn=a(152),an=a(413),nn=a(428),rn=a(299),cn=a(396),on=a(300),sn=a(308),ln=a.n(sn),dn=["daily","weekly","absoluteMonthly","relativeMonthly","absoluteYearly","relativeYearly"],un=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],jn=["first","second","third","fourth","last"],bn=["endDate","numbered"],mn=a(281),pn=Object(M.a)({keyboardDatePicker:{"& .MuiOutlinedInput-adornedEnd":{paddingRight:0},width:"fit-content"},helperText:{marginLeft:0,marginRight:0,textAlign:"center"}});var On=function(e){var t=e.label,a=e.date,n=e.onChange,r=e.disablePast,i=e.error,c=Object(x.a)().t,o=pn();return Object(T.jsx)(mn.b,{margin:"normal",id:"date-picker-dialog",label:t,format:"yyyy/MM/dd",showTodayButton:!0,disablePast:r,value:a,onChange:n,KeyboardButtonProps:{"aria-label":"change date"},size:"small",className:o.keyboardDatePicker,inputProps:{style:{width:85}},error:i,invalidDateMessage:Object(T.jsx)(on.a,{className:o.helperText,error:!0,children:c("common.error.Invalid-date")}),minDateMessage:Object(T.jsx)(on.a,{className:o.helperText,error:!0,children:c("common.error.Invalid-min-date")}),maxDateMessage:Object(T.jsx)(on.a,{className:o.helperText,error:!0,children:c("common.error.Invalid-max-date")})})},hn=Object(M.a)({time:{marginTop:"auto",marginBottom:"auto"},timeBetween:{margin:"auto"},error:{marginTop:-5}});function fn(e){var t=e.label,a=e.start,n=e.end,r=e.onDateChange,i=e.onStartChange,c=e.onEndChange,o=e.disablePast,s=e.errMsg,l=hn();return Object(T.jsxs)(zt.a,{container:!0,children:[Object(T.jsxs)(zt.a,{item:!0,container:!0,children:[Object(T.jsx)(zt.a,{item:!0,xs:12,sm:5,children:Object(T.jsx)(On,{label:t,date:a,disablePast:o,onChange:function(e){e&&r(e)},error:!!s})}),Object(T.jsxs)(zt.a,{container:!0,item:!0,xs:12,sm:7,children:[Object(T.jsx)(zt.a,{item:!0,className:l.time,children:Object(T.jsx)(Ba,{selected:a,onChange:i,error:!!s})}),Object(T.jsx)(zt.a,{item:!0,className:l.timeBetween,children:"-"}),Object(T.jsx)(zt.a,{item:!0,className:l.time,children:Object(T.jsx)(Ba,{selected:n,onChange:c,error:!!s})})]})]}),!!s&&Object(T.jsx)(zt.a,{item:!0,xs:12,children:Object(T.jsx)(on.a,{className:l.error,error:!0,children:s})})]})}var gn=function(e){var t,a,n=e.recurrence,r=e.start,i=e.end,c=Object(x.a)().t,o=null===(t=n.pattern.daysOfWeek)||void 0===t?void 0:t.map((function(e){return c("recurrence-dialog.pattern.day-of-week.".concat(e))})).join(", "),s=(null===(a=n.pattern.dayOfMonth)||void 0===a?void 0:a.toString())+c("recurrence-info.pattern.day-of-month"),l=c("recurrence-dialog.pattern.index.".concat(n.pattern.index)),d=c("recurrence-dialog.pattern.month.".concat(n.pattern.month)),u="",j="";switch(n.pattern.type){case"daily":u="day";break;case"weekly":u="week",j=" "+o;break;case"absoluteMonthly":u="month",j=" "+s;break;case"relativeMonthly":u="month",j=" "+l+o;break;case"absoluteYearly":u="year",j=" "+d+s;break;case"relativeYearly":u="year",j=" "+d+l+o}var b=1===n.pattern.interval?"":n.pattern.interval.toString(),m=1===n.pattern.interval?"every-":"",p=b+c("recurrence-info.pattern.interval.".concat(m+u))+j,O=Object(_a.default)(r,"HH:mm")+"-"+Object(_a.default)(i,"HH:mm"),h=n.range.startDate+c("recurrence-info.range.to")+n.range.endDate+c("recurrence-info.range.valid-from");return Object(T.jsx)(T.Fragment,{children:p+" "+O+"  "+h})},xn=a(648),vn=Object(M.a)((function(e){return Object(be.a)({root:{margin:0,padding:e.spacing(1.5),paddingLeft:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(.75),top:e.spacing(.75),color:e.palette.grey[500]},inputInterval:{width:70},inputDayOfMonth:{width:70},datePicker:{margin:"auto 0"},error:{margin:"-2px 10px",lineHeight:"1.4em"}})})),yn=un.reduce((function(e,t){return e[t]=!1,e}),{}),kn=function(e,t){var a=_t.a.cloneDeep(yn);return a[un[(new Date).getDay()]]=!0,{startTime:e,endTime:t,pattern:{type:dn[0],interval:1,daysOfWeek:a,dayOfMonth:1,index:jn[0],month:1},range:{type:bn[0],endDate:Object(en.a)(Object(tn.a)(e),1),numberOfOccurrences:1}}},wn={pattern:{type:void 0,interval:void 0,daysOfWeek:void 0,dayOfMonth:void 0,index:void 0,month:void 0},range:{type:void 0,endDate:void 0,numberOfOccurrences:void 0}};function Cn(e){var t=e.activeRoomSelect,a=e.activeSearchButton,r=e.getValues,i=e.setValue,c=e.clearErrors,o=e.errors,s=Object(x.a)().t,l=Object(n.useContext)(Xa.b),d=vn(),u=Object(n.useState)(!1),j=Object(g.a)(u,2),b=j[0],m=j[1],p=Object(n.useState)(!1),O=Object(g.a)(p,2),v=O[0],y=O[1],D=Object(n.useState)(_t.a.cloneDeep(kn(r("startTime"),r("endTime")))),S=Object(g.a)(D,2),N=S[0],M=S[1],I=Object(n.useState)(_t.a.cloneDeep(wn)),R=Object(g.a)(I,2),E=R[0],F=R[1];Object(n.useEffect)((function(){var e=Object(ee.a)({},kn(r("startTime"),r("endTime")));b&&r("recurrence")?M({startTime:r("startTime"),endTime:r("endTime"),pattern:{type:r("recurrence").pattern.type,interval:r("recurrence").pattern.interval,daysOfWeek:r("recurrence").pattern.daysOfWeek&&r("recurrence").pattern.daysOfWeek.length>0?un.reduce((function(e,t){return e[t]=r("recurrence").pattern.daysOfWeek.filter((function(e){return e===t})).length>0,e}),{}):e.pattern.daysOfWeek,dayOfMonth:r("recurrence").pattern.dayOfMonth?r("recurrence").pattern.dayOfMonth:e.pattern.dayOfMonth,index:r("recurrence").pattern.index?r("recurrence").pattern.index:e.pattern.index,month:r("recurrence").pattern.month?r("recurrence").pattern.month:e.pattern.month},range:{type:r("recurrence").range.type,endDate:r("recurrence").range.endDate?new Date(r("recurrence").range.endDate):e.range.endDate,numberOfOccurrences:r("recurrence").range.numberOfOccurrences?r("recurrence").range.numberOfOccurrences:e.range.numberOfOccurrences}}):M(_t.a.cloneDeep(e)),F(_t.a.cloneDeep(wn))}),[r,b]);var P=function(){m(!0)},B=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=r("iCalUId"))){e.next=10;break}return e.next=5,L("/event/checkinstances/".concat(t));case 5:if(a=e.sent,!(null===(n=a.parsedBody)||void 0===n?void 0:n.isIncludesException)){e.next=10;break}return y(!0),e.abrupt("return");case 10:V(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=!1,a=_t.a.cloneDeep(wn),n=Object(tn.a)(N.startTime),r=Object(an.a)(n,5);if(N.startTime.getTime()>N.endTime.getTime()&&(a.startTime=["".concat(s("recurrence-dialog.error.event-time"))],e=!0),n.getTime()>N.range.endDate.getTime()?(a.range.endDate=["".concat(s("recurrence-dialog.error.range.end-date"))],e=!0):r.getTime()<N.range.endDate.getTime()&&(a.range.endDate=["".concat(s("recurrence-dialog.error.range.end-date.max"))],e=!0),F(a),!e){var o=Object.keys(N.pattern.daysOfWeek).filter((function(e){return N.pattern.daysOfWeek[e]}));0===o.length&&o.push(un[(new Date).getDay()]);var l={type:N.pattern.type,interval:N.pattern.interval};switch(N.pattern.type){default:break;case"weekly":l.daysOfWeek=o;break;case"absoluteMonthly":l.dayOfMonth=N.pattern.dayOfMonth;break;case"relativeMonthly":l.daysOfWeek=o,l.index=N.pattern.index;break;case"absoluteYearly":l.dayOfMonth=N.pattern.dayOfMonth,l.month=N.pattern.month;break;case"relativeYearly":l.daysOfWeek=o,l.index=N.pattern.index,l.month=N.pattern.month}var d={type:N.range.type,startDate:W(n)};switch(N.range.type){case"endDate":d.endDate=W(N.range.endDate);break;case"numbered":d.numberOfOccurrences=N.range.numberOfOccurrences}c(["recurrence","startTime","endTime"]),i("recurrence",{pattern:l,range:d},{shouldDirty:!0}),i("startTime",N.startTime,{shouldDirty:!0}),i("endTime",N.endTime,{shouldDirty:!0}),t(),m(!1)}},A=function(){m(!1)},W=function(e){return Object(_a.default)(e,"yyyy-MM-dd",{locale:null===l||void 0===l?void 0:l.locale})},H=dn.map((function(e){return{label:s("recurrence-dialog.pattern.type.".concat(e)),value:e}})),q=un.map((function(e){return{label:s("recurrence-dialog.pattern.day-of-week.".concat(e)),value:e}})),z=jn.map((function(e){return{label:s("recurrence-dialog.pattern.index.".concat(e)),value:e}})),Y=Object(Ta.a)(Array(12)).map((function(e,t){return t+1})).map((function(e){return{label:s("recurrence-dialog.pattern.month.".concat(e)),value:e}})),K=Object(n.useMemo)((function(){return Object(T.jsx)(rn.a,{row:!0,children:un.map((function(e,t){return Object(T.jsx)(Aa.a,{control:Object(T.jsx)(cn.a,{checked:N.pattern.daysOfWeek[e],onChange:function(e){M((function(t){return Object(ee.a)(Object(ee.a)({},t),{},{pattern:Object(ee.a)(Object(ee.a)({},t.pattern),{},{daysOfWeek:Object(ee.a)(Object(ee.a)({},t.pattern.daysOfWeek),{},Object(Ht.a)({},e.target.name,e.target.checked))})})}))},name:e,color:"primary"}),label:s("recurrence-dialog.pattern.day-of-week.".concat(e))},t)}))})}),[N,s]),U=Object(n.useMemo)((function(){return Object(T.jsx)(Yt.a,{label:s("recurrence-dialog.header.pattern.days-of-week"),select:!0,value:Object.keys(N.pattern.daysOfWeek).filter((function(e){return N.pattern.daysOfWeek[e]})).length>0?Object.keys(N.pattern.daysOfWeek).filter((function(e){return N.pattern.daysOfWeek[e]})):un[0],onChange:function(e){var t=_t.a.cloneDeep(yn);t[e.target.value]=!0,M((function(e){return Object(ee.a)(Object(ee.a)({},e),{},{pattern:Object(ee.a)(Object(ee.a)({},e.pattern),{},{daysOfWeek:_t.a.cloneDeep(t)})})}))},error:!!E.pattern.daysOfWeek,helperText:E.pattern.daysOfWeek,children:q.map((function(e,t){return Object(T.jsx)(De.a,{value:e.value,children:e.label},t)}))})}),[q,E.pattern.daysOfWeek,N,s]),J=Object(n.useMemo)((function(){return Object(T.jsx)(Yt.a,{label:s("recurrence-dialog.header.pattern.index"),select:!0,value:N.pattern.index,onChange:function(e){M((function(t){return Object(ee.a)(Object(ee.a)({},t),{},{pattern:Object(ee.a)(Object(ee.a)({},t.pattern),{},{index:e.target.value})})}))},error:!!E.pattern.index,helperText:E.pattern.index,children:z.map((function(e,t){return Object(T.jsx)(De.a,{value:e.value,children:e.label},t)}))})}),[E.pattern.index,N,s,z]),G=Object(n.useMemo)((function(){return Object(T.jsx)(Yt.a,{className:d.inputDayOfMonth,label:s("recurrence-dialog.header.pattern.day-of-month"),type:"number",inputProps:{min:1,max:31,style:{textAlign:"right"}},value:N.pattern.dayOfMonth,onChange:function(e){var t=Number(e.target.value);t<1&&(t=1),t>31&&(t=31),M((function(e){return Object(ee.a)(Object(ee.a)({},e),{},{pattern:Object(ee.a)(Object(ee.a)({},e.pattern),{},{dayOfMonth:t})})}))},error:!!E.pattern.dayOfMonth,helperText:E.pattern.dayOfMonth})}),[d.inputDayOfMonth,E.pattern.dayOfMonth,N,s]),$=Object(n.useMemo)((function(){return Object(T.jsx)(Yt.a,{label:s("recurrence-dialog.header.pattern.month"),select:!0,value:N.pattern.month,onChange:function(e){M((function(t){return Object(ee.a)(Object(ee.a)({},t),{},{pattern:Object(ee.a)(Object(ee.a)({},t.pattern),{},{month:Number(e.target.value)})})}))},error:!!E.pattern.month,helperText:E.pattern.month,children:Y.map((function(e,t){return Object(T.jsx)(De.a,{value:e.value,children:e.label},t)}))})}),[E.pattern.month,N,s,Y]);return Object(T.jsxs)(T.Fragment,{children:[!r("recurrence")&&Object(T.jsx)(w.a,{size:"small",color:"primary",startIcon:Object(T.jsx)(ln.a,{}),onClick:P,children:s("visitdialog.button.set-recurrence")}),!!r("recurrence")&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Yt.a,{label:s("visitdialog.notes.recurrence-info"),value:Object(nn.renderToString)(Object(T.jsx)(gn,{recurrence:r("recurrence"),start:r("startTime"),end:r("endTime")})),multiline:!0,disabled:!0,inputProps:{minRows:1},error:!!o.recurrence}),!!o.recurrence&&Object(T.jsx)(on.a,{error:!0,className:d.error,children:o.recurrence.message}),Object(T.jsx)(w.a,{size:"small",color:"primary",startIcon:Object(T.jsx)(ln.a,{}),onClick:P,children:s("visitdialog.button.edit-recurrence")})]}),Object(T.jsxs)(xa.a,{open:b,onClose:function(e,t){t&&"backdropClick"===t||A()},fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title",children:[Object(T.jsxs)(ka.a,{className:d.root,children:[s("recurrence-dialog.title"),Object(T.jsx)(ve.a,{className:d.closeButton,onClick:A,children:Object(T.jsx)(ja.a,{})})]}),Object(T.jsxs)(ya.a,{dividers:!0,children:[Object(T.jsx)(C.a,{px:2,py:1,children:Object(T.jsx)(zt.a,{container:!0,children:Object(T.jsx)(zt.a,{item:!0,xs:12,sm:10,children:Object(T.jsx)(fn,{label:s("recurrence-dialog.header.appt-date-time"),start:N.startTime,end:N.endTime,onDateChange:function(e){M((function(t){return Object(ee.a)(Object(ee.a)({},t),{},{startTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.startTime.getHours(),t.startTime.getMinutes()),endTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.endTime.getHours(),t.endTime.getMinutes())})}))},onStartChange:function(e){M((function(t){var a=new Date(t.startTime.getFullYear(),t.startTime.getMonth(),t.startTime.getDate(),e.getHours(),e.getMinutes()),n=Ea(a);return Object(ee.a)(Object(ee.a)({},t),{},{startTime:a,endTime:n})}))},onEndChange:function(e){M((function(t){return Object(ee.a)(Object(ee.a)({},t),{},{endTime:new Date(t.endTime.getFullYear(),t.endTime.getMonth(),t.endTime.getDate(),e.getHours(),e.getMinutes())})}))},disablePast:"ins"===r("mode"),errMsg:E.startTime?E.startTime:void 0})})})}),Object(T.jsx)(fe.a,{}),Object(T.jsxs)(C.a,{px:2,py:1,children:[Object(T.jsx)(Yt.a,{label:s("recurrence-dialog.header.pattern.type"),select:!0,value:N.pattern.type,onChange:function(e){var t=Object(ee.a)({},kn(r("startTime"),r("endTime")));t.pattern.type=e.target.value,M((function(e){return Object(ee.a)(Object(ee.a)({},e),{},{pattern:Object(ee.a)({},t.pattern)})}))},error:!!E.pattern.type,helperText:E.pattern.type,children:H.map((function(e,t){return Object(T.jsx)(De.a,{value:e.value,children:e.label},t)}))}),Object(T.jsxs)(zt.a,{container:!0,children:[Object(T.jsxs)(zt.a,{item:!0,xs:12,md:4,container:!0,spacing:1,alignItems:"center",children:[Object(T.jsx)(zt.a,{item:!0,children:Object(T.jsx)(Yt.a,{className:d.inputInterval,label:s("recurrence-dialog.header.pattern.interval"),type:"number",inputProps:{min:1,style:{textAlign:"right"}},value:N.pattern.interval,onChange:function(e){var t=Number(e.target.value)>0?Number(e.target.value):1;M((function(e){return Object(ee.a)(Object(ee.a)({},e),{},{pattern:Object(ee.a)(Object(ee.a)({},e.pattern),{},{interval:t})})}))},error:!!E.pattern.interval,helperText:E.pattern.interval})}),Object(T.jsx)(zt.a,{item:!0,children:Object(T.jsx)(k.a,{children:s("recurrence-dialog.label.pattern.interval.".concat(N.pattern.type))})})]}),Object(T.jsx)(zt.a,{item:!0,style:"weekly"===N.pattern.type?void 0:{display:"none"},children:Object(T.jsxs)(Ue.a,{error:!!E.pattern.daysOfWeek,children:[K,!!E.pattern.daysOfWeek&&Object(T.jsx)(on.a,{error:!0,children:E.pattern.daysOfWeek})]})}),Object(T.jsx)(zt.a,{item:!0,style:"absoluteMonthly"===N.pattern.type?void 0:{display:"none"},children:Object(T.jsxs)(zt.a,{item:!0,container:!0,spacing:1,alignItems:"center",children:[Object(T.jsx)(zt.a,{item:!0,children:G}),Object(T.jsx)(zt.a,{item:!0,children:Object(T.jsx)(k.a,{children:s("recurrence-dialog.label.pattern.day-of-month.absolute")})})]})}),Object(T.jsx)(zt.a,{item:!0,style:"relativeMonthly"===N.pattern.type?void 0:{display:"none"},children:Object(T.jsxs)(zt.a,{item:!0,container:!0,spacing:1,alignItems:"center",children:[Object(T.jsx)(zt.a,{item:!0,children:J}),Object(T.jsx)(zt.a,{item:!0,children:U}),Object(T.jsx)(zt.a,{item:!0,children:Object(T.jsx)(k.a,{children:s("recurrence-dialog.label.pattern.day-of-month.relative")})})]})}),Object(T.jsx)(zt.a,{item:!0,style:"absoluteYearly"===N.pattern.type?void 0:{display:"none"},children:Object(T.jsxs)(zt.a,{item:!0,container:!0,spacing:1,alignItems:"center",children:[Object(T.jsx)(zt.a,{item:!0,children:$}),Object(T.jsx)(zt.a,{item:!0,children:G}),Object(T.jsx)(zt.a,{item:!0,children:Object(T.jsx)(k.a,{children:s("recurrence-dialog.label.pattern.day-of-month.absolute")})})]})}),Object(T.jsx)(zt.a,{item:!0,style:"relativeYearly"===N.pattern.type?void 0:{display:"none"},children:Object(T.jsxs)(zt.a,{item:!0,container:!0,spacing:1,alignItems:"center",children:[Object(T.jsx)(zt.a,{item:!0,children:$}),Object(T.jsx)(zt.a,{item:!0,children:J}),Object(T.jsx)(zt.a,{item:!0,children:U}),Object(T.jsx)(zt.a,{item:!0,children:Object(T.jsx)(k.a,{children:s("recurrence-dialog.label.pattern.day-of-month.relative")})})]})})]})]}),Object(T.jsx)(fe.a,{}),Object(T.jsxs)(C.a,{px:2,py:1,children:[Object(T.jsx)(zt.a,{container:!0,spacing:2,children:Object(T.jsx)(zt.a,{item:!0,className:d.datePicker,children:Object(T.jsx)(On,{label:s("recurrence-dialog.header.range.end-date"),date:N.range.endDate,disablePast:"ins"===r("mode"),onChange:function(e){e&&M((function(t){return Object(ee.a)(Object(ee.a)({},t),{},{range:Object(ee.a)(Object(ee.a)({},t.range),{},{endDate:e})})}))},error:!!E.range.endDate})})}),!!E.range.endDate&&Object(T.jsx)(on.a,{error:!0,children:E.range.endDate})]}),Object(T.jsx)(C.a,{p:2,children:Object(T.jsxs)(zt.a,{container:!0,justifyContent:"space-between",spacing:2,children:[Object(T.jsx)(zt.a,{item:!0,xs:4,children:Object(T.jsx)(w.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:B,children:s("common.button.ok")})}),Object(T.jsx)(zt.a,{item:!0,xs:4,children:Object(T.jsx)(w.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:A,children:s("common.button.cancel")})}),Object(T.jsx)(zt.a,{item:!0,xs:4,children:Object(T.jsx)(w.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){c("recurrence"),i("recurrence",void 0,{shouldDirty:!0}),a(),m(!1)},disabled:void 0===r("recurrence"),children:s("recurrence-dialog.button.release-recurrence")})})]})})]})]}),Object(T.jsx)(La,{open:v,onClose:function(e){y(!1),e&&V()},message:Object(T.jsxs)(ae.a,{severity:"warning",variant:"outlined",children:[Object(T.jsx)(xn.a,{children:"Warning"}),s("recurrence-dialog.confirm-message-1"),Object(T.jsx)("br",{}),s("recurrence-dialog.confirm-message-2")]})})]})}function Dn(e){var t=e.control,a=e.index,n=e.remove,r=e.disabledVisitor,i=e.errors,c=Object(x.a)().t;return Object(T.jsxs)(zt.a,{container:!0,spacing:1,children:[Object(T.jsx)(zt.a,{item:!0,xs:6,children:Object(T.jsx)(qt.a,{name:"visitCompany.".concat(a,".name"),control:t,rules:{required:!r&&c("common.form.required")},render:function(e){var t,n,o,s,l,d,u,j=e.field;return Object(T.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({},j),{},{label:c("visittable.header.visit-company-name"),disabled:r,error:!!(null===i||void 0===i||null===(t=i.visitCompany)||void 0===t||null===(n=t[a])||void 0===n?void 0:n.name),helperText:(null===i||void 0===i||null===(o=i.visitCompany)||void 0===o||null===(s=o[a])||void 0===s?void 0:s.name)&&(null===i||void 0===i||null===(l=i.visitCompany)||void 0===l||null===(d=l[a])||void 0===d||null===(u=d.name)||void 0===u?void 0:u.message)}))}})}),Object(T.jsx)(zt.a,{item:!0,xs:5,children:Object(T.jsx)(qt.a,{name:"visitCompany.".concat(a,".rep"),control:t,render:function(e){var t,n,o,s,l,d,u,j=e.field;return Object(T.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({},j),{},{label:c("visittable.header.visit-company-rep"),disabled:r,error:!!(null===i||void 0===i||null===(t=i.visitCompany)||void 0===t||null===(n=t[a])||void 0===n?void 0:n.rep),helperText:(null===i||void 0===i||null===(o=i.visitCompany)||void 0===o||null===(s=o[a])||void 0===s?void 0:s.rep)&&(null===i||void 0===i||null===(l=i.visitCompany)||void 0===l||null===(d=l[a])||void 0===d||null===(u=d.rep)||void 0===u?void 0:u.message)}))}})}),Object(T.jsx)(zt.a,{item:!0,xs:1,style:{margin:"auto",marginLeft:"-7px"},children:Object(T.jsx)(ve.a,{onClick:function(){return n(a)},color:"primary","aria-label":c("common.button.delete"),component:"span",disabled:0===a,children:Object(T.jsx)(Ut.a,{})})})]})}var Sn=Wt(),Tn=Object(M.a)((function(e){return Object(be.a)({formAction:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},note:{color:"red",fontSize:"0.9em",marginTop:0},usageGuide:{marginTop:"5px"}})})),Nn=Object(s.b)({palette:{primary:{main:u.main},secondary:{main:Lt.a[300]}},props:{MuiTextField:{variant:"outlined",margin:"dense",fullWidth:!0,minRows:2}},overrides:{MuiOutlinedInput:{adornedEnd:{paddingRight:0}}}}),Mn="add-room-01",In=function(e,t,a,n){var r=t||new Date,i=a||"",c=n||"outside",o=e.contactAddr?e.contactAddr:"";return{mode:"ins",iCalUId:"",subject:"",visitorId:"",visitCompany:"outside"===c?[{name:"",rep:""}]:[],numberOfVisitor:0,numberOfEmployee:0,mailto:{authors:[],required:[],optional:[]},usageRange:c,resourcies:Object(Ht.a)({},Mn,{roomForEdit:i,teaSupply:!1,numberOfTeaSupply:0,teaDetails:""}),comment:"",contactAddr:o,startTime:Ra(r),endTime:Ea(r),seriesMasterId:void 0,recurrence:void 0}},Rn=function e(t){var a=_t.a.transform(t,(function(t,a,n){!1!==a&&(t[n]=_t.a.isObject(a)?e(a):a)}));return _t.a.transform(a,(function(t,a,n){!0!==a&&_t.a.isEmpty(a)||(t[n]=_t.a.isObject(a)?e(a):a)}))};function En(e){var t,a,r=e.open,i=e.onClose,c=e.data,s=e.reload,l=e.addDefault,d=Object(x.a)().t,u=Object(ee.a)(Object(ee.a)({},Sn()),Tn()),j=Object(n.useContext)(ce),b=Object(n.useContext)(Xe),m=Object(p.h)(),O=Object(n.useState)(!1),v=Object(g.a)(O,2),y=v[0],D=v[1],S=Object(n.useMemo)((function(){return In(b.userStorage)}),[b.userStorage]),N=Object(qt.d)({defaultValues:S,reValidateMode:"onSubmit"}),M=N.control,I=N.getValues,R=N.handleSubmit,E=N.reset,P=N.setValue,B=N.trigger,V=N.setError,L=N.clearErrors,A=N.formState,W=A.errors,H=A.isDirty,q=A.isSubmitting,z=A.dirtyFields;Object(n.useEffect)((function(){E(r&&c?{mode:"upd",iCalUId:c.iCalUId,subject:c.subject,visitorId:c.visitorId,visitCompany:c.visitCompany,numberOfVisitor:c.numberOfVisitor,numberOfEmployee:c.numberOfEmployee,mailto:c.mailto,usageRange:c.usageRange,resourcies:Object.keys(c.resourcies).reduce((function(e,t){return e[t]={roomForEdit:t,teaSupply:c.resourcies[t].teaSupply,numberOfTeaSupply:c.resourcies[t].numberOfTeaSupply,teaDetails:c.resourcies[t].teaDetails},e}),{}),comment:c.comment,contactAddr:c.contactAddr,startTime:new Date(c.startDateTime),endTime:new Date(c.endDateTime),seriesMasterId:c.seriesMasterId,recurrence:c.recurrence?{pattern:{type:c.recurrence.pattern.type,interval:c.recurrence.pattern.interval,daysOfWeek:c.recurrence.pattern.daysOfWeek,dayOfMonth:c.recurrence.pattern.dayOfMonth,index:c.recurrence.pattern.index,month:c.recurrence.pattern.month},range:{type:c.recurrence.range.type,startDate:c.recurrence.range.startDate,endDate:c.recurrence.range.endDate}}:void 0}:_t.a.cloneDeep(In(b.userStorage,null===l||void 0===l?void 0:l.start,null===l||void 0===l?void 0:l.roomId,null===l||void 0===l?void 0:l.usageRange)))}),[c,r,E,l,b.userStorage]);var Y=Object(n.useState)(!1),K=Object(g.a)(Y,2),U=K[0],J=K[1],G=Object(qt.f)({control:M,name:"usageRange"}),$="/room/choices?location=".concat(m.params.location),Z=Ge($,[]),X=Object(g.a)(Z,3),_=X[0].data,Q=X[2],te=Object(n.useCallback)((function(){"upd"===I("mode")?Q($):I("recurrence")?Q($+"&usagerange=".concat(I("usageRange"))):Q($+"&start=".concat(I("startTime").getTime(),"&end=").concat(I("endTime").getTime())+"&usagerange=".concat(I("usageRange")))}),[$,I,Q]);Object(n.useEffect)((function(){r&&te()}),[te,r,G]),Object(n.useEffect)((function(){r||J(!1)}),[r]);var ae=Object(n.useState)(!1),ne=Object(g.a)(ae,2),re=ne[0],ie=ne[1];Object(n.useEffect)((function(){"inside"===G?(L(["visitCompany","numberOfVisitor"]),P("visitCompany",[],{shouldDirty:!0}),P("numberOfVisitor",0,{shouldDirty:!0}),ie(!0)):(L("visitCompany"),P("visitCompany",[{name:"",rep:""}],{shouldDirty:!0}),ie(!1))}),[L,P,G]);var oe=Object(qt.f)({control:M,name:"startTime"}),se=Object(qt.f)({control:M,name:"endTime"}),le=Object(qt.c)({control:M,name:"visitCompany"}),de=le.fields,ue=le.append,je=le.remove,be=Object(qt.f)({control:M,name:"visitCompany"}),me=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a="",e.t0=t.mode,e.next="ins"===e.t0?5:"upd"===e.t0?7:"del"===e.t0?9:11;break;case 5:return a="/event/create",e.abrupt("break",11);case 7:return a="/event/update",e.abrupt("break",11);case 9:return a="/event/delete",e.abrupt("break",11);case 11:return e.next=13,aa(a,{inputs:t,dirtyFields:Rn(z)});case 13:if(!(n=e.sent).success){e.next=24;break}if("del"!==t.mode){e.next=18;break}return e.next=18,new Promise((function(e){return setTimeout(e,1e3)}));case 18:return e.next=20,s();case 20:i(),j.dispatch({type:"success",message:d("common.msg.update-success")}),e.next=25;break;case 24:if(n.errors)for(c in r=n.errors)V(o=c,{message:d(r[o][0])});case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(0),j.dispatch({type:"error",message:e.t1.message});case 30:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(["startTime","endTime"]);case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:te(),J(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){"upd"!==I("mode")&&(U||J(!0))},fe=function(){var e=Ea(I("startTime"));P("endTime",e,{shouldDirty:!0}),Oe()},ge=function(){Oe()},xe=function(e){je(e)};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(F,{open:q}),Object(T.jsx)(Ca,{open:r,onClose:i,title:d("visitdialog.title"),children:Object(T.jsxs)(o.a,{theme:Nn,children:[!!c&&Object(T.jsx)(C.a,{px:2,children:Object(T.jsxs)(he.a,{disablePadding:!0,children:[c.isMSMultipleLocations?Object(T.jsx)("li",{className:u.bottomLine,children:Object(T.jsx)("p",{className:u.note,children:d("visitdialog.notes.multiple-locations")})}):Object(T.jsxs)("li",{className:u.list,children:[Object(T.jsx)("div",{className:u.title,children:d("visittable.header.resource-status")}),Object(T.jsx)("div",{className:u.field,children:d(Ya(c.roomStatus))})]},"resource-status"),Object(T.jsxs)("li",{className:u.list,children:[Object(T.jsx)("div",{className:u.title,children:d("visittable.header.reservation-name")}),Object(T.jsx)("div",{className:u.field,children:Object(T.jsx)(Za,{name:c.reservationName,status:c.reservationStatus})})]},"reservation-name")]})}),Object(T.jsxs)("form",{children:[Object(T.jsxs)(C.a,{p:2,pb:0,children:[Object(T.jsx)(ra,{name:"subject",control:M,label:d("visittable.header.event-subject"),required:!0,errors:W}),!!c&&Object(T.jsxs)(k.a,{variant:"caption",display:"block",className:u.usageGuide,children:[d("visitdialog.notes.reply-status"),Object(T.jsx)(Sa,{})]}),Object(T.jsx)(ga,{name:"mailto.authors",control:M,label:d("visittable.header.event-mailto-authors"),errors:W,disabled:!0,style:{display:"none"}}),Object(T.jsx)(ga,{name:"mailto.required",control:M,label:d("visittable.header.event-mailto-required"),errors:W,disabled:null===c||void 0===c?void 0:c.isMSMultipleLocations}),Object(T.jsx)(ga,{name:"mailto.optional",control:M,label:d("visittable.header.event-mailto-optional"),errors:W,disabled:null===c||void 0===c?void 0:c.isMSMultipleLocations}),Object(T.jsx)(C.a,{py:1,style:c?{display:"none"}:void 0,children:Object(T.jsx)(ra,{name:"usageRange",control:M,label:d("visittable.header.usage-range"),required:!0,selectList:ea.map((function(e){return{label:d("visitdialog.view.usage-range.".concat(e)),value:e}})),disabled:!!c,errors:W})}),Object(T.jsxs)(zt.a,{container:!0,spacing:1,style:I("recurrence")?{display:"none"}:void 0,children:[Object(T.jsx)(zt.a,{item:!0,xs:5,style:{display:"none"},children:Object(T.jsx)(Ja,{name:"startTime",control:M,getValues:I,label:d("visittable.header.event-start-time"),handleDateTimeChange:fe,errors:W})}),Object(T.jsx)(zt.a,{item:!0,xs:5,style:{display:"none"},children:Object(T.jsx)(Ja,{name:"endTime",control:M,getValues:I,label:d("visittable.header.event-end-time"),handleDateTimeChange:ge,errors:W})}),Object(T.jsx)(zt.a,{item:!0,xs:12,sm:10,children:Object(T.jsx)(fn,{label:d("visittable.header.appt-date-time"),start:oe,end:se,onDateChange:function(e){P("startTime",new Date(e.getFullYear(),e.getMonth(),e.getDate(),I("startTime").getHours(),I("startTime").getMinutes()),{shouldDirty:!0}),fe()},onStartChange:function(e){P("startTime",e,{shouldDirty:!0}),fe()},onEndChange:function(e){P("endTime",e,{shouldDirty:!0}),ge()},disablePast:!c,errMsg:(null===(t=W.startTime)||void 0===t?void 0:t.message)?[null===(a=W.startTime)||void 0===a?void 0:a.message]:void 0})}),Object(T.jsx)(zt.a,{item:!0,xs:12,sm:2,style:{margin:"auto"},children:Object(T.jsx)(w.a,{onClick:pe,variant:"contained",color:"primary",fullWidth:!0,disabled:(null===c||void 0===c?void 0:c.isMSMultipleLocations)||!U,style:"upd"===I("mode")?{display:"none"}:void 0,children:d("common.button.search")})})]}),!(null===c||void 0===c?void 0:c.seriesMasterId)&&b.userStorage.isFront&&Object(T.jsx)(zt.a,{children:Object(T.jsx)(Cn,{activeRoomSelect:function(){"upd"!==I("mode")&&(J(!1),te())},activeSearchButton:Oe,getValues:I,setValue:P,clearErrors:L,errors:W})})]}),c?Object(T.jsx)(T.Fragment,{children:c.isMSMultipleLocations?Object(T.jsx)(o.a,{theme:At,children:Object.keys(c.resourcies).map((function(e){return Object(T.jsx)(Ka,{data:c.resourcies[e]},e)}))}):!U&&Object(T.jsx)(qa,{control:M,setValue:P,getValues:I,clearErrors:L,rooms:_,roomId:Object.keys(c.resourcies)[0],disabledRoom:!0,disabledVisitor:"inside"===c.usageRange,errors:W})}):!U&&Object(T.jsx)(qa,{control:M,setValue:P,getValues:I,clearErrors:L,rooms:_,roomId:Mn,disabledVisitor:re,errors:W}),Object(T.jsx)(C.a,{px:2,pt:1,style:re?{display:"none"}:void 0,children:de.map((function(e,t){return Object(T.jsx)(Dn,{control:M,index:t,remove:xe,disabledVisitor:re,errors:W},e.id)}))}),Object(T.jsx)(C.a,{px:2,children:Object(T.jsxs)(zt.a,{container:!0,spacing:1,children:[Object(T.jsx)(zt.a,{item:!0,xs:12,sm:4,style:re?{opacity:0}:{margin:"auto"},children:Object(T.jsx)(w.a,{onClick:function(){ue({name:"",rep:""})},startIcon:Object(T.jsx)(Zt.a,{}),variant:"contained",color:"primary",fullWidth:!0,disabled:be.length>2,children:d("visitdialog.button.add-visitor")})}),Object(T.jsx)(zt.a,{item:!0,xs:6,sm:4,style:re?{opacity:0}:void 0,children:Object(T.jsx)(qt.a,{name:"numberOfVisitor",control:M,rules:{required:d("common.form.required")},render:function(e){var t=e.field;return Object(T.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({type:"number",inputProps:{min:0,style:{textAlign:"right"}}},t),{},{disabled:re,label:d("visittable.header.number-of-visitor"),error:!!W.numberOfVisitor,helperText:!!W.numberOfVisitor&&W.numberOfVisitor.message}))}})}),Object(T.jsx)(zt.a,{item:!0,xs:6,sm:4,children:Object(T.jsx)(qt.a,{name:"numberOfEmployee",control:M,rules:{required:d("common.form.required")},render:function(e){var t=e.field;return Object(T.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({type:"number",inputProps:{min:0,style:{textAlign:"right"}}},t),{},{label:d("visittable.header.number-of-employee"),error:!!W.numberOfEmployee,helperText:!!W.numberOfEmployee&&W.numberOfEmployee.message}))}})})]})}),Object(T.jsxs)(C.a,{p:2,children:[Object(T.jsx)(ra,{name:"comment",control:M,label:d("visittable.header.comment"),multiline:!0,errors:W}),Object(T.jsx)(ra,{name:"contactAddr",control:M,label:d("visittable.header.contact-addr"),required:!0,errors:W})]}),!!c&&Object(T.jsx)(C.a,{px:2,children:Object(T.jsx)(he.a,{disablePadding:!0,children:Object(T.jsxs)("li",{className:u.list,children:[Object(T.jsx)("div",{className:u.title,children:d("visitdialog.header.last-updated")}),Object(T.jsx)("div",{className:u.field,children:Object(T.jsx)(Qa,{datetime:c.lastUpdated})})]},"datetime")})}),Object(T.jsx)(C.a,{px:2,children:Object(T.jsxs)(zt.a,{container:!0,justifyContent:"space-between",spacing:2,className:u.formAction,children:[Object(T.jsx)(zt.a,{item:!0,xs:c?6:12,children:Object(T.jsx)(w.a,{onClick:function(){R(me)()},variant:"contained",color:"primary",disabled:!H||U,startIcon:Object(T.jsx)(Gt.a,{}),fullWidth:!0,children:d("visitdialog.button.save")})}),Object(T.jsx)(zt.a,{item:!0,xs:6,style:c?void 0:{display:"none"},children:Object(T.jsx)(w.a,{onClick:function(){D(!0)},variant:"contained",color:"primary",startIcon:Object(T.jsx)(Ut.a,{}),fullWidth:!0,children:d("visitdialog.button.delete")})})]})})]})]})}),Object(T.jsx)(La,{open:y,onClose:function(e){D(!1),e&&(P("mode","del"),R(me)())},message:"seriesMaster"===(null===c||void 0===c?void 0:c.eventType)?d("visitorinfoform.delete-confirm-message.series-master"):d("visitorinfoform.delete-confirm-message"),color:"secondary"})]})}var Fn=Object(M.a)((function(e){return Object(be.a)({root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}}})}));function Pn(e){var t=e.propsKey,a=e.data,n=Fn();return Object(T.jsx)("div",{className:n.root,children:a.map((function(e,a){return Object(T.jsx)(fa,{option:e},"".concat(t,"-").concat(a))}))})}var Bn=Wt();function Vn(e){var t=e.open,a=e.onClose,n=e.data,r=Object(x.a)().t,i=Bn();return n.isAttendees?Object(T.jsxs)(Ca,{open:t,onClose:a,title:r("visitdialog.title"),children:[Object(T.jsx)(C.a,{px:2,pt:2,children:Object(T.jsxs)(he.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.event-subject")}),Object(T.jsx)("div",{className:i.field,children:n.subject})]},"event-subject"),!(null===n||void 0===n?void 0:n.recurrence)&&Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.appt-time")}),Object(T.jsx)("div",{className:i.field,children:n.apptTime})]},"app-time"),!!(null===n||void 0===n?void 0:n.recurrence)&&Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visitdialog.notes.recurrence-info")}),Object(T.jsx)("div",{className:i.field,children:Object(T.jsx)(gn,{recurrence:null===n||void 0===n?void 0:n.recurrence,start:new Date(null===n||void 0===n?void 0:n.startDateTime),end:new Date(null===n||void 0===n?void 0:n.endDateTime)})})]},"app-time"),Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.reservation-name")}),Object(T.jsx)("div",{className:i.field,children:Object(T.jsx)(Za,{name:n.reservationName,status:n.reservationStatus})})]},"reservation-name")]})}),Object(T.jsxs)(C.a,{px:2,pt:2,children:[Object(T.jsxs)(k.a,{variant:"caption",display:"block",gutterBottom:!0,children:[r("visitdialog.notes.reply-status"),Object(T.jsx)(Sa,{})]}),Object(T.jsxs)(he.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.event-mailto-required")}),Object(T.jsx)("div",{className:i.fieldSlim,children:Object(T.jsx)(Pn,{propsKey:"mailto-required",data:n.mailto.required})})]},"mailto-required"),Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.event-mailto-optional")}),Object(T.jsx)("div",{className:i.fieldSlim,children:Object(T.jsx)(Pn,{propsKey:"mailto-optional",data:n.mailto.optional})})]},"mailto-optional")]})]}),Object.keys(n.resourcies).map((function(e){return Object(T.jsx)(Ka,{data:n.resourcies[e]},e)})),Object(T.jsx)(C.a,{px:2,pt:2,style:"inside"===n.usageRange?{display:"none"}:void 0,children:Object(T.jsxs)(he.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsxs)("div",{className:i.title,children:[r("visittable.header.visit-company-name")," /",Object(T.jsx)("br",{}),r("visittable.header.visit-company-rep")]}),Object(T.jsx)("div",{className:i.field,children:n.visitCompany.map((function(e,t){return Object(T.jsxs)(T.Fragment,{children:[!!t&&Object(T.jsx)("br",{}),Object(T.jsx)("span",{children:"".concat(e.name," / ").concat(e.rep)})]})}))})]},"visit-company"),Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.number-of-visitor")}),Object(T.jsx)("div",{className:i.field,style:{flexBasis:"25%",borderRight:"none"},children:n.numberOfVisitor}),Object(T.jsx)("div",{className:i.title,style:{flexBasis:"25%",borderLeft:"none"},children:r("visittable.header.number-of-employee")}),Object(T.jsx)("div",{className:i.field,style:{flexBasis:"25%"},children:n.numberOfEmployee})]},"number-of-visitor")]})}),Object(T.jsx)(C.a,{p:2,pt:2,children:Object(T.jsxs)(he.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.comment")}),Object(T.jsx)("div",{className:i.field,children:n.comment})]},"comment"),Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visittable.header.contact-addr")}),Object(T.jsx)("div",{className:i.field,children:n.contactAddr})]},"contact-addr")]})}),Object(T.jsx)(C.a,{px:2,pb:2,children:Object(T.jsx)(he.a,{disablePadding:!0,children:Object(T.jsxs)("li",{className:i.list,children:[Object(T.jsx)("div",{className:i.title,children:r("visitdialog.header.last-updated")}),Object(T.jsx)("div",{className:i.field,children:Object(T.jsx)(Qa,{datetime:n.lastUpdated})})]},"datetime")})})]}):Object(T.jsx)(Ca,{open:t,onClose:a,title:r("visitdialog.title"),children:r("common.msg.authority-error")})}var Ln=a(370),An=a(654);function Wn(e){var t=e.open,a=e.seriesMasterId,r=e.onClose,i=Object(x.a)().t,c=Object(n.useState)("instances"),o=Object(g.a)(c,2),s=o[0],l=o[1],d=function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("master"!==s){e.next=7;break}return e.next=3,L("/event/visitInfo/".concat(a));case 3:t=e.sent,r(!1,t.parsedBody),e.next=8;break;case 7:r(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){r(!0)};return Object(T.jsx)("div",{children:Object(T.jsxs)(xa.a,{open:t,onClose:u,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(T.jsxs)(ya.a,{children:[Object(T.jsx)(Va.a,{id:"alert-dialog-description",children:i("visitorinfoform.recurrence-confirm-message")}),Object(T.jsx)(C.a,{children:Object(T.jsxs)(Ln.a,{"aria-label":"gender",name:"gender1",value:s,onChange:function(e){l(e.target.value)},children:[Object(T.jsx)(Aa.a,{value:"instances",control:Object(T.jsx)(An.a,{}),label:i("visitorinfoform.recurrence-radio-instances")}),Object(T.jsx)(Aa.a,{value:"master",control:Object(T.jsx)(An.a,{}),label:i("visitorinfoform.recurrence-radio-master")})]})})]}),Object(T.jsxs)(va.a,{children:[Object(T.jsx)(w.a,{onClick:d,color:"secondary",children:"OK"}),Object(T.jsx)(w.a,{onClick:u,color:"secondary",autoFocus:!0,children:"CANCEL"})]})]})})}var Hn=function(e,t){switch(t.type){case"inputOpen":return{mode:"rowData",inputOpen:!0,readOpen:!1};case"addDataOpen":return{mode:"addData",inputOpen:!0,readOpen:!1,addDefault:t.addDefault};case"inputClose":return Object(ee.a)(Object(ee.a)({},e),{},{inputOpen:!1});case"readOpen":return{mode:"rowData",inputOpen:!1,readOpen:!0};case"readClose":return Object(ee.a)(Object(ee.a)({},e),{},{readOpen:!1});case"recConfOpen":return Object(ee.a)(Object(ee.a)({},e),{},{recConfOpen:!0});case"recConfClose":return Object(ee.a)(Object(ee.a)({},e),{},{recConfOpen:!1});case"recConfCancel":return Object(ee.a)(Object(ee.a)({},e),{},{recConfOpen:!1,inputOpen:!1,readOpen:!1});default:return e}};function qn(e){var t=e.dataDialogHook,a=e.isLoading,n=e.reload,r=e.currentRow,i=e.children,c=e.onRecConfClose,s=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch({type:"inputClose"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch({type:"readClose"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(o.a,{theme:At,children:[Object(T.jsx)(F,{open:a}),i,Object(T.jsx)(En,{open:t.state.inputOpen&&!t.state.recConfOpen,onClose:s,data:"addData"===t.state.mode?null:r,reload:n,addDefault:t.state.addDefault}),!!r&&Object(T.jsx)(Vn,{open:t.state.readOpen&&!t.state.recConfOpen,onClose:l,data:r}),!!r&&!!r.seriesMasterId&&!!c&&Object(T.jsx)(Wn,{open:!!t.state.recConfOpen,seriesMasterId:r.seriesMasterId,onClose:c})]})}var zn=a(430),Yn=a.n(zn),Kn=a(431),Un=a.n(Kn),Jn={fontSize:"1.2em",marginLeft:"3px",marginRight:"3px",verticalAlign:"text-bottom",color:"gray"},Gn=function(e){switch(e.type){case"occurrence":return Object(T.jsx)(Yn.a,{style:Jn});case"exception":return Object(T.jsx)(Un.a,{style:Jn});default:return Object(T.jsx)(T.Fragment,{})}},$n=Bt(!1),Zn=function(e){return e.visitCompany.map((function(e){return"".concat(e.name)})).join(", ")};function Xn(e){var t=e.currentDate,a=e.dataDialogHook,r=Object(x.a)().t,i=$n(),c=Object(p.h)(),o=Ge("",[]),s=Object(g.a)(o,3),l=s[0],d=l.data,u=l.isLoading,j=l.isError,b=s[1],m=s[2];Object(n.useEffect)((function(){m("/event/visitlist?timestamp=".concat(t.getTime(),"&location=").concat(c.params.location))}),[t,c.params.location,m]);var O=Et({dataDialogHook:a}),h=Object(g.a)(O,4),f=h[0].currentRow,v=h[2],y=h[3],k=[{title:r("visittable.header.appt-time"),field:"apptTime",render:function(e){return Object(T.jsxs)(T.Fragment,{children:[e.apptTime,Object(T.jsx)(Gn,{type:e.eventType})]})}},{title:r("visittable.header.room-name"),field:"roomName"},{title:r("visittable.header.event-subject"),field:"subject"},{title:r("visittable.header.visit-company-name"),field:"visitCompany",render:function(e){return Zn(e)},customSort:function(e,t){return Zn(e)<Zn(t)?-1:1}},{title:r("visittable.header.reservation-name"),field:"reservationName"}];return j?Object(T.jsx)("div",{children:r("common.msg.fetch-failed")}):Object(T.jsx)(qn,{currentRow:f,dataDialogHook:a,isLoading:u,reload:b,onRecConfClose:y,children:Object(T.jsx)(at.a,{columns:k,components:{Cell:function(e){return Object(T.jsx)(tt.MTableCell,Object(ee.a)(Object(ee.a)({},e),{},{className:Vt(e.columnDef.field,e.rowData,i)}))}},data:d,onRowClick:function(e,t){return!!t&&v(t)},options:Object(ee.a)({showTitle:!1,toolbar:!1,search:!1,headerStyle:{backgroundColor:At.palette.primary.light},tableLayout:"fixed"},Rt),icons:It})})}var _n=a(246),Qn=a.n(_n),er=a(432),tr=a.n(er),ar=a(433),nr=a.n(ar),rr=Object(M.a)((function(){return{arrowLeft:{paddingTop:7,marginRight:-5},arrowRight:{paddingTop:7,marginLeft:-5},arrowIcon:{margin:0,padding:0},datePicker:{margin:"auto 0"},title:{margin:"auto 0.25em"}}}));function ir(e){var t=e.subtitle,a=e.date,n=e.onDateChange,r=e.onDatePrev,i=e.onDateNext,c=e.dispatch,o=e.actionButtons,s=Object(x.a)().t,l=rr();return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(zt.a,{container:!0,alignItems:"stretch",justifyContent:"space-between",children:[Object(T.jsxs)(zt.a,{container:!0,alignItems:"center",item:!0,xs:12,sm:o?6:9,children:[Object(T.jsx)(zt.a,{item:!0,className:l.arrowLeft,children:Object(T.jsx)(ve.a,{className:l.arrowIcon,onClick:r,children:Object(T.jsx)(tr.a,{fontSize:"large"})})}),Object(T.jsx)(zt.a,{item:!0,className:l.datePicker,children:Object(T.jsx)(On,{label:s("main.header.picker-label"),date:a,onChange:n})}),Object(T.jsx)(zt.a,{item:!0,className:l.arrowRight,onClick:i,children:Object(T.jsx)(ve.a,{className:l.arrowIcon,children:Object(T.jsx)(nr.a,{fontSize:"large"})})})]}),Object(T.jsxs)(zt.a,{container:!0,item:!0,justifyContent:"flex-end",alignItems:"center",spacing:2,xs:12,sm:o?6:3,children:[!!o&&o.map((function(e,t){return Object(T.jsx)(zt.a,{item:!0,children:e},"actionButtons-".concat(t))})),Object(T.jsx)(zt.a,{item:!0,children:Object(T.jsx)(w.a,{variant:"contained",color:"secondary",startIcon:Object(T.jsx)(Qn.a,{}),onClick:function(e){c({type:"addDataOpen"})},children:s("main.header.add-event")})})]}),Object(T.jsx)(C.a,{pt:1,children:t})]})})}function cr(){var e=Object(x.a)().t,t=Object(n.useState)(!1),a=Object(g.a)(t,2),r=a[0],i=a[1];Object(n.useEffect)((function(){i(!1)}),[]);var c=et(),o=Object(g.a)(c,5),s=o[0],l=o[1],d=o[2],u=o[3],j=o[4],b=Object(n.useReducer)(Hn,{mode:"addData",inputOpen:!1,readOpen:!1}),m=Object(g.a)(b,2),p=m[0],O=m[1];return Object(n.useEffect)((function(){$()&&(l(new Date(Number(J("selectedDate")))),Z())}),[]),Object(T.jsx)(_e,{children:Object(T.jsxs)(ue.a,{square:!0,children:[Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(ir,{title:e("main.visitlist.title"),subtitle:e("main.visitlist.subtitle".concat(r?".created-only":"")),date:s,onDateChange:d,onDatePrev:u,onDateNext:j,dispatch:O})}),Object(T.jsx)(C.a,{px:2,pb:2,children:Object(T.jsx)(Xn,{currentDate:s,dataDialogHook:{state:p,dispatch:O}})})]})})}var or=a(5),sr=a(655),lr=a(412),dr=a(304),ur=a(154),jr=a(251),br={width:120,halfWidth:60,scale:2,transform:{x:-960,y:0}},mr={width:60,halfWidth:30,scale:1,transform:{x:0,y:0}},pr=30,Or=function(e,t){var a=Object(tn.a)(e);return Object(sr.a)(e,a)*t.scale},hr=function(e,t,a){var n=new Date(e.start),r=new Date(e.end),i=Or(n,t),c=Or(r,t);if(!Object(lr.a)(n,r)){var o=Object(tn.a)(a),s=Object(dr.a)(a);Object(ur.a)(s,r)&&(c=Or(s,t)),Object(jr.a)(o,n)&&(i=Or(o,t))}return{x:i,width:c-i,className:e.status}},fr=function(e,t){return(e+1)*t+1},gr=function(e){return"translate(".concat(e.transform.x,",").concat(e.transform.y,")")},xr=Object(or.a)((function(e){return{tooltip:{backgroundColor:e.palette.grey[100],color:e.palette.text.primary,maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid ".concat(e.palette.grey[300])}}}))(Se.a),vr=Object(M.a)((function(e){return Object(be.a)({container:{display:"flex",flexDirection:"column",marginBottom:"0.5rem","& svg":{fontSize:"1.5rem","& line":{strokeWidth:2},"& line.hour-line":{stroke:e.palette.grey[400]},"& line.hour-half-line":{stroke:e.palette.grey[300]},"& text":{fill:e.palette.grey[400]},"& text.subject":{fill:"#fff",fontSize:"1.2rem",dominantBaseline:"central",cursor:"pointer"},"& rect":{strokeWidth:1,fillOpacity:.5},"& rect.new-event-bar":{fillOpacity:0},"& rect.event":{stroke:e.palette.success.main,fill:e.palette.success.light,fillOpacity:.9,cursor:"pointer"},"& rect.myOwn":{stroke:e.palette.info.main,fill:e.palette.info.light},"& rect.wait":{stroke:e.palette.warning.light,fill:e.palette.warning.main},"& rect.busy":{stroke:e.palette.error.light,fill:e.palette.error.main}}},title:{fontSize:"1rem",paddingBottom:0}})}));function yr(e){var t=e.rangeToggle,a=e.dataDialogHook,r=e.schedule,i=e.events,c=e.onClickCallback,o=e.keyLabel,s=e.keyValue,l=e.onTitleClick,d=vr(),u=Object(n.useState)(br),j=Object(g.a)(u,2),b=j[0],m=j[1],p=Object(n.useState)(gr(b)),O=Object(g.a)(p,2),h=O[0],f=O[1];Object(n.useEffect)((function(){m("short"===t?br:mr)}),[t]),Object(n.useEffect)((function(){f(gr(b))}),[b,i]);var x=31,v=39,y="free"===r.type?70+v*(r.scheduleItems.length-1)+v:70,C=Object(n.useCallback)((function(e,t,a,n){var r=hr(e,b,new Date(a));return Object(T.jsx)("rect",{className:r.className,x:r.x,y:x+v*n,width:r.width,height:v,rx:3,ry:5},"".concat(s,"-sc-").concat(t))}),[b,s,x,v]),D=Object(n.useCallback)((function(e,t,a,n){var r={status:"event",start:e.startDateTime,end:e.endDateTime+e.cleaningTime},i=hr(r,b,new Date(a)),o=i.x,l=x+v*n,d=i.width,u=e.isAttendees?"myOwn":"";return Object(T.jsx)(xr,{title:Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(k.a,{variant:"body2",children:e.subject}),Object(T.jsx)("em",{children:e.apptTime})," ",Object(T.jsx)("b",{children:e.reservationName})]}),onClick:function(){c(e)},children:Object(T.jsx)("svg",{x:o,y:l,width:d,height:39,viewBox:"0 0 ".concat(d," ").concat(39),children:Object(T.jsxs)("g",{children:[Object(T.jsx)("rect",{className:Object(je.a)(i.className,u),x:0,y:0,width:d,height:39,rx:3,ry:5}),Object(T.jsx)("text",{className:"subject",x:3,y:"50%",children:e.subject})]})})},"".concat(s,"-ev-").concat(t))}),[b,x,v,s,c]),S=Object(n.useMemo)((function(){return Object(T.jsx)(T.Fragment,{children:r.scheduleItems.map((function(e,t){return e.map((function(e,a){return C(e,a,r.date,t)}))}))})}),[C,r]),N=Object(n.useMemo)((function(){return Object(T.jsx)(T.Fragment,{children:i.map((function(e,t){return e.map((function(e,a){return D(e,a,r.date,t)}))}))})}),[D,i,r]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(w.a,{color:"secondary",className:d.title,size:"small",onClick:function(){return l(r.date,r.categoryId,r.roomId)},children:o}),Object(T.jsx)("div",{className:d.container,children:Object(T.jsx)("svg",{viewBox:"0 0 ".concat(1442," ").concat(y),preserveAspectRatio:"none",children:Object(T.jsxs)("g",{transform:h,children:[Object(T.jsx)("line",{className:"hour-line",x1:0,y1:0,x2:0,y2:y}),Object(T.jsx)("line",{className:"hour-half-line",x1:b.halfWidth,y1:pr,x2:b.halfWidth,y2:y}),_t.a.range(0,24).map((function(e){var t=fr(e,b.width),a=t+b.halfWidth,r=e*b.width+5;return Object(T.jsxs)(n.Fragment,{children:[Object(T.jsx)("line",{className:"hour-line",x1:t,y1:0,x2:t,y2:y},"hour-line-".concat(e)),Object(T.jsx)("line",{className:"hour-half-line",x1:a,y1:pr,x2:a,y2:y},"hour-half-line-".concat(e)),Object(T.jsx)("text",{x:r,y:25,children:e},"hour-text-".concat(e))]},"fragment-".concat(e))})),Object(T.jsx)("rect",{className:"new-event-bar",x:0,y:x,width:fr(24,b.width),height:y-x,onClick:function(e){return function(e,t,n,r){var i=e.currentTarget.closest("svg");if(i){var c=i.createSVGPoint();c.x=e.clientX,c.y=e.clientY;var o=i.getScreenCTM();if(o){var s=function(e,t){return(e+0)/t.scale*60*1e3}(c.matrixTransform(o.inverse()).x-b.transform.x+1,b),l=1e3*Math.floor(s/1e3/60/30)*60*30,d=new Date(Object(tn.a)(t).getTime()+l);a.dispatch({type:"addDataOpen",addDefault:{start:d,roomId:n,usageRange:r}})}}}(e,r.date,r.roomId,r.usageRange)}}),S,N]})})})]})}var kr=a(252),wr=a.n(kr),Cr=a(661),Dr=a(649),Sr=Object(or.a)((function(){return{root:{}}}))(Cr.a),Tr=Object(or.a)((function(){return{root:{fontSize:"1.1em",padding:"2px 10px","&$selected":{backgroundColor:wr.a[300],color:wr.a[600],"&:hover":{backgroundColor:wr.a[100]}}},selected:{}}}))(Dr.a);function Nr(e){var t=e.rangeToggle,a=e.onChangeRangeToggle;return Object(T.jsx)(zt.a,{container:!0,justify:"flex-end",children:Object(T.jsx)(zt.a,{item:!0,xs:12,style:{textAlign:"right"},children:Object(T.jsxs)(Sr,{size:"small",value:t,exclusive:!0,onChange:function(e,t){t&&a(t)},children:[Object(T.jsx)(Tr,{value:"short",children:Object(T.jsx)(T.Fragment,{children:"8-20"})}),Object(T.jsx)(Tr,{value:"long",children:Object(T.jsx)(T.Fragment,{children:"1Day"})})]})})})}function Mr(e){var t=e.currentDate,a=e.dataDialogHook,r=e.tabKey,i=e.rangeToggle,c=e.onChangeRangeToggle,o=e.onTitleClick,s=Object(x.a)().t,l=Object(p.h)(),d=Ge("",void 0),u=Object(g.a)(d,3),j=u[0],b=j.data,m=j.isLoading,O=j.isError,h=u[1],f=u[2];Object(n.useEffect)((function(){f("/event/byroom?timestamp=".concat(t.getTime(),"&location=").concat(l.params.location,"&category=").concat(r))}),[t,l.params.location,f,r]);var v=Et({dataDialogHook:a}),y=Object(g.a)(v,4),k=y[0].currentRow,w=y[2],C=y[3],D=Object(n.useMemo)((function(){return b?Object(T.jsx)(T.Fragment,{children:b.schedules.map((function(e,t){return Object(T.jsx)(yr,{rangeToggle:i,dataDialogHook:a,schedule:e,events:e.eventsIndex.map((function(e){return e.map((function(e){return b.events[e]}))})),onClickCallback:w,keyLabel:e.roomName,keyValue:e.roomEmail,onTitleClick:o},t)}))}):Object(T.jsx)(T.Fragment,{})}),[b,a,w,o,i]);return O?Object(T.jsx)("div",{children:s("common.msg.fetch-failed")}):Object(T.jsxs)(qn,{currentRow:k,dataDialogHook:a,isLoading:m,reload:h,onRecConfClose:C,children:[Object(T.jsx)(Nr,{rangeToggle:i,onChangeRangeToggle:c}),D]})}function Ir(e){var t=e.currentDate,a=e.dataDialogHook,r=e.tabKey,i=e.rangeToggle,c=e.onChangeRangeToggle,o=e.onTitleClick,s=Object(x.a)().t,l=Object(p.h)(),d=Object(n.useContext)(Xa.b),u=Ge("",void 0),j=Object(g.a)(u,3),b=j[0],m=b.data,O=b.isLoading,h=b.isError,f=j[1],v=j[2];Object(n.useEffect)((function(){v("/event/byroom/weekly?timestamp=".concat(t.getTime(),"&location=").concat(l.params.location,"&room=").concat(r))}),[t,l.params.location,v,r]);var y=Et({dataDialogHook:a}),k=Object(g.a)(y,4),w=k[0].currentRow,C=k[2],D=k[3],S=Object(n.useMemo)((function(){return m?Object(T.jsx)(T.Fragment,{children:m.schedules.map((function(e,t){return Object(T.jsx)(yr,{rangeToggle:i,dataDialogHook:a,schedule:e,events:e.eventsIndex.map((function(e){return e.map((function(e){return m.events[e]}))})),onClickCallback:C,keyLabel:Object(_a.default)(e.date,"yyyy/MM/dd (E)",{locale:null===d||void 0===d?void 0:d.locale}),keyValue:e.date.toString(),onTitleClick:o},t)}))}):Object(T.jsx)(T.Fragment,{})}),[m,a,C,null===d||void 0===d?void 0:d.locale,o,i]);return h?Object(T.jsx)("div",{children:s("common.msg.fetch-failed")}):Object(T.jsxs)(qn,{currentRow:w,dataDialogHook:a,isLoading:O,reload:f,onRecConfClose:D,children:[Object(T.jsx)(Nr,{rangeToggle:i,onChangeRangeToggle:c}),S]})}var Rr=a(451),Er=a(650),Fr=a(651),Pr=a(157);function Br(e){var t=e.data,a=e.tabPanelContent,r=e.selected,i=Object(n.useState)(!1),c=Object(g.a)(i,2),o=c[0],s=c[1];Object(n.useEffect)((function(){return s(!0)}),[]);var l=Object(n.useState)(""),d=Object(g.a)(l,2),u=d[0],j=d[1];Object(n.useEffect)((function(){j(r||t[0].id)}),[t,r]),Object(n.useEffect)((function(){$()||U("tabValue",u)}),[u]);var b=function(e,t){j(t)},m=Object(n.useMemo)((function(){return Object(T.jsx)(Er.a,{indicatorColor:"primary",textColor:"primary",variant:"scrollable",onChange:b,"aria-label":"view tabs",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(T.jsx)(Rr.a,{label:e.name,value:"".concat(e.id)},"tab-".concat(t))}))})}),[t]),p=Object(n.useMemo)((function(){return Object(T.jsx)(T.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(T.jsx)(Fr.a,{value:"".concat(e.id),children:Object(n.cloneElement)(a,{tabKey:e.id})},"tab-panel-".concat(t))}))})}),[t,a]);return o?Object(T.jsxs)(Pr.a,{value:u,children:[Object(T.jsx)(pe.a,{position:"static",color:"default",children:m}),p]}):Object(T.jsx)(T.Fragment,{})}function Vr(e){var t=e.tabPanelContent,a=e.selected,r=Object(p.h)(),i=Ge("",[]),c=Object(g.a)(i,3),o=c[0].data,s=c[2];return Object(n.useEffect)((function(){s("/category/choices?location=".concat(r.params.location,"&tab=byroom"))}),[r.params.location,s]),Object(T.jsx)(T.Fragment,{children:!!(null===o||void 0===o?void 0:o.length)&&Object(T.jsx)(Br,{data:o,tabPanelContent:t,selected:a})})}function Lr(e){var t=e.tabPanelContent,a=e.selected,r=Object(p.h)(),i=Ge("",[]),c=Object(g.a)(i,3),o=c[0].data,s=c[2];return Object(n.useEffect)((function(){s("/room/choices?location=".concat(r.params.location,"&samecategory=").concat(a))}),[r.params.location,a,s]),Object(T.jsx)(T.Fragment,{children:!!(null===o||void 0===o?void 0:o.length)&&Object(T.jsx)(Br,{data:o,tabPanelContent:t,selected:a})})}var Ar=function(e,t){switch(t.type){case"default":return{weekly:!1,changeTab:t.changeTab,titleLabel:"main.byroom.title",subtitleLabel:"main.byroom.subtitle"};case"weekly":return{weekly:!0,changeTab:t.changeTab,titleLabel:"main.byroom-weekly.title",subtitleLabel:"main.byroom-weekly.subtitle"};default:return e}};function Wr(){var e=Object(x.a)().t,t=et(),a=Object(g.a)(t,6),r=a[0],i=a[1],c=a[2],o=a[3],s=a[4],l=a[5],d=Object(n.useReducer)(Hn,{mode:"addData",inputOpen:!1,readOpen:!1}),u=Object(g.a)(d,2),j=u[0],b=u[1],m=Object(n.useReducer)(Ar,{weekly:!1,changeTab:void 0,titleLabel:"main.byroom.title",subtitleLabel:"main.byroom.subtitle"}),p=Object(g.a)(m,2),O=p[0],h=p[1],f=Object(n.useState)("short"),v=Object(g.a)(f,2),y=v[0],k=v[1];Object(n.useEffect)((function(){$()&&(i(new Date(Number(J("selectedDate")))),h({type:J("weekly")?"weekly":"default",changeTab:J("tabValue")}),Z())}),[]),Object(n.useEffect)((function(){$()||U("weekly",O.weekly?"1":"")}),[O.weekly]);var w=function(e){k(e)};return Object(T.jsx)(_e,{children:Object(T.jsxs)(ue.a,{square:!0,children:[Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(ir,{title:e(O.titleLabel),subtitle:e(O.subtitleLabel),date:r,onDateChange:c,onDatePrev:o,onDateNext:s,dispatch:b})}),!O.weekly&&Object(T.jsx)(Vr,{tabPanelContent:Object(T.jsx)(Mr,{currentDate:r,dataDialogHook:{state:j,dispatch:b},tabKey:"dummyId",rangeToggle:y,onChangeRangeToggle:w,onTitleClick:function(e,t,a){i(new Date(e)),l(!0),h({type:"weekly",changeTab:a})}}),selected:O.changeTab}),O.weekly&&Object(T.jsx)(Lr,{tabPanelContent:Object(T.jsx)(Ir,{currentDate:r,dataDialogHook:{state:j,dispatch:b},tabKey:"dummyId",rangeToggle:y,onChangeRangeToggle:w,onTitleClick:function(e,t,a){i(new Date(e)),l(!1),h({type:"default",changeTab:t})}}),selected:O.changeTab})]})})}var Hr=a(437),qr=a.n(Hr),zr=a(434),Yr=a.n(zr),Kr=Wt(),Ur=Object(M.a)({checkAction:{textAlign:"center",marginBottom:"10px","& Button":{margin:"0 5%",width:"40%"}}});function Jr(e){var t=e.open,a=e.onClose,r=e.data,i=e.reload,c=Object(x.a)().t,o=Kr(),s=Ur(),l=Object(n.useContext)(Xa.b),d=Object(n.useContext)(ce),u=Object(qt.d)({reValidateMode:"onSubmit"}),j=u.register,b=u.handleSubmit,m=u.setValue,p=u.reset,O=u.formState,g=O.errors,v=O.isSubmitting,y=O.dirtyFields;Object(n.useEffect)((function(){t?p({id:r.visitorId,iCalUId:r.iCalUId,seriesMasterId:r.seriesMasterId,checkIn:r.checkIn,checkOut:r.checkOut,visitorCardNumber:r.visitorCardNumber}):p()}),[r,t,p]);var k=function(){return Object(_a.default)(new Date,"yyyy/MM/dd HH:mm:ss",{locale:null===l||void 0===l?void 0:l.locale})},D=function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,aa("/front/".concat(t.mode),{inputs:t,dirtyFields:y});case 3:if(!e.sent.success){e.next=11;break}return e.next=7,i();case 7:a(),d.dispatch({type:"success",message:c("common.msg.update-success")}),e.next=12;break;case 11:d.dispatch({type:"error",message:c("common.msg.update-failed")});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),d.dispatch({type:"error",message:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(F,{open:v}),Object(T.jsxs)(Ca,{open:t,onClose:a,title:c("visitdialog.title"),children:[Object(T.jsx)(C.a,{p:2,children:Object(T.jsxs)("form",{children:[Object(T.jsxs)("div",{className:s.checkAction,children:[Object(T.jsx)(w.a,{onClick:function(){m("mode","checkin"),m("checkIn",k(),{shouldDirty:!0}),b(D)()},variant:"contained",color:"secondary",disabled:!!r.checkOut,children:c("visitdialog.button.check-in")}),Object(T.jsx)(w.a,{onClick:function(){m("mode","checkout"),m("checkOut",k(),{shouldDirty:!0}),b(D)()},variant:"contained",color:"secondary",disabled:!r.checkIn,children:c("visitdialog.button.check-out")})]}),Object(T.jsx)("div",{children:Object(T.jsx)(Yt.a,Object(ee.a)(Object(ee.a)({margin:"normal",fullWidth:!0,autoComplete:"off",color:"secondary",id:"visitorCardNumber",label:c("visitdialog.form.visitor-card-number"),autoFocus:!0},j("visitorCardNumber",{})),{},{error:!!g.visitorCardNumber,helperText:g.visitorCardNumber&&g.visitorCardNumber.message}))})]})}),Object(T.jsx)(C.a,{px:2,pt:2,children:Object(T.jsxs)(he.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:o.list,children:[Object(T.jsx)("div",{className:o.title,children:c("visittable.header.appt-time")}),Object(T.jsx)("div",{className:o.field,children:r.apptTime})]},"app-time"),Object(T.jsxs)("li",{className:o.list,children:[Object(T.jsx)("div",{className:o.title,children:c("visittable.header.check-in")}),Object(T.jsx)("div",{className:o.field,children:r.checkIn})]},"check-in"),Object(T.jsxs)("li",{className:o.list,children:[Object(T.jsx)("div",{className:o.title,children:c("visittable.header.check-out")}),Object(T.jsx)("div",{className:o.field,children:r.checkOut})]},"check-out"),Object(T.jsxs)("li",{className:o.list,children:[Object(T.jsxs)("div",{className:o.title,children:[c("visittable.header.visit-company-name")," /",Object(T.jsx)("br",{}),c("visittable.header.visit-company-rep")]}),Object(T.jsx)("div",{className:o.field,children:r.visitCompany.map((function(e,t){return Object(T.jsxs)(T.Fragment,{children:[!!t&&Object(T.jsx)("br",{}),Object(T.jsx)("span",{children:"".concat(e.name," / ").concat(e.rep)})]})}))})]},"visit-company"),Object(T.jsxs)("li",{className:o.list,children:[Object(T.jsx)("div",{className:o.title,children:c("visittable.header.number-of-visitor")}),Object(T.jsx)("div",{className:o.field,style:{flexBasis:"25%",borderRight:"none"},children:r.numberOfVisitor}),Object(T.jsx)("div",{className:o.title,style:{flexBasis:"25%",borderLeft:"none"},children:c("visittable.header.number-of-employee")}),Object(T.jsx)("div",{className:o.field,style:{flexBasis:"25%"},children:r.numberOfEmployee})]},"number-of-visitor")]})}),Object(T.jsx)(C.a,{px:2,pt:2,children:Object(T.jsx)(he.a,{disablePadding:!0,children:Object(T.jsxs)("li",{className:o.list,children:[Object(T.jsx)("div",{className:o.title,children:c("visittable.header.comment")}),Object(T.jsx)("div",{className:o.field,children:r.comment})]},"comment")})}),Object.keys(r.resourcies).map((function(e){return Object(T.jsx)(Ka,{data:r.resourcies[e]},e)})),Object(T.jsx)(C.a,{px:2,pt:2,children:Object(T.jsxs)(he.a,{disablePadding:!0,children:[Object(T.jsxs)("li",{className:o.list,children:[Object(T.jsx)("div",{className:o.title,children:c("visittable.header.reservation-name")}),Object(T.jsx)("div",{className:o.field,children:r.reservationName})]},"reservation-name"),Object(T.jsxs)("li",{className:o.list,children:[Object(T.jsx)("div",{className:o.title,children:c("visittable.header.contact-addr")}),Object(T.jsx)("div",{className:o.field,children:r.contactAddr})]},"contact-addr")]})}),Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(he.a,{disablePadding:!0,children:Object(T.jsxs)("li",{className:o.list,children:[Object(T.jsx)("div",{className:o.title,children:c("visitdialog.header.last-updated")}),Object(T.jsx)("div",{className:o.field,children:Object(T.jsx)(Qa,{datetime:r.lastUpdated})})]},"datetime")})})]})]})}var Gr=Bt(!0),$r=function(e){return e.visitCompany.map((function(e){return"".concat(e.name," / ").concat(e.rep)})).join(", ")};function Zr(e){var t=e.currentDate,a=e.dataDialogHook,r=Object(x.a)().t,i=Gr(),c=Object(p.h)(),o=Ge("",[]),s=Object(g.a)(o,3),l=s[0],d=l.data,u=l.isLoading,j=l.isError,b=s[1],m=s[2];Object(n.useEffect)((function(){m("/front/visitlist?timestamp=".concat(t.getTime(),"&location=").concat(c.params.location))}),[t,c.params.location,m]);var O=Object(n.useState)(!1),v=Object(g.a)(O,2),y=v[0],k=v[1],w=Et({dataDialogHook:a}),C=Object(g.a)(w,4),D=C[0].currentRow,S=C[2],N=C[3],M=Object(n.useState)(null),I=Object(g.a)(M,2),R=I[0],E=I[1],F=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=[{title:r("visittable.header.appt-time"),field:"apptTime",render:function(e){return e.apptTime.split(" ")[1]},width:"95px"},{title:r("visittable.header.room-name"),field:"roomName"},{title:r("visittable.header.number-of-people"),field:"teaSupply",render:function(e){var t=Object.keys(e.resourcies)[0],a="".concat(r("visitdialog.view.tea-supply.number-of-tea-supply"),":").concat(e.resourcies[t].numberOfTeaSupply),n="".concat(r("visitdialog.view.tea-supply.number-of-visitor"),":").concat(e.numberOfVisitor),i="".concat(r("visitdialog.view.tea-supply.number-of-employee"),":").concat(e.numberOfEmployee);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("span",{style:e.resourcies[t].teaSupply?{color:"red"}:void 0,children:a}),Object(T.jsx)("br",{}),n,Object(T.jsx)("br",{}),i]})},customSort:function(e,t){var a=Object.keys(e.resourcies)[0],n=Object.keys(t.resourcies)[0];return e.resourcies[a].numberOfTeaSupply-t.resourcies[n].numberOfTeaSupply},width:"70px"},{title:"".concat(r("visittable.header.visit-company-name")," / ").concat(r("visittable.header.visit-company-rep")),field:"visitCompany",render:function(e){return e.visitCompany.map((function(e,t){return Object(T.jsxs)(T.Fragment,{children:[!!t&&Object(T.jsx)("br",{}),Object(T.jsx)("span",{children:"".concat(e.name," / ").concat(e.rep)})]})}))},customSort:function(e,t){return $r(e)<$r(t)?-1:1}},{title:r("visittable.header.check-in"),field:"checkIn",render:function(e){return e.checkIn?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("span",{children:"\u2713"}),Object(T.jsx)("br",{}),Object(T.jsx)("span",{children:e.visitorCardNumber})]}):Object(T.jsx)("span",{})},width:"70px"},{title:r("visittable.header.check-out"),field:"checkOut",render:function(e){return e.checkOut?Object(T.jsx)("span",{children:"\u2713"}):Object(T.jsx)("span",{})},width:"50px"},{title:"".concat(r("visittable.header.reservation-name")," / ").concat(r("visittable.header.contact-addr")),field:"reservationName",render:function(e){return Object(T.jsxs)(T.Fragment,{children:[e.reservationName,Object(T.jsx)("br",{}),e.contactAddr]})}},{title:"".concat(r("visittable.header.tea-details")," / ").concat(r("visittable.header.comment")),field:"comment",render:function(e){var t=Object.keys(e.resourcies)[0],a=e.resourcies[t].teaDetails?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("span",{style:{color:"red"},children:e.resourcies[t].teaDetails}),Object(T.jsx)("br",{})]}):void 0;return Object(T.jsxs)(T.Fragment,{children:[a,e.comment]})},width:"70%"}];return j?Object(T.jsx)("div",{children:r("common.msg.fetch-failed")}):Object(T.jsxs)(qn,{currentRow:D,dataDialogHook:a,isLoading:u,reload:b,onRecConfClose:N,children:[Object(T.jsx)(at.a,{columns:P,components:{Cell:function(e){return Object(T.jsx)(tt.MTableCell,Object(ee.a)(Object(ee.a)({},e),{},{className:Vt(e.columnDef.field,e.rowData,i)}))}},data:d,onRowClick:function(e,t){return!!t&&function(e){k(!0),E(e)}(t)},actions:[{icon:function(){return Object(T.jsx)(Yr.a,{})},tooltip:r("visittable.header.edit-action"),onClick:function(e,t){return!!t&&S(t)}}],localization:{header:{actions:""}},options:Object(ee.a)({showTitle:!1,toolbar:!1,search:!1,headerStyle:{backgroundColor:At.palette.primary.light,padding:Pt},tableLayout:"fixed"},Rt),icons:It}),R&&Object(T.jsx)(Jr,{open:y,onClose:F,data:R,reload:b})]})}var Xr=a(652),_r=a(435),Qr=a(436),ei=a.n(Qr),ti=Object(M.a)({keyboardDatePicker:{"& .MuiOutlinedInput-adornedEnd":{paddingRight:0}},between:{textAlign:"center"}}),ai=["apptTime","roomName","teaSupply","numberOfTeaSupply","teaDetails","numberOfVisitor","numberOfEmployee","visitCompany","checkIn","visitorCardNumber","checkOut","reservationName","contactAddr","subject","comment"];function ni(e){var t=e.open,a=e.onClose,r=Object(x.a)().t,i=ti(),c=Object(p.h)(),o=Object(n.useContext)(ce),s=Object(n.useRef)(null),l=Object(n.useState)([]),d=Object(g.a)(l,2),u=d[0],j=d[1],b=Object(n.useMemo)((function(){return{location:c.params.location,startDate:new Date,endDate:Object(Xr.a)(new Date,1)}}),[c.params.location]),m=Object(qt.d)({defaultValues:b,reValidateMode:"onSubmit"}),O=m.control,v=m.getValues,y=m.handleSubmit,k=m.reset,D=m.setValue,S=m.formState,N=S.errors,M=S.isSubmitting,I=S.dirtyFields;Object(n.useEffect)((function(){t&&k(b)}),[b,t,k]);var R=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(B)();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=ai.map((function(e){return{label:r("export-csv.file.header.".concat(_t.a.kebabCase(e))),key:e}})),P="visitor-".concat(Object(_a.default)(v("startDate"),"yyyyMMdd"),"-").concat(Object(_a.default)(v("endDate"),"yyyyMMdd"),".csv"),B=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,aa("/front/export",{inputs:t,dirtyFields:I});case 3:(a=e.sent).success?a.value&&(i=a.value.map((function(e){var t=Object.keys(e.resourcies)[0];return{apptTime:e.apptTime,roomName:e.roomName,teaSupply:e.resourcies[t].teaSupply?r("export-csv.file.tea-supply-yes"):r("export-csv.file.tea-supply-no"),numberOfTeaSupply:e.resourcies[t].numberOfTeaSupply.toString(),teaDetails:e.resourcies[t].teaDetails,numberOfVisitor:e.numberOfVisitor.toString(),numberOfEmployee:e.numberOfEmployee.toString(),visitCompany:e.visitCompany.map((function(e){return"".concat(e.name," / ").concat(e.rep)})).join(", "),checkIn:e.checkIn,visitorCardNumber:e.visitorCardNumber,checkOut:e.checkOut,reservationName:e.reservationName,contactAddr:e.contactAddr,subject:e.subject,comment:e.comment}})),j(i),null===s||void 0===s||null===(n=s.current)||void 0===n||n.link.click(),o.dispatch({type:"success",message:r("export-csv.msg.export-success")})):o.dispatch({type:"error",message:r("export-csv.msg.export-failed")}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o.dispatch({type:"error",message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),V=function(e){return Object(T.jsx)(qt.a,{name:"".concat(e,"Date"),control:O,rules:{required:r("common.form.required"),validate:function(){return Object(tn.a)(v("startDate")).getTime()<=Object(tn.a)(v("endDate")).getTime()||r("export-csv.form.error.event-time")}},render:function(t){var a=t.field;return Object(T.jsx)(mn.b,Object(ee.a)(Object(ee.a)({},a),{},{onChange:function(t){a.onChange(t),"start"===e&&function(){var e=Object(Xr.a)(v("startDate"),1);D("endDate",e,{shouldDirty:!0})}()},format:"yyyy/MM/dd",label:r("export-csv.".concat(e,"-date")),showTodayButton:!0,KeyboardButtonProps:{"aria-label":"change date"},size:"small",className:i.keyboardDatePicker,error:!!N["".concat(e,"Date")],helperText:N["".concat(e,"Date")]&&N["".concat(e,"Date")].message}))}})};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(F,{open:M}),Object(T.jsxs)(Ca,{open:t,onClose:a,title:r("export-csv.title"),children:[Object(T.jsxs)("form",{children:[Object(T.jsx)(C.a,{px:2,pt:2,children:Object(T.jsxs)(zt.a,{container:!0,justifyContent:"center",alignItems:"center",children:[Object(T.jsx)(zt.a,{container:!0,item:!0,xs:12,sm:4,children:V("start")}),Object(T.jsx)(zt.a,{item:!0,xs:12,sm:4,className:i.between,children:Object(T.jsx)(ei.a,{})}),Object(T.jsx)(zt.a,{container:!0,item:!0,xs:12,sm:4,children:V("end")})]})}),Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(w.a,{onClick:R,variant:"contained",color:"primary",fullWidth:!0,children:r("export-csv.button.export-csv")})})]}),Object(T.jsx)(_r.CSVLink,{style:{display:"none"},data:u,headers:E,filename:P,ref:s,children:"Export Trigger"})]})]})}function ri(){var e=Object(x.a)().t,t=et(),a=Object(g.a)(t,5),r=a[0],i=a[1],c=a[2],o=a[3],s=a[4],l=Object(n.useReducer)(Hn,{mode:"addData",inputOpen:!1,readOpen:!1}),d=Object(g.a)(l,2),u=d[0],j=d[1],b=Object(n.useState)(!1),m=Object(g.a)(b,2),p=m[0],O=m[1];Object(n.useEffect)((function(){$()&&(i(new Date(Number(J("selectedDate")))),Z())}),[]);var h=Object(T.jsx)(w.a,{variant:"contained",startIcon:Object(T.jsx)(qr.a,{}),onClick:function(){O(!0)},children:e("main.header.export-csv")});return Object(T.jsxs)(_e,{frontMode:!0,children:[Object(T.jsxs)(ue.a,{square:!0,children:[Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(ir,{title:e("main.front.title"),subtitle:e("main.front.subtitle"),date:r,onDateChange:c,onDatePrev:o,onDateNext:s,dispatch:j,actionButtons:[h]})}),Object(T.jsx)(C.a,{px:2,pb:2,children:Object(T.jsx)(Zr,{currentDate:r,dataDialogHook:{state:u,dispatch:j}})})]}),Object(T.jsx)(ni,{open:p,onClose:function(){O(!1)}})]})}var ii=Object(M.a)((function(e){return Object(be.a)({formAction:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},note:{color:"red",fontSize:"0.9em",margin:0}})})),ci=Object(s.b)({palette:{primary:{main:u.main},secondary:{main:Lt.a[300]}},props:{MuiTextField:{variant:"outlined",margin:"dense",fullWidth:!0,minRows:4}}});function oi(e){var t=e.inputFields,a=e.open,r=e.onClose,i=e.data,c=e.reload,s=Object(x.a)().t,l=ii(),d=Object(n.useContext)(ce),u=Object(n.useState)(!1),j=Object(g.a)(u,2),b=j[0],m=j[1],p=Object(qt.d)({defaultValues:Object(ee.a)({},t.defaultValues),reValidateMode:"onSubmit"}),O=p.handleSubmit,v=p.reset,y=p.setValue,k=p.setError,D=p.formState,S=D.isDirty,N=D.isSubmitting,M=D.dirtyFields;Object(n.useEffect)((function(){if(a&&i){var e=Object.keys(t.defaultValues).reduce((function(e,t){return"mode"===t?e.mode="upd":e[t]=i[t],e}),{});v(_t.a.cloneDeep(e))}else v(_t.a.cloneDeep(t.defaultValues))}),[i,t,a,v]);var I=function(){var e=Object(f.a)(h.a.mark((function e(a){var n,i,o,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n="",e.t0=a.mode,e.next="ins"===e.t0?5:"upd"===e.t0?7:"del"===e.t0?9:11;break;case 5:return n="/".concat(t.type,"/create"),e.abrupt("break",11);case 7:return n="/".concat(t.type,"/update"),e.abrupt("break",11);case 9:return n="/".concat(t.type,"/delete"),e.abrupt("break",11);case 11:return e.next=13,aa(n,{inputs:a,dirtyFields:M});case 13:if(!(i=e.sent).success){e.next=27;break}if("del"!==a.mode){e.next=18;break}return e.next=18,new Promise((function(e){return setTimeout(e,1e3)}));case 18:return e.next=20,c();case 20:if(r(),d.dispatch({type:"success",message:s("common.msg.update-success")}),"role"!==t.type&&"location"!==t.type){e.next=25;break}return e.next=25,new Promise((function(){return setTimeout((function(){d.dispatch({type:"warning",message:s("common.msg.prompt-logout")})}),1500)}));case 25:e.next=28;break;case 27:if(i.errors)for(l in o=i.errors)k(u=l,{message:s(o[u][0])});case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(0),d.dispatch({type:"error",message:e.t1.message});case 33:case"end":return e.stop()}}),e,null,[[0,30]])})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(F,{open:N}),Object(T.jsx)(Ca,{open:a,onClose:r,title:s("settings.title.".concat(t.type)),children:Object(T.jsx)(o.a,{theme:ci,children:Object(T.jsx)(qt.b,Object(ee.a)(Object(ee.a)({},p),{},{children:Object(T.jsxs)("form",{children:[Object(T.jsx)(C.a,{p:2,children:t.item}),Object(T.jsx)(C.a,{px:2,children:Object(T.jsxs)(zt.a,{container:!0,justifyContent:"space-between",spacing:2,className:l.formAction,children:[Object(T.jsx)(zt.a,{item:!0,xs:i?6:12,children:Object(T.jsx)(w.a,{onClick:function(){O(I)()},variant:"contained",color:"primary",disabled:!S,startIcon:Object(T.jsx)(Gt.a,{}),fullWidth:!0,children:s("common.button.save")})}),Object(T.jsx)(zt.a,{item:!0,xs:6,style:i?void 0:{display:"none"},children:Object(T.jsx)(w.a,{onClick:function(){m(!0)},variant:"contained",color:"primary",startIcon:Object(T.jsx)(Ut.a,{}),fullWidth:!0,children:s("common.button.delete")})})]})})]})}))})}),Object(T.jsx)(La,{open:b,onClose:function(e){m(!1),e&&(y("mode","del"),O(I)())},message:s("common.msg.delete-confirm"),color:"secondary"})]})}var si=function(e,t){switch(t.type){case"inputOpen":return{mode:"rowData",inputOpen:!0};case"addDataOpen":return{mode:"addData",inputOpen:!0};case"inputClose":return Object(ee.a)(Object(ee.a)({},e),{},{inputOpen:!1});default:return e}};function li(e){var t=e.inputFields,a=e.dataDialogHook,n=e.isLoading,r=e.reload,i=e.currentRow,c=e.children,s=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.dispatch({type:"inputClose"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(o.a,{theme:At,children:[Object(T.jsx)(F,{open:n}),c,Object(T.jsx)(oi,{inputFields:t,open:a.state.inputOpen,onClose:s,data:"addData"===a.state.mode?null:i,reload:r})]})}function di(e){var t=e.inputFields,a=e.columns,r=e.dataDialogHook,i=Object(x.a)().t,c=Ge("",[]),o=Object(g.a)(c,3),s=o[0],l=s.data,d=s.isLoading,u=s.isError,j=o[1],b=o[2];Object(n.useEffect)((function(){b("/".concat(t.type,"/list"))}),[t.type,b]);var m=Object(n.useState)(null),p=Object(g.a)(m,2),O=p[0],h=p[1],f=Object(n.useCallback)((function(e){r.dispatch({type:"inputOpen"}),h(e)}),[r]);return u?Object(T.jsx)("div",{children:i("common.msg.fetch-failed")}):Object(T.jsx)(li,{inputFields:t,currentRow:O,dataDialogHook:r,isLoading:d,reload:j,children:Object(T.jsx)(at.a,{columns:a,data:l,onRowClick:function(e,t){return!!t&&f(t)},options:Object(ee.a)({showTitle:!1,toolbar:!1,search:!1,headerStyle:{backgroundColor:At.palette.primary.light},tableLayout:"fixed"},Rt),icons:It})})}var ui=Object(M.a)((function(){return{actionButtonArea:{textAlign:"right",margin:"auto"}}}));function ji(e){var t=e.master,a=e.dispatch,n=Object(x.a)().t,r=ui();return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(zt.a,{container:!0,alignItems:"stretch",justifyContent:"space-between",children:[Object(T.jsx)(zt.a,{container:!0,item:!0,xs:12,sm:9,children:Object(T.jsx)(k.a,{component:"h1",variant:"h6",children:n("settings.title.".concat(t))})}),Object(T.jsx)(zt.a,{item:!0,xs:12,sm:3,className:r.actionButtonArea,children:Object(T.jsx)(w.a,{variant:"contained",color:"secondary",startIcon:Object(T.jsx)(Qn.a,{}),onClick:function(e){a({type:"addDataOpen"})},children:n("settings.add-master")})})]})})}var bi=["admin","front"];function mi(){var e=Object(qt.e)(),t=e.control,a=e.formState.errors,n=Object(x.a)().t;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(ra,{name:"name",control:t,label:n("settings.header.role.name"),required:!0,selectList:bi.map((function(e){return{label:n("settings.view.role.name.".concat(e)),value:e}})),errors:a}),Object(T.jsx)(ga,{name:"members",control:t,label:n("settings.header.role.members"),errors:a})]})}function pi(){var e=Object(x.a)().t,t=Object(n.useReducer)(si,{mode:"addData",inputOpen:!1}),a=Object(g.a)(t,2),r=a[0],i=a[1],c=[{title:e("settings.header.role.name"),field:"name",render:function(t){return e("settings.view.role.name.".concat(t.name))}}];return Object(T.jsx)(_e,{adminMode:!0,menuOpen:!0,children:Object(T.jsxs)(ue.a,{square:!0,children:[Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(ji,{master:"role",dispatch:i})}),Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(di,{inputFields:{type:"role",item:Object(T.jsx)(mi,{}),defaultValues:{mode:"ins",id:"",name:"admin",members:[]}},columns:c,dataDialogHook:{state:r,dispatch:i}})})]})})}function Oi(){var e=Object(qt.e)(),t=e.control,a=e.formState.errors,n=Object(x.a)().t;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(ra,{name:"name",control:t,label:n("settings.header.location.name"),required:!0,errors:a}),Object(T.jsx)(ra,{name:"url",control:t,label:n("settings.header.location.url"),required:!0,validation:{pattern:{value:/^[a-z0-9]+$/,message:n("settings.form.location.error.url.pattern")}},errors:a}),Object(T.jsx)(ra,{name:"sort",control:t,label:n("settings.header.location.sort"),errors:a})]})}function hi(){var e=Object(x.a)().t,t=Object(n.useReducer)(si,{mode:"addData",inputOpen:!1}),a=Object(g.a)(t,2),r=a[0],i=a[1],c=[{title:e("settings.header.location.name"),field:"name"},{title:e("settings.header.location.url"),field:"url"},{title:e("settings.header.location.sort"),field:"sort"}];return Object(T.jsx)(_e,{adminMode:!0,menuOpen:!0,children:Object(T.jsxs)(ue.a,{square:!0,children:[Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(ji,{master:"location",dispatch:i})}),Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(di,{inputFields:{type:"location",item:Object(T.jsx)(Oi,{}),defaultValues:{mode:"ins",id:"",name:"",url:"",sort:""}},columns:c,dataDialogHook:{state:r,dispatch:i}})})]})})}function fi(){var e=Object(qt.e)(),t=e.control,a=e.setValue,r=e.formState.errors,i=Object(x.a)().t,c=Object(qt.f)({control:t,name:"limitedPublic"}),o=Object(n.useState)(!1),s=Object(g.a)(o,2),l=s[0],d=s[1];return Object(n.useEffect)((function(){d(c),c||a("members",[],{shouldDirty:!0})}),[c,a]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(ra,{name:"name",control:t,label:i("settings.header.category.name"),required:!0,errors:r}),Object(T.jsx)(ra,{name:"sort",control:t,label:i("settings.header.category.sort"),errors:r}),Object(T.jsx)(Aa.a,{control:Object(T.jsx)(qt.a,{name:"limitedPublic",control:t,render:function(e){var t=e.field;return Object(T.jsx)(Wa.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary"})}}),label:i("settings.header.category.limited-public")}),Object(T.jsx)(ga,{name:"members",control:t,label:i("settings.header.category.members"),errors:r,style:l?void 0:{display:"none"}}),Object(T.jsx)(Aa.a,{control:Object(T.jsx)(qt.a,{name:"disabledByRoom",control:t,render:function(e){var t=e.field;return Object(T.jsx)(Wa.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary"})}}),label:i("settings.header.category.disabled-by-room")})]})}function gi(){var e=Object(x.a)().t,t=Object(n.useReducer)(si,{mode:"addData",inputOpen:!1}),a=Object(g.a)(t,2),r=a[0],i=a[1],c=[{title:e("settings.header.category.name"),field:"name"},{title:e("settings.header.category.sort"),field:"sort"},{title:e("settings.header.category.limited-public"),field:"limitedPublic",type:"boolean"},{title:e("settings.header.category.disabled-by-room"),field:"disabledByRoom",type:"boolean"}];return Object(T.jsx)(_e,{adminMode:!0,menuOpen:!0,children:Object(T.jsxs)(ue.a,{square:!0,children:[Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(ji,{master:"category",dispatch:i})}),Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(di,{inputFields:{type:"category",item:Object(T.jsx)(fi,{}),defaultValues:{mode:"ins",id:"",name:"",sort:"",limitedPublic:!1,members:[],disabledByRoom:!1}},columns:c,dataDialogHook:{state:r,dispatch:i}})})]})})}function xi(e){var t=e.locations,a=e.categories,r=Object(qt.e)(),i=r.control,c=r.setValue,o=r.formState.errors,s=Object(x.a)().t,l=Object(n.useState)(!1),d=Object(g.a)(l,2),u=d[0],j=d[1],b=Object(qt.f)({control:i,name:"type"});Object(n.useEffect)((function(){"free"===b?(c("teaSupply",{outside:!1,inside:!1},{shouldDirty:!0}),j(!0)):j(!1)}),[c,b]);var m=Object(qt.f)({control:i,name:"usageRange"});return Object(n.useEffect)((function(){switch(m){case"outside":c("teaSupply.inside",!1,{shouldDirty:!0});break;case"inside":c("teaSupply.outside",!1,{shouldDirty:!0})}}),[c,m]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(ra,{name:"name",control:i,label:s("settings.header.room.name"),required:!0,errors:o}),Object(T.jsx)(ra,{name:"email",control:i,label:s("settings.header.room.email"),required:!0,validation:{pattern:{value:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:s("settings.form.room.error.email.pattern")}},errors:o}),Object(T.jsx)(ra,{name:"sort",control:i,label:s("settings.header.room.sort"),errors:o}),Object(T.jsx)(ra,{name:"usageRange",control:i,label:s("settings.header.room.usage-range"),required:!0,selectList:ta.map((function(e){return{label:s("settings.view.room.usage-range.".concat(e)),value:e}})),errors:o}),Object(T.jsx)(ra,{name:"type",control:i,label:s("settings.header.room.type"),required:!0,selectList:Qt.map((function(e){return{label:s("settings.view.room.type.".concat(e)),value:e}})),errors:o}),Object(T.jsxs)(zt.a,{container:!0,style:u?{display:"none"}:void 0,children:[Object(T.jsx)(zt.a,{item:!0,children:Object(T.jsx)(Aa.a,{control:Object(T.jsx)(qt.a,{name:"teaSupply.outside",control:i,render:function(e){var t=e.field;return Object(T.jsx)(Wa.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary",disabled:u})}}),label:s("settings.header.room.tea-supply.outside"),style:"inside"===m?{display:"none"}:void 0})}),Object(T.jsx)(zt.a,{item:!0,children:Object(T.jsx)(Aa.a,{control:Object(T.jsx)(qt.a,{name:"teaSupply.inside",control:i,render:function(e){var t=e.field;return Object(T.jsx)(Wa.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary",disabled:u})}}),label:s("settings.header.room.tea-supply.inside"),style:"outside"===m?{display:"none"}:void 0})})]}),Object(T.jsx)(ra,{name:"location",control:i,label:s("settings.header.room.location"),required:!0,selectList:null===t||void 0===t?void 0:t.map((function(e){return{label:e.name,value:e.id}})),errors:o}),Object(T.jsx)(ra,{name:"category",control:i,label:s("settings.header.room.category"),required:!0,selectList:null===a||void 0===a?void 0:a.map((function(e){return{label:e.name,value:e.id}})),errors:o}),Object(T.jsx)(ra,{name:"comment",control:i,label:s("settings.header.room.comment"),multiline:!0,errors:o}),Object(T.jsx)(Aa.a,{control:Object(T.jsx)(qt.a,{name:"cleaningOption",control:i,render:function(e){var t=e.field;return Object(T.jsx)(Wa.a,{onChange:function(e){return t.onChange(e.target.checked)},checked:t.value,color:"primary"})}}),label:s("settings.header.room.cleaning-option")})]})}function vi(){var e=Object(x.a)().t,t=Object(n.useReducer)(si,{mode:"addData",inputOpen:!1}),a=Object(g.a)(t,2),r=a[0],i=a[1],c=Ge("/location/choices",[]),o=Object(g.a)(c,1)[0].data,s=Ge("/category/choices",[]),l=Object(g.a)(s,1)[0].data,d=function(t){return e(t?"settings.view.room.tea-supply-true":"settings.view.room.tea-supply-false")},u=[{title:e("settings.header.room.name"),field:"name"},{title:e("settings.header.room.sort"),field:"sort"},{title:e("settings.header.room.usage-range"),field:"usageRange",render:function(t){return e("settings.view.room.usage-range.".concat(t.usageRange))}},{title:e("settings.header.room.type"),field:"type",render:function(t){return e("settings.view.room.type.".concat(t.type))}},{title:e("settings.header.room.tea-supply"),field:"teaSupply",type:"boolean",sorting:!1,render:function(t){return"none"===t.usageRange?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("span",{children:[e("settings.view.room.tea-supply.outside"),d(t.teaSupply.outside)]}),Object(T.jsx)("br",{}),Object(T.jsxs)("span",{children:[e("settings.view.room.tea-supply.inside"),d(t.teaSupply.inside)]})]}):Object(T.jsx)("span",{children:d(t.teaSupply[t.usageRange])})}},{title:e("settings.header.room.location"),field:"location",render:function(e){var t=null===o||void 0===o?void 0:o.find((function(t){return t.id===e.location}));return null===t||void 0===t?void 0:t.name}},{title:e("settings.header.room.category"),field:"category",render:function(e){var t=null===l||void 0===l?void 0:l.find((function(t){return t.id===e.category}));return null===t||void 0===t?void 0:t.name}},{title:e("settings.header.room.cleaning-option"),field:"cleaningOption",type:"boolean"}];return Object(T.jsx)(_e,{adminMode:!0,menuOpen:!0,children:Object(T.jsxs)(ue.a,{square:!0,children:[Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(ji,{master:"room",dispatch:i})}),Object(T.jsx)(C.a,{p:2,children:Object(T.jsx)(di,{inputFields:{type:"room",item:Object(T.jsx)(xi,{locations:o,categories:l}),defaultValues:{mode:"ins",id:"",name:"",email:"",usageRange:"none",type:"rooms",sort:"",teaSupply:{outside:!1,inside:!1},comment:"",cleaningOption:!1,location:"",category:""}},columns:u,dataDialogHook:{state:r,dispatch:i}})})]})})}function yi(){return Object(T.jsx)(m.a,{children:Object(T.jsxs)(p.d,{children:[Object(T.jsx)(p.b,{exact:!0,path:"/:location?/login",component:Q}),Object(T.jsx)(p.b,{exact:!0,path:"/oauth/redirect",component:le}),Object(T.jsx)(p.b,{exact:!0,path:"/:location/main",component:cr}),Object(T.jsx)(p.b,{exact:!0,path:"/:location/main/byroom",component:Wr}),Object(T.jsx)(p.b,{exact:!0,path:"/:location/front",component:ri}),Object(T.jsx)(p.b,{exact:!0,path:"/:location?/settings/role",component:pi}),Object(T.jsx)(p.b,{exact:!0,path:"/:location?/settings/location",component:hi}),Object(T.jsx)(p.b,{exact:!0,path:"/:location?/settings/category",component:gi}),Object(T.jsx)(p.b,{exact:!0,path:"/:location?/settings/room",component:vi}),Object(T.jsx)(p.a,{from:"/:location?/",to:"/:location?/login"})]})})}var ki=a(438),wi=a(439),Ci=a(443),Di=a(442),Si=a(220),Ti=a(180),Ni=function(e){Object(Ci.a)(a,e);var t=Object(Di.a)(a);function a(){return Object(ki.a)(this,a),t.apply(this,arguments)}return Object(wi.a)(a,[{key:"getCalendarHeaderText",value:function(e){return Object(_a.default)(e,"Yo MMM",{locale:Ti.a})}},{key:"getDatePickerHeaderText",value:function(e){return Object(_a.default)(e,"MMMd\u65e5",{locale:Ti.a})}}]),a}(Si.default);var Mi=function(){return Object(T.jsxs)(o.a,{theme:j,children:[Object(T.jsx)(b.a,{}),Object(T.jsx)(Xa.a,{utils:Ni,locale:Ti.a,children:Object(T.jsx)(yi,{})})]})},Ii=a(440),Ri=a(441),Ei=a(183),Fi={en:{translation:Ii},ja:{translation:Ri}};Ft.a.use(Ei.e).init({lng:"ja",fallbackLng:"ja",interpolation:{escapeValue:!1},react:{useSuspense:!1},resources:Fi});Ft.a;c.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(Mi,{})}),document.getElementById("root"))}},[[601,1,2]]]);
//# sourceMappingURL=main.97154493.chunk.js.map